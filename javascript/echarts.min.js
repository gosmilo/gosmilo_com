/*!
 * Copyright 2013-2020 
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.echarts={})}(this,function(t){"use strict";function I(t){if(null==t||"object"!=typeof t)return t;var e=t,n=$a.call(t);if("[object Array]"===n){if(!b(t)){e=[];for(var i=0,r=t.length;i<r;i++)e[i]=I(t[i])}}else if(Za[n]){if(!b(t)){var o=t.constructor;if(t.constructor.from)e=o.from(t);else{e=new o(t.length);for(i=0,r=t.length;i<r;i++)e[i]=I(t[i])}}}else if(!ja[n]&&!b(t)&&!l(t))for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=I(t[a]));return e}function s(t,e,n){if(!O(e)||!O(t))return n?I(e):t;for(var i in e){var r,o;e.hasOwnProperty(i)&&(r=t[i],!O(o=e[i])||!O(r)||A(o)||A(r)||l(o)||l(r)||a(o)||a(r)||b(o)||b(r)?!n&&i in t||(t[i]=I(e[i])):s(r,o,n))}return t}function D(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function k(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}function d(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function i(t,e){function n(){}var i,r=t.prototype;for(i in n.prototype=e.prototype,t.prototype=new n,r)t.prototype[i]=r[i];(t.prototype.constructor=t).superClass=e}function e(t,e,n){k(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)}function L(t){return t?"string"!=typeof t&&"number"==typeof t.length:void 0}function E(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Qa)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function w(t,e,n){if(t&&e){if(t.map&&t.map===es)return t.map(e,n);for(var i=[],r=0,o=t.length;r<o;r++)i.push(e.call(n,t[r],r,t));return i}}function m(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===ns)return t.reduce(e,n,i);for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}}function h(t,e,n){if(t&&e){if(t.filter&&t.filter===Ja)return t.filter(e,n);for(var i=[],r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}}function y(t,e){var n=ts.call(arguments,2);return function(){return t.apply(e,n.concat(ts.call(arguments)))}}function f(t){var e=ts.call(arguments,1);return function(){return t.apply(this,e.concat(ts.call(arguments)))}}function A(t){return"[object Array]"===$a.call(t)}function p(t){return"function"==typeof t}function P(t){return"[object String]"===$a.call(t)}function O(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function a(t){return ja[$a.call(t)]}function g(t){return Za[$a.call(t)]}function l(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function v(t){return t!=t}function _(){for(var t=0,e=arguments.length;t<e;t++)if(null!=arguments[t])return arguments[t]}function B(t,e){return null!=t?t:e}function R(t,e,n){return null!=t?t:null!=e?e:n}function r(){return Function.call.apply(ts,arguments)}function o(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function u(t,e){if(!t)throw new Error(e)}function c(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function x(t){t[os]=!0}function b(t){return t[os]}function M(t){function e(t,e){n?i.set(t,e):i.set(e,t)}var n=A(t),i=this;t instanceof M?t.each(e):t&&E(t,e)}function z(t){return new M(t)}function S(){}function n(t,e){var n=new as(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function T(t){var e=new as(2);return e[0]=t[0],e[1]=t[1],e}function C(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function N(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function F(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function H(t,e){var n,n=(n=e,Math.sqrt((n=n)[0]*n[0]+n[1]*n[1]));return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function V(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function W(t,e,n){var i=e[0],e=e[1];return t[0]=n[0]*i+n[2]*e+n[4],t[1]=n[1]*i+n[3]*e+n[5],t}function G(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function X(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function Y(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function q(t,e){return{target:t,topTarget:e&&e.topTarget}}function U(){}function j(){var t=new ps(6);return Z(t),t}function Z(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function $(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],e=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=e,t}function K(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function Q(t,e,n){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],e=Math.sin(n),n=Math.cos(n);return t[0]=i*n+a*e,t[1]=-i*e+a*n,t[2]=r*n+s*e,t[3]=-r*e+n*s,t[4]=n*o+e*l,t[5]=n*l-e*o,t}function J(t,e,n){var i=n[0],n=n[1];return t[0]=e[0]*i,t[1]=e[1]*n,t[2]=e[2]*i,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*n,t}function tt(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],e=n*a-o*i;return e?(e=1/e,t[0]=a*e,t[1]=-o*e,t[2]=-i*e,t[3]=n*e,t[4]=(i*s-a*r)*e,t[5]=(o*r-n*s)*e,t):null}function et(t){return 5e-5<t||t<-5e-5}function nt(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function it(t){return(t=Math.round(t))<0?0:255<t?255:t}function rt(t){return it(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function ot(t){return(t=t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))<0?0:1<t?1:t}function at(t,e,n){return n<0?n+=1:1<n&&--n,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function st(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function lt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function ht(t,e){Ds&&lt(Ds,e),Ds=Is.put(t,Ds||e.slice())}function ut(t,e){if(t){e=e||[];var n=Is.get(t);if(n)return lt(e,n);var i,r=(t+="").replace(/ /g,"").toLowerCase();if(r in Cs)return lt(e,Cs[r]),ht(t,e),e;if("#"!==r.charAt(0)){var o=r.indexOf("("),a=r.indexOf(")");if(-1!==o&&a+1===r.length){n=r.substr(0,o),a=r.substr(o+1,a-(o+1)).split(","),o=1;switch(n){case"rgba":if(4!==a.length)return void st(e,0,0,0,1);o=ot(a.pop());case"rgb":return 3!==a.length?void st(e,0,0,0,1):(st(e,rt(a[0]),rt(a[1]),rt(a[2]),o),ht(t,e),e);case"hsla":return 4!==a.length?void st(e,0,0,0,1):(a[3]=ot(a[3]),ct(a,e),ht(t,e),e);case"hsl":return 3!==a.length?void st(e,0,0,0,1):(ct(a,e),ht(t,e),e);default:return}}st(e,0,0,0,1)}else{if(4===r.length)return 0<=(i=parseInt(r.substr(1),16))&&i<=4095?(st(e,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),ht(t,e),e):void st(e,0,0,0,1);if(7===r.length)return 0<=(i=parseInt(r.substr(1),16))&&i<=16777215?(st(e,(16711680&i)>>16,(65280&i)>>8,255&i,1),ht(t,e),e):void st(e,0,0,0,1)}}}function ct(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=ot(t[1]),r=ot(t[2]),i=r<=.5?r*(i+1):r+i-r*i,r=2*r-i;return st(e=e||[],it(255*at(r,i,n+1/3)),it(255*at(r,i,n)),it(255*at(r,i,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function dt(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function ft(t,e){return t[e]}function pt(t,e,n){t[e]=n}function gt(t,e,n){return(e-t)*n+t}function mt(t,e,n){return.5<n?e:t}function vt(t,e,n,i,r){var o=t.length;if(1==r)for(var a=0;a<o;a++)i[a]=gt(t[a],e[a],n);else for(var s=o&&t[0].length,a=0;a<o;a++)for(var l=0;l<s;l++)i[a][l]=gt(t[a][l],e[a][l],n)}function yt(t,e,n){var i=t.length,r=e.length;if(i!==r)if(r<i)t.length=r;else for(var o=i;o<r;o++)t.push(1===n?e[o]:ks.call(e[o]));for(var a=t[0]&&t[0].length,o=0;o<t.length;o++)if(1===n)isNaN(t[o])&&(t[o]=e[o]);else for(var s=0;s<a;s++)isNaN(t[o][s])&&(t[o][s]=e[o][s])}function _t(t,e,n,i,r,o,a,s,l){var h=t.length;if(1==l)for(var u=0;u<h;u++)s[u]=xt(t[u],e[u],n[u],i[u],r,o,a);else for(var c=t[0].length,u=0;u<h;u++)for(var d=0;d<c;d++)s[u][d]=xt(t[u][d],e[u][d],n[u][d],i[u][d],r,o,a)}function xt(t,e,n,i,r,o,a){t=.5*(n-t),i=.5*(i-e);return(2*(e-n)+t+i)*a+(-3*(e-n)-2*t-i)*o+t*r+e}function wt(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function bt(t,e,n,i,o,r){var a,s=t._getter,l=t._setter,h="spline"===e,u=i.length;if(u){var c,d=L(i[0].value),f=!1,p=!1,g=d?L((a=(a=i)[a.length-1].value)&&a[0])?2:1:0;i.sort(function(t,e){return t.time-e.time}),c=i[u-1].time;for(var m=[],v=[],y=i[0].value,_=!0,x=0;x<u;x++){m.push(i[x].time/c);var w,b=i[x].value;d&&function(t,e,n){if(t===e)return 1;var i=t.length;if(i===e.length){if(1===n){for(var r=0;r<i;r++)if(t[r]!==e[r])return}else for(var o=t[0].length,r=0;r<i;r++)for(var a=0;a<o;a++)if(t[r][a]!==e[r][a])return;return 1}}(b,y,g)||!d&&b===y||(_=!1),"string"==typeof(y=b)&&((w=ut(b))?(b=w,f=!0):p=!0),v.push(b)}if(r||!_){for(var M=v[u-1],x=0;x<u-1;x++)d?yt(v[x],M,g):!isNaN(v[x])||isNaN(M)||p||f||(v[x]=M);d&&yt(s(t._target,o),M,g);var S,T,C,I,D,k,A=0,P=0;f&&(k=[0,0,0,0]);n=new nt({target:t._target,life:c,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<P){for(n=Math.min(A+1,u-1);0<=n&&!(m[n]<=e);n--);n=Math.min(n,u-2)}else{for(n=A;n<u&&!(m[n]>e);n++);n=Math.min(n-1,u-2)}P=e;var i,r=m[(A=n)+1]-m[n];if(0!=r)if(S=(e-m[n])/r,h)if(C=v[n],T=v[0===n?n:n-1],I=v[u-2<n?u-1:n+1],D=v[u-3<n?u-1:n+2],d)_t(T,C,I,D,S,S*S,S*S*S,s(t,o),g);else{if(f)i=_t(T,C,I,D,S,S*S,S*S*S,k,1),i=wt(k);else{if(p)return.5<S?I:C;i=xt(T,C,I,D,S,S*S,S*S*S)}l(t,o,i)}else if(d)vt(v[n],v[n+1],S,s(t,o),g);else{if(f)vt(v[n],v[n+1],S,k,1),i=wt(k);else{if(p)return mt(v[n],v[n+1],S);i=gt(v[n],v[n+1],S)}l(t,o,i)}},ondestroy:n});return e&&"spline"!==e&&(n.easing=e),n}}}function Mt(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}function St(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;!function(t,e,n){for(n--;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,r)}else for(;r<n&&0<=i(t[r],t[r-1]);)r++;return r-e}function Tt(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o,a=t[i],s=e,l=i;s<l;)r(a,t[o=s+l>>>1])<0?l=o:s=1+o;var h=i-s;switch(h){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<h;)t[s+h]=t[s+h-1],h--}t[s]=a}}function Ct(t,e,n,i,r,o){var a=0,s=0,l=1;if(0<o(t,e[n+r])){for(s=i-r;l<s&&0<o(t,e[n+r+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[n+r-l])<=0;)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s);i=a,a=r-l,l=r-i}for(a++;a<l;){var h=a+(l-a>>>1);0<o(t,e[n+h])?a=h+1:l=h}return l}function It(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])<0){for(s=r+1;l<s&&o(t,e[n+r-l])<0;)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s);var h=a,a=r-l,l=r-h}else{for(s=i-r;l<s&&0<=o(t,e[n+r+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=r,l+=r}for(a++;a<l;){var u=a+(l-a>>>1);o(t,e[n+u])<0?l=u:a=u+1}return l}function Dt(p,g){function e(t){var e=a[t],n=s[t],i=a[t+1],r=s[t+1];s[t]=n+r,t===o-3&&(a[t+1]=a[t+2],s[t+1]=s[t+2]),o--;t=It(p[i],p,e,n,0,g);e+=t,0==(n-=t)||0!==(r=Ct(p[e+n-1],p,i,r,r-1,g))&&(n<=r?function(t,e,n,i){var r=0;for(r=0;r<e;r++)v[r]=p[t+r];var o=0,a=n,s=t;if(p[s++]=p[a++],0!=--i){if(1===e){for(r=0;r<i;r++)p[s+r]=p[a+r];return void(p[s+i]=v[o])}for(var l,h,u,c=m;;){h=l=0,u=!1;do{if(g(p[a],v[o])<0){if(p[s++]=p[a++],h++,(l=0)==--i){u=!0;break}}else if(p[s++]=v[o++],l++,h=0,1==--e){u=!0;break}}while((l|h)<c);if(u)break;do{if(0!==(l=It(p[a],v,o,e,0,g))){for(r=0;r<l;r++)p[s+r]=v[o+r];if(s+=l,o+=l,(e-=l)<=1){u=!0;break}}if(p[s++]=p[a++],0==--i){u=!0;break}if(0!==(h=Ct(v[o],p,a,i,0,g))){for(r=0;r<h;r++)p[s+r]=p[a+r];if(s+=h,a+=h,0===(i-=h)){u=!0;break}}if(p[s++]=v[o++],1==--e){u=!0;break}c--}while(qs<=l||qs<=h);if(u)break;c<0&&(c=0),c+=2}if((m=c)<1&&(m=1),1===e){for(r=0;r<i;r++)p[s+r]=p[a+r];p[s+i]=v[o]}else{if(0===e)throw new Error;for(r=0;r<e;r++)p[s+r]=v[o+r]}}else for(r=0;r<e;r++)p[s+r]=v[o+r]}:function(t,e,n,i){var r=0;for(r=0;r<i;r++)v[r]=p[n+r];var o=t+e-1,a=i-1,s=n+i-1,l=0,h=0;if(p[s--]=p[o--],0!=--e){if(1===i){for(h=(s-=e)+1,l=(o-=e)+1,r=e-1;0<=r;r--)p[h+r]=p[l+r];return void(p[s]=v[a])}for(var u=m;;){var c=0,d=0,f=!1;do{if(g(v[a],p[o])<0){if(p[s--]=p[o--],c++,(d=0)==--e){f=!0;break}}else if(p[s--]=v[a--],d++,c=0,1==--i){f=!0;break}}while((c|d)<u);if(f)break;do{if(0!==(c=e-It(v[a],p,t,e,e-1,g))){for(e-=c,h=(s-=c)+1,l=(o-=c)+1,r=c-1;0<=r;r--)p[h+r]=p[l+r];if(0===e){f=!0;break}}if(p[s--]=v[a--],1==--i){f=!0;break}if(0!==(d=i-Ct(p[o],v,0,i,i-1,g))){for(i-=d,h=(s-=d)+1,l=(a-=d)+1,r=0;r<d;r++)p[h+r]=v[l+r];if(i<=1){f=!0;break}}if(p[s--]=p[o--],0==--e){f=!0;break}u--}while(qs<=c||qs<=d);if(f)break;u<0&&(u=0),u+=2}if((m=u)<1&&(m=1),1===i){for(h=(s-=e)+1,l=(o-=e)+1,r=e-1;0<=r;r--)p[h+r]=p[l+r];p[s]=v[a]}else{if(0===i)throw new Error;for(l=s-(i-1),r=0;r<i;r++)p[l+r]=v[r]}}else for(l=s-(i-1),r=0;r<i;r++)p[l+r]=v[r]})(e,n,i,r)}var m=qs,o=0,v=[],a=[],s=[];this.mergeRuns=function(){for(;1<o;){var t=o-2;if(1<=t&&s[t-1]<=s[t]+s[t+1]||2<=t&&s[t-2]<=s[t]+s[t-1])s[t-1]<s[t+1]&&t--;else if(s[t]>s[t+1])break;e(t)}},this.forceMergeRuns=function(){for(;1<o;){var t=o-2;0<t&&s[t-1]<s[t+1]&&t--,e(t)}},this.pushRun=function(t,e){a[o]=t,s[o]=e,o+=1}}function kt(t,e,n,i){n=n||0;var r=(i=i||t.length)-n;if(!(r<2)){var o=0;if(r<Ys)return Tt(t,n,i,n+(o=St(t,n,i,e)),e),0;var a,s=new Dt(t,e),l=function(t){for(var e=0;Ys<=t;)e|=1&t,t>>=1;return t+e}(r);do{(o=St(t,n,i,e))<l&&(l<(a=r)&&(a=l),Tt(t,n,n+a,n+o,e),o=a),s.pushRun(n,o),s.mergeRuns(),r-=o,n+=o}while(0!==r);s.forceMergeRuns()}}function At(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function Pt(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(i,o,r,a)}function Lt(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+n.x,s=s*r+n.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}function Ot(){return!1}function Bt(t,e,n){var i=Fa(),r=e.getWidth(),o=e.getHeight(),e=i.style;return e&&(e.position="absolute",e.left=0,e.top=0,e.width=r+"px",e.height=o+"px",i.setAttribute("data-zr-dom-id",t)),i.width=r*n,i.height=o*n,i}function Et(t,e,n,i,r){if(t){if("string"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!n)return e;var o=il.get(t),r={hostEl:n,cb:i,cbPayload:r};return o?zt(e=o.image)||o.pending.push(r):(e||(e=new Image),e.onload=Rt,il.put(t,e.__cachedImgObj={image:e,pending:[r]}),e.src=e.__zrImageSrc=t),e}return e}function Rt(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function zt(t){return t&&t.width&&t.height}function Nt(t,e){var n=t+":"+(e=e||ll);if(rl[n])return rl[n];for(var i,r,o=(t+"").split("\n"),a=0,s=0,l=o.length;s<l;s++)a=Math.max((i=o[s],r=e,hl.measureText(i,r)).width,a);return al<ol&&(ol=0,rl={}),ol++,rl[n]=a}function Ft(t,e,n,i,r,o,a){return o?function(t,e,n,i,r,o,a){e=Ut(t,{rich:o,truncate:a,font:e,textAlign:n,textPadding:r}),r=e.outerWidth,e=e.outerHeight,n=Ht(0,r,n),i=Vt(0,e,i);return new Mt(n,i,r,e)}(t,e,n,i,r,o,a):function(t,e,n,i,r,o){o=qt(t,e,r,o),e=Nt(t,e);r&&(e+=r[1]+r[3]);r=o.outerHeight,n=Ht(0,e,n),i=Vt(0,r,i),r=new Mt(n,i,e,r);return r.lineHeight=o.lineHeight,r}(t,e,n,i,r,a)}function Ht(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Vt(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function Wt(t,e,n,i,r){if(!e)return"";var o=(t+"").split("\n");r=Gt(e,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=Xt(o[a],r);return o.join("\n")}function Gt(t,e,n,i){(i=D({},i)).font=e;n=B(n,"...");i.maxIterations=B(i.maxIterations,2);var r=i.minChar=B(i.minChar,0);i.cnCharWidth=Nt("国",e);var o=i.ascCharWidth=Nt("a",e);i.placeholder=B(i.placeholder,"");for(var a=t=Math.max(0,t-1),s=0;s<r&&o<=a;s++)a-=o;e=Nt(n);return a<e&&(n="",e=0),a=t-e,i.ellipsis=n,i.ellipsisWidth=e,i.contentWidth=a,i.containerWidth=t,i}function Xt(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return"";if((s=Nt(t,i))<=n)return t;for(var o=0;;o++){if(s<=r||o>=e.maxIterations){t+=e.ellipsis;break}var a=0===o?function(t,e,n,i){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}(t,r,e.ascCharWidth,e.cnCharWidth):0<s?Math.floor(t.length*r/s):0,s=Nt(t=t.substr(0,a),i)}return""===t&&(t=e.placeholder),t}function Yt(t){return Nt("国",t)}function qt(t,e,n,i){null!=t&&(t+="");var r=Yt(e),o=t?t.split("\n"):[],a=o.length*r,s=a;if(n&&(s+=n[0]+n[2]),t&&i){var l=i.outerHeight,h=i.outerWidth;if(null!=l&&l<s)t="",o=[];else if(null!=h)for(var u=Gt(h-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),c=0,d=o.length;c<d;c++)o[c]=Xt(o[c],u)}return{lines:o,height:a,outerHeight:s,lineHeight:r}}function Ut(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var i,r=sl.lastIndex=0;null!=(i=sl.exec(t));){var o=i.index;r<o&&jt(n,t.substring(r,o)),jt(n,i[2],i[1]),r=sl.lastIndex}r<t.length&&jt(n,t.substring(r,t.length));var a=n.lines,s=0,l=0,h=[],u=e.textPadding,c=e.truncate,d=c&&c.outerWidth,f=c&&c.outerHeight;u&&(null!=d&&(d-=u[1]+u[3]),null!=f&&(f-=u[0]+u[2]));for(var p=0;p<a.length;p++){for(var g=a[p],m=0,v=0,y=0;y<g.tokens.length;y++){var _=(I=g.tokens[y]).styleName&&e.rich[I.styleName]||{},x=I.textPadding=_.textPadding,w=I.font=_.font||e.font,b=I.textHeight=B(_.textHeight,Yt(w));if(x&&(b+=x[0]+x[2]),I.height=b,I.lineHeight=R(_.textLineHeight,e.textLineHeight,b),I.textAlign=_&&_.textAlign||e.textAlign,I.textVerticalAlign=_&&_.textVerticalAlign||"middle",null!=f&&s+I.lineHeight>f)return{lines:[],width:0,height:0};I.textWidth=Nt(I.text,w);var M,S,T=_.textWidth,C=null==T||"auto"===T;"string"==typeof T&&"%"===T.charAt(T.length-1)?(I.percentWidth=T,h.push(I),T=0):(C&&(T=I.textWidth,!(S=(M=_.textBackgroundColor)&&M.image)||zt(S="string"!=typeof(M=S)?M:(M=il.get(M))&&M.image)&&(T=Math.max(T,S.width*b/S.height))),T+=S=x?x[1]+x[3]:0,null!=(x=null!=d?d-v:null)&&x<T&&(!C||x<S?(I.text="",I.textWidth=T=0):(I.text=Wt(I.text,x-S,w,c.ellipsis,{minChar:c.minChar}),I.textWidth=Nt(I.text,w),T=I.textWidth+S))),v+=I.width=T,_&&(m=Math.max(m,I.lineHeight))}g.width=v,s+=g.lineHeight=m,l=Math.max(l,v)}n.outerWidth=n.width=B(e.textWidth,l),n.outerHeight=n.height=B(e.textHeight,s),u&&(n.outerWidth+=u[1]+u[3],n.outerHeight+=u[0]+u[2]);for(p=0;p<h.length;p++){var I,D=(I=h[p]).percentWidth;I.width=parseInt(D,10)/100*l}return n}function jt(t,e,n){for(var i=""===e,r=e.split("\n"),o=t.lines,a=0;a<r.length;a++){var s,l,h=r[a],u={styleName:n,text:h,isLineHolder:!h&&!i};a?o.push({tokens:[u]}):1===(l=(s=(o[o.length-1]||(o[0]={tokens:[]})).tokens).length)&&s[0].isLineHolder?s[0]=u:!h&&l&&!i||s.push(u)}}function Zt(t,e){var n,i,r,o,a,s=e.x,l=e.y,h=e.width,u=e.height,e=e.r;h<0&&(s+=h,h=-h),u<0&&(l+=u,u=-u),"number"==typeof e?n=i=r=o=e:e instanceof Array?1===e.length?n=i=r=o=e[0]:2===e.length?(n=r=e[0],i=o=e[1]):3===e.length?(n=e[0],i=o=e[1],r=e[2]):(n=e[0],i=e[1],r=e[2],o=e[3]):n=i=r=o=0,h<n+i&&(n*=h/(a=n+i),i*=h/a),h<r+o&&(r*=h/(a=r+o),o*=h/a),u<i+r&&(i*=u/(a=i+r),r*=u/a),u<n+o&&(n*=u/(a=n+o),o*=u/a),t.moveTo(s+n,l),t.lineTo(s+h-i,l),0!==i&&t.arc(s+h-i,l+i,i,-Math.PI/2,0),t.lineTo(s+h,l+u-r),0!==r&&t.arc(s+h-r,l+u-r,r,0,Math.PI/2),t.lineTo(s+o,l+u),0!==o&&t.arc(s+o,l+u-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}function $t(t){return Kt(t),E(t.rich,Kt),t}function Kt(t){var e,n;t&&(t.font=(n=((e=t).fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" "))&&c(n)||e.textFont||e.font,"middle"===(e=t.textAlign)&&(e="center"),t.textAlign=null==e||ul[e]?e:"left","center"===(e=t.textVerticalAlign||t.textBaseline)&&(e="middle"),t.textVerticalAlign=null==e||cl[e]?e:"top",t.textPadding&&(t.textPadding=o(t.textPadding)))}function Qt(t,e,n,i,r){var o,a,s,l,h,u;i.rich?(a=e,s=n,l=i,h=r,(u=(o=t).__textCotentBlock)&&!o.__dirty||(u=o.__textCotentBlock=Ut(s,l)),function(t,e,n,i,r){var o=n.width,a=n.outerWidth,s=n.outerHeight,l=i.textPadding,h=re(0,i,r),u=h.baseX,c=h.baseY,d=h.textAlign,h=h.textVerticalAlign;Jt(e,i,r,u,c);var d=Ht(u,a,d),h=Vt(c,s,h),f=d,p=h;l&&(f+=l[3],p+=l[0]);var g=f+o;ee(i)&&ne(t,e,i,d,h,a,s);for(var m=0;m<n.lines.length;m++){for(var v,y=n.lines[m],_=y.tokens,x=_.length,w=y.lineHeight,b=y.width,M=0,S=f,T=g,C=x-1;M<x&&(!(v=_[M]).textAlign||"left"===v.textAlign);)te(t,e,v,i,w,p,S,"left"),b-=v.width,S+=v.width,M++;for(;0<=C&&"right"===(v=_[C]).textAlign;)te(t,e,v,i,w,p,T,"right"),b-=v.width,T-=v.width,C--;for(S+=(o-(S-f)-(g-T)-b)/2;M<=C;)v=_[M],te(t,e,v,i,w,p,S+v.width/2,"center"),S+=v.width,M++;p+=w}}(o,a,u,l,h)):function(t,e,n,i,r){var o=oe(e,"font",i.font||ll),a=i.textPadding,s=t.__textCotentBlock;s&&!t.__dirty||(s=t.__textCotentBlock=qt(n,o,a,i.truncate));var l=s.outerHeight,h=s.lines,u=s.lineHeight,c=re(0,i,r),d=c.baseX,f=c.baseY,s=c.textAlign,c=c.textVerticalAlign;Jt(e,i,r,d,f);var f=Vt(f,l,c),p=d,g=f,c=ee(i);{(c||a)&&(n=Nt(n,o),a&&(n+=a[1]+a[3]),o=Ht(d,n,s),c&&ne(t,e,i,o,f,n,l),a&&(p=he(d,s,a),g+=a[0]))}oe(e,"textAlign",s||"left"),oe(e,"textBaseline","middle"),oe(e,"shadowBlur",i.textShadowBlur||0),oe(e,"shadowColor",i.textShadowColor||"transparent"),oe(e,"shadowOffsetX",i.textShadowOffsetX||0),oe(e,"shadowOffsetY",i.textShadowOffsetY||0),g+=u/2;var s=i.textStrokeWidth,m=ae(i.textStroke,s),v=se(i.textFill);m&&(oe(e,"lineWidth",s),oe(e,"strokeStyle",m)),v&&oe(e,"fillStyle",v);for(var y=0;y<h.length;y++)m&&e.strokeText(h[y],p,g),v&&e.fillText(h[y],p,g),g+=u}(t,e,n,i,r)}function Jt(t,e,n,i,r){var o;n&&e.textRotation&&("center"===(o=e.textOrigin)?(i=n.width/2+n.x,r=n.height/2+n.y):o&&(i=o[0]+n.x,r=o[1]+n.y),t.translate(i,r),t.rotate(-e.textRotation),t.translate(-i,-r))}function te(t,e,n,i,r,o,a,s){var l=i.rich[n.styleName]||{},h=n.textVerticalAlign,u=o+r/2;"top"===h?u=o+n.height/2:"bottom"===h&&(u=o+r-n.height/2),!n.isLineHolder&&ee(l)&&ne(t,e,l,"right"===s?a-n.width:"center"===s?a-n.width/2:a,u-n.height/2,n.width,n.height);t=n.textPadding;t&&(a=he(a,s,t),u-=n.height/2-t[2]-n.textHeight/2),oe(e,"shadowBlur",R(l.textShadowBlur,i.textShadowBlur,0)),oe(e,"shadowColor",l.textShadowColor||i.textShadowColor||"transparent"),oe(e,"shadowOffsetX",R(l.textShadowOffsetX,i.textShadowOffsetX,0)),oe(e,"shadowOffsetY",R(l.textShadowOffsetY,i.textShadowOffsetY,0)),oe(e,"textAlign",s),oe(e,"textBaseline","middle"),oe(e,"font",n.font||ll);t=ae(l.textStroke||i.textStroke,void 0),s=se(l.textFill||i.textFill),i=B(l.textStrokeWidth,i.textStrokeWidth);t&&(oe(e,"lineWidth",i),oe(e,"strokeStyle",t),e.strokeText(n.text,a,u)),s&&(oe(e,"fillStyle",s),e.fillText(n.text,a,u))}function ee(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function ne(t,e,n,i,r,o,a){var s=n.textBackgroundColor,l=n.textBorderWidth,h=n.textBorderColor,u=P(s);oe(e,"shadowBlur",n.textBoxShadowBlur||0),oe(e,"shadowColor",n.textBoxShadowColor||"transparent"),oe(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),oe(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),(u||l&&h)&&(e.beginPath(),(n=n.textBorderRadius)?Zt(e,{x:i,y:r,width:o,height:a,r:n}):e.rect(i,r,o,a),e.closePath()),u?(oe(e,"fillStyle",s),e.fill()):!O(s)||(u=Et(u=s.image,null,t,ie,s))&&zt(u)&&e.drawImage(u,i,r,o,a),l&&h&&(oe(e,"lineWidth",l),oe(e,"strokeStyle",h),e.stroke())}function ie(t,e){e.image=t}function re(t,e,n){var i,r=e.x||0,o=e.y||0,a=e.textAlign,s=e.textVerticalAlign;return n&&((i=e.textPosition)instanceof Array?(r=n.x+le(i[0],n.width),o=n.y+le(i[1],n.height)):(r=(n=function(t,e,n){var i=e.x,r=e.y,o=e.height,a=e.width,s=o/2,l="left",e="top";switch(t){case"left":i-=n,r+=s,l="right",e="middle";break;case"right":i+=n+a,r+=s,e="middle";break;case"top":i+=a/2,r-=n,l="center",e="bottom";break;case"bottom":i+=a/2,r+=o+n,l="center";break;case"inside":i+=a/2,r+=s,l="center",e="middle";break;case"insideLeft":i+=n,r+=s,e="middle";break;case"insideRight":i+=a-n,r+=s,l="right",e="middle";break;case"insideTop":i+=a/2,r+=n,l="center";break;case"insideBottom":i+=a/2,r+=o-n,l="center",e="bottom";break;case"insideTopLeft":i+=n,r+=n;break;case"insideTopRight":i+=a-n,r+=n,l="right";break;case"insideBottomLeft":i+=n,r+=o-n,e="bottom";break;case"insideBottomRight":i+=a-n,r+=o-n,l="right",e="bottom"}return{x:i,y:r,textAlign:l,textVerticalAlign:e}}(i,n,e.textDistance)).x,o=n.y,a=a||n.textAlign,s=s||n.textVerticalAlign),(e=e.textOffset)&&(r+=e[0],o+=e[1])),{baseX:r,baseY:o,textAlign:a,textVerticalAlign:s}}function oe(t,e,n){return t[e]=js(t,e,n),t[e]}function ae(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function se(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function le(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t}function he(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function ue(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function ce(t){for(var e in t=t||{},Es.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new $s(t.style,this),this._rect=null,this.__clipPaths=[]}function de(t){ce.call(this,t)}function fe(t){return parseInt(t,10)}function pe(t,e,n,i){return n=n||{},i||!Ua.canvasSupported?ge(t,e,n):Ua.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):ge(t,e,n),n}function ge(t,e,n){t=(t=t).getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0};n.zrX=e.clientX-t.left,n.zrY=e.clientY-t.top}function me(t,e,n){if(null!=(e=e||window.event).zrX)return e;var i=e.type;i&&0<=i.indexOf("touch")?(i=("touchend"!=i?e.targetTouches:e.changedTouches)[0])&&pe(t,i,e,n):(pe(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3);n=e.button;return null==e.which&&void 0!==n&&xl.test(e.type)&&(e.which=1&n?1:2&n?3:4&n?2:0),e}function ve(t){var e=t[1][0]-t[0][0],t=t[1][1]-t[0][1];return Math.sqrt(e*e+t*t)}function ye(t){return"mousewheel"===t&&Ua.browser.firefox?"DOMMouseScroll":t}function _e(t,e,n){var i=t._gestureMgr;"start"===n&&i.clear();var r=i.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);"end"===n&&i.clear(),r&&(i=r.type,e.gestureEvent=i,t.handler.dispatchToElement({target:r.target},i,r.event))}function xe(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function we(t){t=t.pointerType;return"pen"===t||"touch"===t}function be(i){E(Tl,function(t){i._handlers[t]=y(Dl[t],i)}),E(Il,function(t){i._handlers[t]=y(Dl[t],i)}),E(Sl,function(t){var e,n;i._handlers[t]=(e=Dl[t],n=i,function(){return n._touching?void 0:e.apply(n,arguments)})})}function Me(r){function t(t,i){E(t,function(t){var e,n;e=r,n=ye(t),t=i._handlers[t],_l?e.addEventListener(n,t):e.attachEvent("on"+n,t)},i)}us.call(this),this.dom=r,this._touching=!1,this._touchTimer,this._gestureMgr=new bl,this._handlers={},be(this),Ua.pointerEventsSupported?t(Il,this):(Ua.touchEventsSupported&&t(Tl,this),t(Sl,this))}function Se(t,e){return new Ll(qa(),t,e)}function Te(t){return t instanceof Array?t:null==t?[]:[t]}function Ce(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}function Ie(t){return!Bl(t)||El(t)||t instanceof Date?t:t.value}function De(t,r){r=(r||[]).slice();var o=w(t||[],function(t){return{exist:t}});return Ol(r,function(t,e){if(Bl(t)){for(var n=0;n<o.length;n++)if(!o[n].option&&null!=t.id&&o[n].exist.id===t.id+"")return o[n].option=t,void(r[e]=null);for(n=0;n<o.length;n++){var i=o[n].exist;if(!(o[n].option||null!=i.id&&null!=t.id||null==t.name||Ae(t)||Ae(i)||i.name!==t.name+""))return o[n].option=t,void(r[e]=null)}}}),Ol(r,function(t){if(Bl(t)){for(var e=0;e<o.length;e++){var n=o[e].exist;if(!o[e].option&&!Ae(n)&&null==t.id){o[e].option=t;break}}e>=o.length&&o.push({option:t})}}),o}function ke(t){t=t.name;return t&&t.indexOf(Rl)}function Ae(t){return Bl(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function Pe(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?A(t.dataIndex)?w(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?A(t.name)?w(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}function Le(){var e="__\0ec_inner_"+Nl+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}function Oe(o,a,s){P(a)&&((t={})[a+"Index"]=0,a=t);var t=s&&s.defaultMainType;!t||Be(a,t+"Index")||Be(a,t+"Id")||Be(a,t+"Name")||(a[t+"Index"]=0);var l={};return Ol(a,function(t,e){var n,i,r,t=a[e];"dataIndex"!==e&&"dataIndexInside"!==e?(n=(r=e.match(/^(\w+)(Index|Id|Name)$/)||[])[1],i=(r[2]||"").toLowerCase(),!n||!i||null==t||"index"===i&&"none"===t||s&&s.includeMainTypes&&d(s.includeMainTypes,n)<0||(r={mainType:n},"index"===i&&"all"===t||(r[i]=t),r=o.queryComponents(r),l[n+"Models"]=r,l[n+"Model"]=r[0])):l[e]=t}),l}function Be(t,e){return t&&t.hasOwnProperty(e)}function Ee(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function Re(t){var e={main:"",sub:""};return t&&(t=t.split(Fl),e.main=t[0]||"",e.sub=t[1]||""),e}function ze(t){(t.$constructor=t).extend=function(t){function e(){(t.$constructor?t.$constructor:n).apply(this,arguments)}var n=this;return D(e.prototype,t),e.extend=this.extend,e.superCall=Fe,e.superApply=He,i(e,this),e.superClass=n,e}}function Ne(t){var e=["__\0is_clz",Vl++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function Fe(t,e){var n=r(arguments,2);return this.superClass.prototype[e].apply(t,n)}function He(t,e,n){return this.superClass.prototype[e].apply(t,n)}function Ve(n,t){t=t||{};var i,r={};return n.registerClass=function(t,e){var n,i;return e&&(u(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=e),'componentType "'+i+'" illegal'),(e=Re(e)).sub?e.sub!==Hl&&(((i=r[(n=e).main])&&i[Hl]||((i=r[n.main]={})[Hl]=!0),i)[e.sub]=t):r[e.main]=t),t},n.getClass=function(t,e,n){var i=r[t];if(i&&i[Hl]&&(i=e?i[e]:null),n&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},n.getClassesByMainType=function(t){t=Re(t);var n=[],t=r[t.main];return t&&t[Hl]?E(t,function(t,e){e!==Hl&&n.push(t)}):n.push(t),n},n.hasClass=function(t){return t=Re(t),!!r[t.main]},n.getAllClassMainTypes=function(){var n=[];return E(r,function(t,e){n.push(e)}),n},n.hasSubTypes=function(t){t=Re(t);t=r[t.main];return t&&t[Hl]},n.parseClassType=Re,t.registerWhenExtend&&(i=n.extend)&&(n.extend=function(t){var e=i.call(this,t);return n.registerClass(e,t.type)}),n}function We(t){return-Ul<t&&t<Ul}function Ge(t){return Ul<t||t<-Ul}function Xe(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function Ye(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function qe(t,e,n,i,r){var o,a=6*n-12*e+6*t,i=9*e+3*i-3*t-9*n,n=3*e-3*t,e=0;return We(i)?Ge(a)&&0<=(o=-n/a)&&o<=1&&(r[e++]=o):We(t=a*a-4*i*n)?r[0]=-a/(2*i):0<t&&(t=(-a-(n=ql(t)))/(2*i),0<=(o=(-a+n)/(2*i))&&o<=1&&(r[e++]=o),0<=t&&t<=1&&(r[e++]=t)),e}function Ue(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,e=(i-n)*r+n,n=(s-a)*r+a,s=(e-s)*r+s,r=(s-n)*r+n;o[0]=t,o[1]=a,o[2]=n,o[3]=r,o[4]=r,o[5]=s,o[6]=e,o[7]=i}function je(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function Ze(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function $e(t,e,n){n=t+n-2*e;return 0==n?.5:(t-e)/n}function Ke(t,e,n,i,r){var o=(e-t)*i+t,e=(n-e)*i+e,i=(e-o)*i+o;r[0]=t,r[1]=o,r[2]=i,r[3]=i,r[4]=e,r[5]=n}function Qe(t,e,n,i,r,o){r[0]=th(t,n),r[1]=th(e,i),o[0]=eh(t,n),o[1]=eh(e,i)}function Je(t,e,n,i,r,o,a){if(0!==r){var s=r,r=0;if(!(e+s<a&&i+s<a||a<e-s&&a<i-s||t+s<o&&n+s<o||o<t-s&&o<n-s)){if(t===n)return Math.abs(o-t)<=s/2;n=(r=(e-i)/(t-n))*o-a+(t*i-n*e)/(t-n);return n*n/(r*r+1)<=s/2*s/2}}}function tn(t,e,n,i,r,o,a,s,l,h,u){if(0!==l){l=l;if(!(e+l<u&&i+l<u&&o+l<u&&s+l<u||u<e-l&&u<i-l&&u<o-l&&u<s-l||t+l<h&&n+l<h&&r+l<h&&a+l<h||h<t-l&&h<n-l&&h<r-l&&h<a-l))return function(t,e,n,i,r,o,a,s,l,h,u){var c,d,f,p,g=.005,m=1/0;Kl[0]=l,Kl[1]=h;for(var v=0;v<1;v+=.05)Ql[0]=Xe(t,n,r,a,v),Ql[1]=Xe(e,i,o,s,v),(f=ls(Kl,Ql))<m&&(c=v,m=f);m=1/0;for(var y=0;y<32&&!(g<jl);y++)p=c-g,d=c+g,Ql[0]=Xe(t,n,r,a,p),Ql[1]=Xe(e,i,o,s,p),f=ls(Ql,Kl),0<=p&&f<m?(c=p,m=f):(Jl[0]=Xe(t,n,r,a,d),Jl[1]=Xe(e,i,o,s,d),p=ls(Jl,Kl),d<=1&&p<m?(c=d,m=p):g*=.5);return u&&(u[0]=Xe(t,n,r,a,c),u[1]=Xe(e,i,o,s,c)),ql(m)}(t,e,n,i,r,o,a,s,h,u,null)<=l/2}}function en(t,e,n,i,r,o,a,s,l){if(0!==a){a=a;if(!(e+a<l&&i+a<l&&o+a<l||l<e-a&&l<i-a&&l<o-a||t+a<s&&n+a<s&&r+a<s||s<t-a&&s<n-a&&s<r-a))return function(t,e,n,i,r,o,a,s,l){var h,u=.005,c=1/0;Kl[0]=a,Kl[1]=s;for(var d=0;d<1;d+=.05){Ql[0]=je(t,n,r,d),Ql[1]=je(e,i,o,d),(m=ls(Kl,Ql))<c&&(h=d,c=m)}c=1/0;for(var f=0;f<32&&!(u<jl);f++){var p=h-u,g=h+u;Ql[0]=je(t,n,r,p),Ql[1]=je(e,i,o,p);var m=ls(Ql,Kl);0<=p&&m<c?(h=p,c=m):(Jl[0]=je(t,n,r,g),Jl[1]=je(e,i,o,g),p=ls(Jl,Kl),g<=1&&p<c?(h=g,c=p):u*=.5)}return l&&(l[0]=je(t,n,r,h),l[1]=je(e,i,o,h)),ql(c)}(t,e,n,i,r,o,s,l,null)<=a/2}}function nn(t){return(t%=Mh)<0&&(t+=Mh),t}function rn(t,e,n,i,r,o){if(e<o&&i<o||o<e&&o<i)return 0;if(i===e)return 0;var a=i<e?1:-1,o=(o-e)/(i-e);1!=o&&0!=o||(a=i<e?.5:-.5);t=o*(n-t)+t;return t===r?1/0:r<t?a:0}function on(t,e,n,i,r,o,a,s,l,h){if(e<h&&i<h&&o<h&&s<h||h<e&&h<i&&h<o&&h<s)return 0;var u,c,d,f,p,g,m,v,y,_,x=(p=Dh,y=(f=s)+3*((c=i)-(d=o))-(u=e),u=(_=3*(d-2*c+u))*(f=3*(c-u))-9*y*(d=u-(h=h)),h=f*f-3*_*d,d=0,We(c=_*_-3*y*f)&&We(u)?We(_)?p[0]=0:0<=(m=-f/_)&&m<=1&&(p[d++]=m):We(f=u*u-4*c*h)?(v=-(h=u/c)/2,0<=(m=-_/y+h)&&m<=1&&(p[d++]=m),0<=v&&v<=1&&(p[d++]=v)):0<f?(g=c*_+1.5*y*(-u-(f=ql(f))),0<=(m=(-_-((f=(f=c*_+1.5*y*(-u+f))<0?-Yl(-f,$l):Yl(f,$l))+(g=g<0?-Yl(-g,$l):Yl(g,$l))))/(3*y))&&m<=1&&(p[d++]=m)):(g=(2*c*_-3*y*u)/(2*ql(c*c*c)),u=Math.acos(g)/3,m=(-_-2*(g=ql(c))*(c=Math.cos(u)))/(3*y),v=(-_+g*(c+Zl*Math.sin(u)))/(3*y),y=(-_+g*(c-Zl*Math.sin(u)))/(3*y),0<=m&&m<=1&&(p[d++]=m),0<=v&&v<=1&&(p[d++]=v),0<=y&&y<=1&&(p[d++]=y)),d);if(0===x)return 0;for(var w,b,M=0,S=-1,T=0;T<x;T++){var C=Dh[T],I=0===C||1===C?.5:1;Xe(t,n,r,a,C)<l||(S<0&&(S=qe(e,i,o,s,kh),kh[1]<kh[0]&&1<S&&(b=void 0,b=kh[0],kh[0]=kh[1],kh[1]=b),b=Xe(e,i,o,s,kh[0]),1<S&&(w=Xe(e,i,o,s,kh[1]))),M+=2==S?C<kh[0]?b<e?I:-I:C<kh[1]?w<b?I:-I:s<w?I:-I:C<kh[0]?b<e?I:-I:s<b?I:-I)}return M}function an(t,e,n,i,r,o,a,s){if(e<s&&i<s&&o<s||s<e&&s<i&&s<o)return 0;var l,h,u,c,d,f,p=(c=Dh,f=(l=e)-2*(h=i)+(u=o),u=2*(h-l),h=l-(s=s),l=0,We(f)?Ge(u)&&0<=(d=-h/u)&&d<=1&&(c[l++]=d):We(s=u*u-4*f*h)?0<=(d=-u/(2*f))&&d<=1&&(c[l++]=d):0<s&&(s=(-u-(h=ql(s)))/(2*f),0<=(d=(-u+h)/(2*f))&&d<=1&&(c[l++]=d),0<=s&&s<=1&&(c[l++]=s)),l);if(0===p)return 0;var g=$e(e,i,o);if(0<=g&&g<=1){for(var m=0,v=je(e,i,o,g),y=0;y<p;y++){var _=0===Dh[y]||1===Dh[y]?.5:1;je(t,n,r,Dh[y])<a||(m+=Dh[y]<g?v<e?_:-_:o<v?_:-_)}return m}_=0===Dh[0]||1===Dh[0]?.5:1;return je(t,n,r,Dh[0])<a?0:o<e?_:-_}function sn(t,e,n,i,r){for(var o,a,s=0,l=0,h=0,u=0,c=0,d=0;d<t.length;){var f=t[d++];switch(f===Th.M&&1<d&&(n||(s+=rn(l,h,u,c,i,r))),1==d&&(u=l=t[d],c=h=t[d+1]),f){case Th.M:l=u=t[d++],h=c=t[d++];break;case Th.L:if(n){if(Je(l,h,t[d],t[d+1],e,i,r))return!0}else s+=rn(l,h,t[d],t[d+1],i,r)||0;l=t[d++],h=t[d++];break;case Th.C:if(n){if(tn(l,h,t[d++],t[d++],t[d++],t[d++],t[d],t[d+1],e,i,r))return!0}else s+=on(l,h,t[d++],t[d++],t[d++],t[d++],t[d],t[d+1],i,r)||0;l=t[d++],h=t[d++];break;case Th.Q:if(n){if(en(l,h,t[d++],t[d++],t[d],t[d+1],e,i,r))return!0}else s+=an(l,h,t[d++],t[d++],t[d],t[d+1],i,r)||0;l=t[d++],h=t[d++];break;case Th.A:var p=t[d++],g=t[d++],m=t[d++],v=t[d++],y=t[d++],_=t[d++],x=(t[d++],1-t[d++]),w=Math.cos(y)*m+p,b=Math.sin(y)*v+g;1<d?s+=rn(l,h,w,b,i,r):(u=w,c=b);f=(i-p)*v/m+p;if(n){if(function(t,e,n,i,r,o,a,s,l){if(0!==a){a=a;s-=t,l-=e;e=Math.sqrt(s*s+l*l);if(!(n<e-a||e+a<n)){if(Math.abs(i-r)%Sh<1e-4)return 1;(r=o?(o=i,i=nn(r),nn(o)):(i=nn(i),nn(r)))<i&&(r+=Sh);s=Math.atan2(l,s);return s<0&&(s+=Sh),i<=s&&s<=r||i<=s+Sh&&s+Sh<=r}}}(p,g,v,y,y+_,x,e,f,r))return!0}else s+=function(t,e,n,i,r,o,a,s){if(n<(s-=e)||s<-n)return 0;if(e=Math.sqrt(n*n-s*s),Dh[0]=-e,Dh[1]=e,(n=Math.abs(i-r))<1e-4)return 0;if(n%Ch<1e-4){r=Ch;var l=o?1:-1;return a>=Dh[i=0]+t&&a<=Dh[1]+t?l:0}(r=o?(e=i,i=nn(r),nn(e)):(i=nn(i),nn(r)))<i&&(r+=Ch);for(var h=0,u=0;u<2;u++){var c=Dh[u];a<c+t&&(l=o?1:-1,(c=Math.atan2(s,c))<0&&(c=Ch+c),(i<=c&&c<=r||i<=c+Ch&&c+Ch<=r)&&(c>Math.PI/2&&c<1.5*Math.PI&&(l=-l),h+=l))}return h}(p,g,v,y,y+_,x,f,r);l=Math.cos(y+_)*m+p,h=Math.sin(y+_)*v+g;break;case Th.R:u=l=t[d++],c=h=t[d++];w=u+t[d++],b=c+t[d++];if(n){if(Je(u,c,w,c,e,i,r)||Je(w,c,w,b,e,i,r)||Je(w,b,u,b,e,i,r)||Je(u,b,u,c,e,i,r))return!0}else s+=rn(w,c,w,b,i,r),s+=rn(u,b,u,c,i,r);break;case Th.Z:if(n){if(Je(l,h,u,c,e,i,r))return!0}else s+=rn(l,h,u,c,i,r);l=u,h=c}}return n||(o=h,a=c,Math.abs(o-a)<Ih)||(s+=rn(l,h,u,c,i,r)||0),0!==s}function ln(t){ce.call(this,t),this.path=null}function hn(t,e,n,i,r,o,a,s,l,h,u){var c=l*(Xh/180),d=Gh(c)*(t-n)/2+Wh(c)*(e-i)/2,f=-1*Wh(c)*(t-n)/2+Gh(c)*(e-i)/2,l=d*d/(a*a)+f*f/(s*s);1<l&&(a*=Vh(l),s*=Vh(l));l=(r===o?-1:1)*Vh((a*a*s*s-a*a*f*f-s*s*d*d)/(a*a*f*f+s*s*d*d))||0,r=l*a*f/s,l=l*-s*d/a,t=(t+n)/2+Gh(c)*r-Wh(c)*l,n=(e+i)/2+Wh(c)*r+Gh(c)*l,e=qh([1,0],[(d-r)/a,(f-l)/s]),i=[(d-r)/a,(f-l)/s],f=[(-1*d-r)/a,(-1*f-l)/s],l=qh(i,f);Yh(i,f)<=-1&&(l=Xh),1<=Yh(i,f)&&(l=0),0===o&&0<l&&(l-=2*Xh),1===o&&l<0&&(l+=2*Xh),u.addData(h,t,n,a,s,e,l,c,o)}function un(t,e){var n=function(t){if(!t)return[];for(var e=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,","),n=0;n<Hh.length;n++)e=e.replace(new RegExp(Hh[n],"g"),"|"+Hh[n]);var i,r=e.split("|"),o=0,a=0,s=new bh,l=bh.CMD;for(n=1;n<r.length;n++){var h,u=r[n],c=u.charAt(0),d=0,f=u.slice(1).replace(/e,-/g,"e-").split(",");0<f.length&&""===f[0]&&f.shift();for(var p=0;p<f.length;p++)f[p]=parseFloat(f[p]);for(;d<f.length&&!isNaN(f[d])&&!isNaN(f[0]);){var g,m,v,y,_,x,w,b=o,M=a;switch(c){case"l":o+=f[d++],a+=f[d++],h=l.L,s.addData(h,o,a);break;case"L":o=f[d++],a=f[d++],h=l.L,s.addData(h,o,a);break;case"m":o+=f[d++],a+=f[d++],h=l.M,s.addData(h,o,a),c="l";break;case"M":o=f[d++],a=f[d++],h=l.M,s.addData(h,o,a),c="L";break;case"h":o+=f[d++],h=l.L,s.addData(h,o,a);break;case"H":o=f[d++],h=l.L,s.addData(h,o,a);break;case"v":a+=f[d++],h=l.L,s.addData(h,o,a);break;case"V":a=f[d++],h=l.L,s.addData(h,o,a);break;case"C":h=l.C,s.addData(h,f[d++],f[d++],f[d++],f[d++],f[d++],f[d++]),o=f[d-2],a=f[d-1];break;case"c":h=l.C,s.addData(h,f[d++]+o,f[d++]+a,f[d++]+o,f[d++]+a,f[d++]+o,f[d++]+a),o+=f[d-2],a+=f[d-1];break;case"S":g=o,m=a;var S=s.len(),T=s.data;i===l.C&&(g+=o-T[S-4],m+=a-T[S-3]),h=l.C,b=f[d++],M=f[d++],o=f[d++],a=f[d++],s.addData(h,g,m,b,M,o,a);break;case"s":g=o,m=a;S=s.len(),T=s.data;i===l.C&&(g+=o-T[S-4],m+=a-T[S-3]),h=l.C,b=o+f[d++],M=a+f[d++],o+=f[d++],a+=f[d++],s.addData(h,g,m,b,M,o,a);break;case"Q":b=f[d++],M=f[d++],o=f[d++],a=f[d++],h=l.Q,s.addData(h,b,M,o,a);break;case"q":b=f[d++]+o,M=f[d++]+a,o+=f[d++],a+=f[d++],h=l.Q,s.addData(h,b,M,o,a);break;case"T":g=o,m=a;S=s.len(),T=s.data;i===l.Q&&(g+=o-T[S-4],m+=a-T[S-3]),o=f[d++],a=f[d++],h=l.Q,s.addData(h,g,m,o,a);break;case"t":g=o,m=a;S=s.len(),T=s.data;i===l.Q&&(g+=o-T[S-4],m+=a-T[S-3]),o+=f[d++],a+=f[d++],h=l.Q,s.addData(h,g,m,o,a);break;case"A":v=f[d++],y=f[d++],_=f[d++],x=f[d++],w=f[d++],hn(b=o,M=a,o=f[d++],a=f[d++],x,w,v,y,_,h=l.A,s);break;case"a":v=f[d++],y=f[d++],_=f[d++],x=f[d++],w=f[d++],hn(b=o,M=a,o+=f[d++],a+=f[d++],x,w,v,y,_,h=l.A,s)}}"z"!==c&&"Z"!==c||(h=l.Z,s.addData(h)),i=h}return s.toStatic(),s}(t);return(e=e||{}).buildPath=function(t){var e;t.setData?(t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e)):(e=t,n.rebuildPath(e))},e.applyTransform=function(t){Fh(n,t),this.dirty(!0)},e}function cn(t,e,n,i,r,o,a){t=.5*(n-t),i=.5*(i-e);return(2*(e-n)+t+i)*a+(-3*(e-n)-2*t-i)*o+t*r+e}function dn(t,e,n){var i=e.points,r=e.smooth;if(i&&2<=i.length){if(r&&"spline"!==r){var o=function(t,e,n,i){var r,o,a,s,l=[],h=[],u=[],c=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;f>d;d++)G(a,a,t[d]),X(s,s,t[d]);G(a,a,i[0]),X(s,s,i[1])}for(var d=0,f=t.length;f>d;d++){var p=t[d];if(n)r=t[d?d-1:f-1],o=t[(d+1)%f];else{if(0===d||d===f-1){l.push(T(t[d]));continue}r=t[d-1],o=t[d+1]}N(h,o,r),F(h,h,e);var g=V(p,r),m=V(p,o),v=g+m;0!==v&&(g/=v,m/=v),F(u,h,-g),F(c,h,m);var y=C([],p,u),_=C([],p,c);i&&(X(y,y,a),G(y,y,s),X(_,_,a),G(_,_,s)),l.push(y),l.push(_)}return n&&l.push(l.shift()),l}(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],h=o[2*s+1],u=i[(s+1)%a];t.bezierCurveTo(l[0],l[1],h[0],h[1],u[0],u[1])}}else{"spline"===r&&(i=function(t,e){for(var n=t.length,i=[],r=0,o=1;n>o;o++)r+=V(t[o-1],t[o]);var a=r/2;a=n>a?n:a;for(var o=0;a>o;o++){var s,l,h,u=o/(a-1)*(e?n:n-1),c=Math.floor(u),d=u-c,f=t[c%n];e?(s=t[(c-1+n)%n],l=t[(c+1)%n],h=t[(c+2)%n]):(s=t[0===c?c:c-1],l=t[c>n-2?n-1:c+1],h=t[c>n-3?n-1:c+2]);var p=d*d,g=d*p;i.push([cn(s[0],f[0],l[0],h[0],d,p,g),cn(s[1],f[1],l[1],h[1],d,p,g)])}return i}(i,n)),t.moveTo(i[0][0],i[0][1]);for(var s=1,c=i.length;s<c;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}function fn(t,e,n){var i=t.cpx2,r=t.cpy2;return null===i||null===r?[(n?Ye:Xe)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?Ye:Xe)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Ze:je)(t.x1,t.cpx1,t.x2,e),(n?Ze:je)(t.y1,t.cpy1,t.y2,e)]}function pn(t){ce.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function gn(t){return ln.extend(t)}function mn(t,e,n,i){t=new ln(un(t,e)),e=t.getBoundingRect();return n&&("center"===i&&(n=yn(n,e)),_n(t,n)),t}function vn(t,e,n){var i=new de({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){"center"===n&&(t={width:t.width,height:t.height},i.setStyle(yn(e,t)))}});return i}function yn(t,e){var n=e.width/e.height,e=t.height*n,n=e<=t.width?t.height:(e=t.width)/n;return{x:t.x+t.width/2-e/2,y:t.y+t.height/2-n/2,width:e,height:n}}function _n(t,e){t.applyTransform&&(e=t.getBoundingRect().calculateTransform(e),t.applyTransform(e))}function xn(t){var e=t.shape,n=t.style.lineWidth;return iu(2*e.x1)===iu(2*e.x2)&&(e.x1=e.x2=wn(e.x1,n,!0)),iu(2*e.y1)===iu(2*e.y2)&&(e.y1=e.y2=wn(e.y1,n,!0)),t}function wn(t,e,n){t=iu(2*t);return(t+iu(e))%2==0?t/2:(t+(n?1:-1))/2}function bn(t){return null!=t&&"none"!=t}function Mn(t){return"string"==typeof t?function(t,e){var n=ut(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,255<n[i]?n[i]=255:t[i]<0&&(n[i]=0);return dt(n,4===n.length?"rgba":"rgb")}}(t,-.1):t}function Sn(t){if(t.__hoverStlDirty){var e=t.style.stroke,n=t.style.fill,i=t.__hoverStl;i.fill=i.fill||(bn(n)?Mn(n):null),i.stroke=i.stroke||(bn(e)?Mn(e):null);var r,o={};for(r in i)null!=i[r]&&(o[r]=t.style[r]);t.__normalStl=o,t.__hoverStlDirty=!1}}function Tn(t){var e,n,i,r;t.__isHover||(Sn(t),t.useHoverLayer?t.__zr&&t.__zr.addHover(t,t.__hoverStl):(!(n=(e=t.style).insideRollbackOpt)||(r=(i=e).insideRollback)&&(i.textFill=r.textFill,i.textStroke=r.textStroke,i.textStrokeWidth=r.textStrokeWidth),e.extendFrom(t.__hoverStl),n&&(Hn(e,e.insideOriginalTextPosition,n),null==e.textFill&&(e.textFill=n.autoColor)),t.dirty(!1),t.z2+=1),t.__isHover=!0)}function Cn(t){var e;t.__isHover&&(e=t.__normalStl,t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),--t.z2),t.__isHover=!1)}function In(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&Tn(t)}):Tn(t)}function Dn(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&Cn(t)}):Cn(t)}function kn(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&Sn(t)}function An(t){this.__hoverSilentOnTouch&&t.zrByTouch||this.__isEmphasis||In(this)}function Pn(t){this.__hoverSilentOnTouch&&t.zrByTouch||this.__isEmphasis||Dn(this)}function Ln(){this.__isEmphasis=!0,In(this)}function On(){this.__isEmphasis=!1,Dn(this)}function Bn(t,e,n){t.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&kn(t,e)}):kn(t,e),t.on("mouseover",An).on("mouseout",Pn),t.on("emphasis",Ln).on("normal",On)}function En(t,e,n,i,r,o,a){var s=(r=r||au).labelFetcher,l=r.labelDataIndex,h=r.labelDimIndex,u=n.getShallow("show"),c=i.getShallow("show");(u||c)&&(s&&(d=s.getFormattedLabel(l,"normal",null,h)),null==d&&(d=p(r.defaultText)?r.defaultText(l,r):r.defaultText));var u=u?d:null,d=c?B(s?s.getFormattedLabel(l,"emphasis",null,h):null,d):null;null==u&&null==d||(Rn(t,n,o,r),Rn(e,i,a,r,!0)),t.text=u,e.text=d}function Rn(t,e,n,i,r){return zn(t,e,i,r),n&&D(t,n),t.host&&t.host.dirty&&t.host.dirty(!1),t}function zn(t,e,n,i){(n=n||au).isRectText&&("outside"===(a=e.getShallow("position")||(i?null:"inside"))&&(a="top"),t.textPosition=a,t.textOffset=e.getShallow("offset"),null!=(a=e.getShallow("rotate"))&&(a*=Math.PI/180),t.textRotation=a,t.textDistance=B(e.getShallow("distance"),i?null:5));var r,o,a=e.ecModel,s=a&&a.option.textStyle,l=function(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||au).rich;if(n)for(var i in e=e||{},n)n.hasOwnProperty(i)&&(e[i]=1);t=t.parentModel}return e}(e);if(l)for(var h in r={},l){l.hasOwnProperty(h)&&(o=e.getModel(["rich",h]),Nn(r[h]={},o,s,n,i))}return t.rich=r,Nn(t,e,s,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function Nn(t,e,n,i,r,o){n=!r&&n||au,t.textFill=Fn(e.getShallow("color"),i)||n.color,t.textStroke=Fn(e.getShallow("textBorderColor"),i)||n.textBorderColor,t.textStrokeWidth=B(e.getShallow("textBorderWidth"),n.textBorderWidth),r||(o&&(r=t.textPosition,t.insideRollback=Hn(t,r,i),t.insideOriginalTextPosition=r,t.insideRollbackOpt=i),null==t.textFill&&(t.textFill=i.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),o&&i.disableBox||(t.textBackgroundColor=Fn(e.getShallow("backgroundColor"),i),t.textPadding=e.getShallow("padding"),t.textBorderColor=Fn(e.getShallow("borderColor"),i),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Fn(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function Hn(t,e,n){var i,r=n.useInsideStyle;return null==t.textFill&&!1!==r&&(!0===r||n.isRectText&&e&&"string"==typeof e&&0<=e.indexOf("inside"))&&(i={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=n.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),i}function Vn(t,e){e=e||e.getModel("textStyle");return c([t.fontStyle||e&&e.getShallow("fontStyle")||"",t.fontWeight||e&&e.getShallow("fontWeight")||"",(t.fontSize||e&&e.getShallow("fontSize")||12)+"px",t.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}function Wn(t,e,n,i,r,o){var a,s;"function"==typeof r&&(o=r,r=null),i&&i.isAnimationEnabled()?(s=t?"Update":"",a=i.getShallow("animationDuration"+s),t=i.getShallow("animationEasing"+s),"function"==typeof(s=i.getShallow("animationDelay"+s))&&(s=s(r,i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null)),"function"==typeof a&&(a=a(r)),0<a?e.animateTo(n,a,s||0,t,o,!!o):(e.stopAnimation(),e.attr(n),o&&o())):(e.stopAnimation(),e.attr(n),o&&o())}function Gn(t,e,n,i,r){Wn(!0,t,e,n,i,r)}function Xn(t,e,n,i,r){Wn(!1,t,e,n,i,r)}function Yn(t,e,n){return e&&!L(e)&&(e=ms.getLocalTransform(e)),n&&(e=tt([],e)),W([],t,e)}function qn(t,e,i){function r(t){var e={position:T(t.position),rotation:t.rotation};return t.shape&&(e.shape=D({},t.shape)),e}var o,n;t&&e&&(n={},t.traverse(function(t){!t.isGroup&&t.anid&&(n[t.anid]=t)}),o=n,e.traverse(function(t){var e,n;t.isGroup||!t.anid||(e=o[t.anid])&&(n=r(t),t.attr(r(e)),Gn(t,n,i,t.dataIndex))}))}function Un(t,e,n){var i=(e=D({rectHover:!0},e)).style={strokeNoScale:!0};return n=n||{x:-1,y:-1,width:2,height:2},t?0===t.indexOf("image://")?(i.image=t.slice(8),k(i,n),new de(e)):mn(t.replace("path://",""),e,n,"center"):void 0}function jn(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function Zn(t,e,n){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==typeof t?t[e[i]]:null));i++);return null==t&&n&&(t=n.get(e)),t}function $n(t,e){var n=uu(t).getParent;return n?n.call(t,e):t.parentModel}function Kn(t){return[t||"",gu++,Math.random().toFixed(5)].join("_")}function Qn(t,e,n,i){var r=e[1]-e[0],o=n[1]-n[0];if(0==r)return 0==o?n[0]:(n[0]+n[1])/2;if(i)if(0<r){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*o+n[0]}function Jn(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?t.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function ti(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function ei(t){var e=t.toString(),t=e.indexOf("e");if(0<t){var n=+e.slice(t+1);return n<0?-n:0}n=e.indexOf(".");return n<0?0:e.length-1-n}function ni(t){var e=2*Math.PI;return(t%e+e)%e}function ii(t){return-mu<t&&t<mu}function ri(t){if(t instanceof Date)return t;if("string"!=typeof t)return new Date(null==t?NaN:Math.round(t));var e=vu.exec(t);if(!e)return new Date(NaN);if(e[8]){t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}function oi(t){return Math.floor(Math.log(t)/Math.LN10)}function ai(t,e){var n=oi(t),i=Math.pow(10,n),r=t/i;return t=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,-20<=n?+t.toFixed(n<0?-n:0):t}function si(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<t.length?"."+t[1]:"")}function li(t){return null==t?"":(t+"").replace(_u,function(t,e){return xu[e]})}function hi(t,e,n){A(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=wu[o];t=t.replace(cu(a),cu(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var h=e[s][r[l]];t=t.replace(cu(wu[l],s),n?li(h):h)}return t}function ui(t,e){var n=(t=P(t)?{color:t,extraCssText:e}:t||{}).color,i=t.type,e=t.extraCssText;return n?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+li(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+li(n)+";"+(e||"")+'"></span>':""}function ci(t,e){return"0000".substr(0,e-(t+="").length)+t}function di(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=ri(e),r=n?"UTC":"",o=i["get"+r+"FullYear"](),a=i["get"+r+"Month"]()+1,s=i["get"+r+"Date"](),l=i["get"+r+"Hours"](),e=i["get"+r+"Minutes"](),n=i["get"+r+"Seconds"](),r=i["get"+r+"Milliseconds"]();return t.replace("MM",ci(a,2)).replace("M",a).replace("yyyy",o).replace("yy",o%100).replace("dd",ci(s,2)).replace("d",s).replace("hh",ci(l,2)).replace("h",l).replace("mm",ci(e,2)).replace("m",e).replace("ss",ci(n,2)).replace("s",n).replace("SSS",ci(r,3))}function fi(s,l,h,u,c){var d=0,f=0;null==u&&(u=1/0),null==c&&(c=1/0);var p=0;l.eachChild(function(t,e){var n,i,r=t.position,o=t.getBoundingRect(),a=l.childAt(e+1),e=a&&a.getBoundingRect();p="horizontal"===s?(a=o.width+(e?-e.x+o.x:0),u<(n=d+a)||t.newline?(d=0,n=a,f+=p+h,o.height):Math.max(p,o.height)):(e=o.height+(e?-e.y+o.y:0),c<(i=f+e)||t.newline?(d+=p+h,f=0,i=e,o.width):Math.max(p,o.width)),t.newline||(r[0]=d,r[1]=f,"horizontal"===s?d=n+h:f=i+h)})}function pi(t,e,n){n=yu(n||0);var i=e.width,r=e.height,o=Jn(t.left,i),a=Jn(t.top,r),s=Jn(t.right,i),l=Jn(t.bottom,r),h=Jn(t.width,i),u=Jn(t.height,r),c=n[2]+n[0],d=n[1]+n[3],e=t.aspect;switch(isNaN(h)&&(h=i-s-d-o),isNaN(u)&&(u=r-l-c-a),null!=e&&(isNaN(h)&&isNaN(u)&&(i/r<e?h=.8*i:u=.8*r),isNaN(h)&&(h=e*u),isNaN(u)&&(u=h/e)),isNaN(o)&&(o=i-s-h-d),isNaN(a)&&(a=r-l-u-c),t.left||t.right){case"center":o=i/2-h/2-n[3];break;case"right":o=i-h-d}switch(t.top||t.bottom){case"middle":case"center":a=r/2-u/2-n[0];break;case"bottom":a=r-u-c}o=o||0,a=a||0,isNaN(h)&&(h=i-d-o-(s||0)),isNaN(u)&&(u=r-c-a-(l||0));u=new Mt(o+n[3],a+n[0],h,u);return u.margin=n,u}function gi(l,h,t){function e(t,e){var n={},i=0,r={},o=0;if(Mu(t,function(t){r[t]=l[t]}),Mu(t,function(t){u(h,t)&&(n[t]=r[t]=h[t]),c(n,t)&&i++,c(r,t)&&o++}),d[e])return c(h,t[1])?r[t[2]]=null:c(h,t[2])&&(r[t[1]]=null),r;if(2!==o&&i){if(2<=i)return n;for(var a=0;a<t.length;a++){var s=t[a];if(!u(n,s)&&u(l,s)){n[s]=l[s];break}}return n}return r}function u(t,e){return t.hasOwnProperty(e)}function c(t,e){return null!=t[e]&&"auto"!==t[e]}function n(t,e,n){Mu(t,function(t){e[t]=n[t]})}O(t)||(t={});var d=t.ignoreSize;A(d)||(d=[d,d]);var i=e(Tu[0],0),t=e(Tu[1],1);n(Tu[0],l,i),n(Tu[1],l,t)}function mi(t){return e={},(n=t)&&e&&Mu(Su,function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e;var e,n}function vi(t){return"category"===t.get("type")}function yi(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===zu?{}:[]),this.sourceFormat=t.sourceFormat||Nu,this.seriesLayoutBy=t.seriesLayoutBy||Hu,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&z(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function _i(t){var e,n,i=t.option,r=i.data,o=g(r)?Fu:Bu,a=!1,s=i.seriesLayoutBy,l=i.sourceHeader,h=i.dimensions,e=(n=(e=t).option).data?void 0:e.ecModel.getComponent("dataset",n.datasetIndex||0);e&&(r=(n=e.option).source,o=Wu(e).sourceFormat,a=!0,s=s||n.seriesLayoutBy,null==l&&(l=n.sourceHeader),h=h||n.dimensions);h=function(t,e,n,i,r){if(!t)return{dimensionsDefine:xi(r)};var o,a,s,l;{e===Eu?("auto"===i||null==i?wi(function(t){null!=t&&"-"!==t&&(P(t)?null==a&&(a=1):a=0)},n,t,10):a=i?1:0,r||1!==a||(r=[],wi(function(t,e){r[e]=null!=t?t:""},n,t)),o=r?r.length:n===Vu?t.length:t[0]?t[0].length:null):e===Ru?r||(r=function(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e){var i=[];return E(e,function(t,e){i.push(e)}),i}}(t),s=!0):e===zu?r||(r=[],s=!0,E(t,function(t,e){r.push(e)})):e===Bu&&(t=Ie(t[0]),o=A(t)&&t.length||1)}return s&&E(r,function(t,e){"name"===(O(t)?t.name:t)&&(l=e)}),{startIndex:a,dimensionsDefine:xi(r),dimensionsDetectCount:o,potentialNameDimIndex:l}}(r,o,s,l,h),i=i.encode;!i&&e&&(i=function(t,e,n,i,r,o){var a=function(t){var e=t.get("coordinateSystem"),n={coordSysName:e,coordSysDims:[],axisMap:z(),categoryAxisMap:z()};return(e=Ou[e])?(e(t,n,n.axisMap,n.categoryAxisMap),n):void 0}(t),s={},l=[],h=[],u=t.subType,c=z(["pie","map","funnel"]),d=z(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(a&&null!=d.get(u)){var t=t.ecModel,t=Wu(t).datasetMap,e=e.uid+"_"+r,f=t.get(e)||t.set(e,{categoryWayDim:1,valueWayDim:0});E(a.coordSysDims,function(t){var e;null==a.firstCategoryDimIndex?(e=f.valueWayDim++,s[t]=e,h.push(e)):a.categoryAxisMap.get(t)?(s[t]=0,l.push(0)):(e=f.categoryWayDim++,s[t]=e,h.push(e))})}else if(null!=c.get(u)){for(var p,g=0;g<5&&null==p;g++)bi(n,i,r,o.dimensionsDefine,o.startIndex,g)||(p=g);null!=p&&(s.value=p,u=o.potentialNameDimIndex||Math.max(p-1,0),h.push(u),l.push(u))}return l.length&&(s.itemName=l),h.length&&(s.seriesName=h),s}(t,e,r,o,s,h)),Wu(t).source=new yi({data:r,fromDataset:a,seriesLayoutBy:s,sourceFormat:o,dimensionsDefine:h.dimensionsDefine,startIndex:h.startIndex,dimensionsDetectCount:h.dimensionsDetectCount,encodeDefine:i})}function xi(t){if(t){var n=z();return w(t,function(t){if(null==(t=D({},O(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var e=n.get(t.name);return e?t.name+="-"+e.count++:n.set(t.name,{count:1}),t})}}function wi(t,e,n,i){if(null==i&&(i=1/0),e===Vu)for(var r=0;r<n.length&&r<i;r++)t(n[r]?n[r][0]:null,r);else for(var o=n[0]||[],r=0;r<o.length&&r<i;r++)t(o[r],r)}function bi(t,e,n,i,r,o){function a(t){return(null==t||!isFinite(t)||""===t)&&(!(!P(t)||"-"===t)||void 0)}var s,l;if(g(t))return!1;if(i&&(l=O(l=i[o])?l.name:l),e===Eu)if(n===Vu){for(var h=t[o],u=0;u<(h||[]).length&&u<5;u++)if(null!=(s=a(h[r+u])))return s}else for(u=0;u<t.length&&u<5;u++){var c=t[r+u];if(c&&null!=(s=a(c[o])))return s}else if(e===Ru){if(!l)return;for(u=0;u<t.length&&u<5;u++){if((d=t[u])&&null!=(s=a(d[l])))return s}}else if(e===zu){if(!l)return;if(!(h=t[l])||g(h))return!1;for(u=0;u<h.length&&u<5;u++)if(null!=(s=a(h[u])))return s}else if(e===Bu)for(u=0;u<t.length&&u<5;u++){var d,f=Ie(d=t[u]);if(!A(f))return!1;if(null!=(s=a(f[o])))return s}return!1}function Mi(t){var n,e,i;this.option={},this.option[Gu]=1,this._componentsMap=z({series:[]}),this._seriesIndices,this._seriesIndicesMap,n=t,e=this._theme.option,i=n.color&&!n.colorLayer,E(e,function(t,e){"colorLayer"===e&&i||Iu.hasClass(e)||("object"==typeof t?n[e]=n[e]?s(n[e],t,!1):I(t):null==n[e]&&(n[e]=t))}),s(t,Au,!1),this.mergeOption(t)}function Si(t,e){t._seriesIndicesMap=z(t._seriesIndices=w(e,function(t){return t.componentIndex})||[])}function Ti(t,e){return e.hasOwnProperty("subType")?h(t,function(t){return t.subType===e.subType}):t}function Ci(e){E(Yu,function(t){this[t]=y(e[t],e)},this)}function Ii(){this._coordinateSystems=[]}function Di(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function ki(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return E(t,function(t,e){var n=e.match(Ku);n&&n[1]&&n[2]&&(e=n[1],n=n[2].toLowerCase(),n=i[n],t=t,("min"===(e=e)?t<=n:"max"===e?n<=t:n===t)||(r=!1))}),r}function Ai(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=ec.length;n<i;n++){var r=ec[n],o=e.normal,a=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?s(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),a&&a[r]&&(t[r]=t[r]||{},t[r].emphasis?s(t[r].emphasis,a[r]):t[r].emphasis=a[r],a[r]=null)}}function Pi(t,e,n){var i,r;t&&t[e]&&(t[e].normal||t[e].emphasis)&&(i=t[e].normal,r=t[e].emphasis,i&&(n?(t[e].normal=t[e].emphasis=null,k(t[e],i)):t[e]=i),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r))}function Li(t){Pi(t,"itemStyle"),Pi(t,"lineStyle"),Pi(t,"areaStyle"),Pi(t,"label"),Pi(t,"labelLine"),Pi(t,"upperLabel"),Pi(t,"edgeLabel")}function Oi(t,e){var n=tc(t)&&t[e],i=tc(n)&&n.textStyle;if(i)for(var r=0,o=zl.length;r<o;r++){e=zl[r];i.hasOwnProperty(e)&&(n[e]=i[e])}}function Bi(t){t&&(Li(t),Oi(t,"label"),t.emphasis&&Oi(t.emphasis,"label"))}function Ei(t){return A(t)?t:t?[t]:[]}function Ri(t){return(A(t)?t[0]:t)||{}}function zi(e){E(nc,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}function Ni(g){E(g,function(h,u){var c=[],d=[NaN,NaN],t=[h.stackResultDimension,h.stackedOverDimension],f=h.data,p=h.isStackedByIndex,t=f.map(t,function(t,e,n){var i,r,o=f.get(h.stackedDimension,n);if(isNaN(o))return d;p?r=f.getRawIndex(n):i=f.get(h.stackedByDimension,n);for(var a=NaN,s=u-1;0<=s;s--){var l=g[s];if(p||(r=l.data.rawIndexOf(l.stackedByDimension,i)),0<=r){l=l.data.getByRawIndex(l.stackResultDimension,r);if(0<=o&&0<l||o<=0&&l<0){o+=l,a=l;break}}}return c[0]=o,c[1]=a,c});f.hostModel.setData(t),h.data=t})}function Fi(t,e){yi.isInstance(t)||(t=yi.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,i=t.sourceFormat;i===Fu&&(this._offset=0,this._dimSize=e,this._data=n),D(this,oc[i===Eu?i+"_"+t.seriesLayoutBy:i])}function Hi(){return this._data.length}function Vi(t){return this._data[t]}function Wi(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function Gi(t,e,n){return null!=n?t[n]:t}function Xi(t,e,n,i){return Yi(t[i],this._dimensionInfos[e])}function Yi(t,e){var n=e&&e.type;if("ordinal"!==n)return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+ri(t)),null==t||""===t?NaN:+t;e=e&&e.ordinalMeta;return e?e.parseAndCollect(t):t}function qi(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r,o,a=t.getProvider().getSource().sourceFormat,n=t.getDimensionInfo(n);return n&&(r=n.name,o=n.index),ac[a](i,e,o,r)}}}function Ui(t){return new ji(t)}function ji(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function Zi(t,e,n,i,r,o){gc.reset(n,i,r,o),t._callingProgress=e,t._callingProgress({start:n,end:i,count:i-n,next:gc.next},t.context)}function $i(t){var e,n,i=t.name;ke(t)||(t.name=(t=(e=(t=t).getRawData()).mapDimension("seriesName",!0),n=[],E(t,function(t){t=e.getDimensionInfo(t);t.displayName&&n.push(t.displayName)}),n.join(" ")||i))}function Ki(t){return t.model.getRawData().count()}function Qi(t){t=t.model;return t.setData(t.getRawData().cloneShallow()),Ji}function Ji(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function tr(e,n){E(e.CHANGABLE_METHODS,function(t){e.wrapMethod(t,f(er,n))})}function er(t){t=nr(t);t&&t.setOutputEnd(this.count())}function nr(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){e=n.currentTask;return!e||(n=e.agentStubMap)&&(e=n.get(t.uid)),e}}function ir(){this.group=new Gs,this.uid=Kn("viewChart"),this.renderTask=Ui({plan:ar,reset:sr}),this.renderTask.context={view:this}}function rr(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)rr(t.childAt(n),e)}function or(e,t,n){t=Pe(e,t);null!=t?E(Te(t),function(t){rr(e.getItemGraphicEl(t),n)}):e.eachItemGraphicEl(function(t){rr(t,n)})}function ar(t){return bc(t.model)}function sr(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,t=r&&wc(r).updateMethod,t=o?"incrementalPrepareRender":t&&a[t]?t:"render";return"render"!==t&&a[t](e,n,i,r),Mc[t]}function lr(t,n,i){function r(){c=(new Date).getTime(),d=null,t.apply(s,l||[])}var o,a,s,l,h,u=0,c=0,d=null;n=n||0;function e(){o=(new Date).getTime(),s=this,l=arguments;var t=h||n,e=h||i;h=null,a=o-(e?u:c)-t,clearTimeout(d),e?d=setTimeout(r,t):0<=a?r():d=setTimeout(r,-a),u=o}return e.clear=function(){d&&(clearTimeout(d),d=null)},e.debounceNextCall=function(t){h=t},e}function hr(t,e,n,i){this.ecInstance=t,this.api=e,this.unfinished;n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice();this._allHandlers=n.concat(i),this._stageTaskMap=z()}function ur(a,t,s,l,h){function u(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}var c;h=h||{},E(t,function(n){var t,e,i,r,o;h.visualType&&h.visualType!==n.visualType||(t=(r=a._stageTaskMap.get(n.uid)).seriesTaskMap,(e=r.overallTask)?((r=e.agentStubMap).each(function(t){u(h,t)&&(t.dirty(),i=!0)}),i&&e.dirty(),Ac(e,l),o=a.getPerformArgs(e,h.block),r.each(function(t){t.perform(o)}),c|=e.perform(o)):t&&t.each(function(t){u(h,t)&&t.dirty();var e=a.getPerformArgs(t,h.block);e.skip=!n.performRawSeries&&s.isSeriesFiltered(t.context.model),Ac(t,l),c|=t.perform(e)}))}),a.unfinished|=c}function cr(t){t.overallReset(t.ecModel,t.api,t.payload)}function dr(t){return t.overallProgress&&fr}function fr(){this.agent.dirty(),this.getDownstream().dirty()}function pr(){this.agent&&this.agent.dirty()}function gr(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function mr(t){t.useClearVisual&&t.data.clearAllVisual();t=t.resetDefines=Te(t.reset(t.model,t.ecModel,t.api,t.payload));return 1<t.length?w(t,function(t,e){return vr(e)}):Pc}function vr(o){return function(t,e){var n=e.data,i=e.resetDefines[o];if(i&&i.dataEach)for(var r=t.start;r<t.end;r++)i.dataEach(n,r);else i&&i.progress&&i.progress(t,n)}}function yr(t){return t.data.count()}function _r(t,e,n){e=e.uid,e=t._pipelineMap.get(e);e.head||(e.head=n),e.tail&&e.tail.pipe(n),(e.tail=n).__idxInPipeline=e.count++,n.__pipeline=e}function xr(t,e){for(var n in e.prototype)t[n]=S}function wr(i){return function(t,e,n){t=t&&t.toLowerCase(),us.prototype[i].call(this,t,e,n)}}function br(){us.call(this)}function Mr(t,e,n){function i(t,e){return t.__prio-e.__prio}n=n||{},"string"==typeof e&&(e=Qc[e]),this.id,this.group,this._dom=t;n=this._zr=Se(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=lr(y(n.flush,n),17),(e=I(e))&&rc(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Ii;var r,o,a,e=this._api=(e=(r=this)._coordSysMgr,D(new Ci(r),{getCoordinateSystems:y(e.getCoordinateSystems,e),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return r._model.getComponent(e.mainType,e.index);t=t.parent}}}));kt(Kc,i),kt(jc,i),this._scheduler=new hr(this,e,jc,Kc),us.call(this),this._messageCenter=new br,this._initEvents(),this.resize=y(this.resize,this),this._pendingActions=[],n.animation.on("frame",this._onframe,this),a=this,(o=n).on("rendered",function(){a.trigger("rendered"),!o.animation.isFinished()||a[Wc]||a._scheduler.unfinished||a._pendingActions.length||a.trigger("finished")}),x(this)}function Sr(t,e,n){var i,r=this._model,o=this._coordSysMgr.getCoordinateSystems();e=Oe(r,e);for(var a=0;a<o.length;a++){var s=o[a];if(s[t]&&null!=(i=s[t](r,e,n)))return i}}function Tr(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),Pr(t,"component",e,n),Pr(t,"chart",e,n),n.plan()}function Cr(e,n,i,r,t){function o(t){t&&t.__alive&&t[n]&&t[n](t.__model,a,e._api,i)}var a=e._model;if(!r)return zc(e._componentsViews.concat(e._chartsViews),o),0;var s={};s[r+"Id"]=i[r+"Id"],s[r+"Index"]=i[r+"Index"],s[r+"Name"]=i[r+"Name"];s={mainType:r,query:s};t&&(s.subType=t);var l=i.excludeSeriesId;null!=l&&(l=z(Te(l))),a&&a.eachComponent(s,function(t){l&&null!=l.get(t.id)||o(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])},e)}function Ir(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries(function(t){i.updateStreamModes(t,n[t.__viewId])})}function Dr(e,t){var n=e.type,i=e.escapeConnect,r=qc[n],o=r.actionInfo,a=(s=(o.update||"update").split(":")).pop(),s=null!=s[0]&&Hc(s[0]);this[Vc]=!0;var l=[e],h=!1;e.batch&&(h=!0,l=w(e.batch,function(t){return(t=k(D({},t),e)).batch=null,t}));var u,c=[],d="highlight"===n||"downplay"===n;zc(l,function(t){(u=(u=r.action(t,this._model,this._api))||D({},t)).type=o.event||u.type,c.push(u),d?Cr(this,a,t,"series"):s&&Cr(this,a,t,s.main,s.sub)},this),"none"===a||d||s||(this[Wc]?(Tr(this),Xc.update.call(this,e),this[Wc]=!1):Xc[a].call(this,e)),u=h?{type:o.event||n,escapeConnect:i,batch:c}:c[0],this[Vc]=!1,t||this._messageCenter.trigger(u.type,u)}function kr(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Dr.call(this,n,t)}}function Ar(t){t||this.trigger("updated")}function Pr(t,e,r,o){function n(t){var e,n="_ec_"+t.id+"_"+t.type,i=l[n];i||(e=Hc(t.type),(i=new(a?xc.getClass(e.main,e.sub):ir.getClass(e.sub))).init(r,u),l[n]=i,s.push(i),h.add(i.group)),t.__viewId=i.__id=n,i.__alive=!0,i.__model=t,i.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},a||o.prepareView(i,t,r,u)}for(var a="component"===e,s=a?t._componentsViews:t._chartsViews,l=a?t._componentsMap:t._chartsMap,h=t._zr,u=t._api,i=0;i<s.length;i++)s[i].__alive=!1;a?r.eachComponent(function(t,e){"series"!==t&&n(e)}):r.eachSeries(n);for(i=0;i<s.length;){var c=s[i];c.__alive?i++:(a||c.renderTask.dispose(),h.remove(c.group),c.dispose(r,u),s.splice(i,1),delete l[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function Lr(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function Or(t,e,n,i){var r,o,a,s,l;r=t,o=e,a=n,s=i,zc(l||r._componentsViews,function(t){var e=t.__model;t.render(e,o,a,s),Rr(e,t)}),zc(t._chartsViews,function(t){t.__alive=!1}),Br(t,e,0,i),zc(t._chartsViews,function(t){t.__alive||t.remove(e,n)})}function Br(r,t,e,o,a){var s,n,i,l,h=r._scheduler;t.eachSeries(function(t){var e=r._chartsMap[t.__viewId];e.__alive=!0;var n,i=e.renderTask;h.updatePayload(i,o),a&&a.get(t.uid)&&i.dirty(),s|=i.perform(h.getPerformArgs(i)),e.group.silent=!!t.get("silent"),Rr(t,e),e=e,n=t.get("blendMode")||null,e.group.traverse(function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",n)})})}),h.unfinished|=s,n=r._zr,i=t,n=n.storage,l=0,n.traverse(function(t){t.isGroup||l++}),l>i.get("hoverLayerThreshold")&&!Ua.node&&n.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)}),Dc(r._zr.dom,t)}function Er(e,n){zc($c,function(t){t(e,n)})}function Rr(t,e){var n=t.get("z"),i=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=i&&(t.zlevel=i))})}function zr(t){ed[t]=!1}function Nr(t){return td[e=rd,(t=t).getAttribute?t.getAttribute(e):t[e]];var e}function Fr(t,e){Qc[t]=e}function Hr(t){Zc.push(t)}function Vr(t,e){Yr(jc,t,e,1e3)}function Wr(t,e,n){"function"==typeof e&&(n=e,e="");var i=Fc(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,Rc(Gc.test(i)&&Gc.test(e)),qc[i]||(qc[i]={action:n,actionInfo:t}),Uc[e]=i}function Gr(t,e){Yr(Kc,t,e,1e3,"layout")}function Xr(t,e){Yr(Kc,t,e,3e3,"visual")}function Yr(t,e,n,i,r){(Nc(e)||Fc(e))&&(n=e,e=i);r=hr.wrapStageHandler(n,r);return r.__prio=e,r.__raw=n,t.push(r),r}function qr(t,e){Jc[t]=e}function Ur(t){return Iu.extend(t)}function jr(t){return xc.extend(t)}function Zr(t){return _c.extend(t)}function $r(r){var t={},o=t.encode={},a=z(),s=[],l=[];E(r.dimensions,function(t){var e,i=r.getDimensionInfo(t),n=i.coordDim;n&&(e=o[n],o.hasOwnProperty(n)||(e=o[n]=[]),e[i.coordDimIndex]=t,i.isExtraCoord||(a.set(n,1),"ordinal"===(n=i.type)||"time"===n||(s[0]=t)),i.defaultTooltip&&l.push(t)),ad.each(function(t,e){var n=o[e];o.hasOwnProperty(e)||(n=o[e]=[]);e=i.otherDims[e];null!=e&&!1!==e&&(n[e]=i.name)})});var i=[],h={};a.each(function(t,e){var n=o[e];h[e]=n[0],i=i.concat(n)}),t.dataDimsOnCoord=i,t.encodeFirstDimNotExtra=h;var e=o.label;e&&e.length&&(s=e.slice());e=o.tooltip;return e&&e.length?l=e.slice():l.length||(l=s.slice()),o.defaultedLabel=s,o.defaultedTooltip=l,t}function Kr(t,e,n){function s(t,e,n){null!=ad.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,d.set(e,!0))}yi.isInstance(e)||(e=yi.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var i,r,o,a,l,h=(n.dimsDef||[]).slice(),u=z(n.encodeDef),c=z(),d=z(),f=[],p=(i=e,r=t,o=h,a=n.dimCount,l=Math.max(i.dimensionsDetectCount||1,r.length,o.length,a||0),E(r,function(t){t=t.dimsDef;t&&(l=Math.max(l,t.length))}),l),g=0;g<p;g++){var m=h[g]=D({},O(h[g])?h[g]:{name:h[g]}),v=m.name,y=f[g]={otherDims:{}};null!=v&&null==c.get(v)&&(y.name=y.displayName=v,c.set(v,g)),null!=m.type&&(y.type=m.type),null!=m.displayName&&(y.displayName=m.displayName)}u.each(function(t,n){t=Te(t).slice();var i=u.set(n,[]);E(t,function(t,e){P(t)&&(t=c.get(t)),null!=t&&t<p&&(i[e]=t,s(f[t],n,e))})});var _=0;E(t,function(n){var i,r,o,t;P(n)?(i=n,n={}):(i=n.name,t=n.ordinalMeta,n.ordinalMeta=null,(n=I(n)).ordinalMeta=t,r=n.dimsDef,o=n.otherDims,n.name=n.coordDim=n.coordDimIndex=n.dimsDef=n.otherDims=null);var e=Te(u.get(i));if(!e.length)for(var a=0;a<(r&&r.length||1);a++){for(;_<f.length&&null!=f[_].coordDim;)_++;_<f.length&&e.push(_++)}E(e,function(t,e){t=f[t];s(k(t,n),i,e),null==t.name&&r&&(O(e=r[e])||(e={name:e}),t.name=t.displayName=e.name,t.defaultTooltip=e.defaultTooltip),o&&k(t.otherDims,o)})});for(var x,w,b=n.generateCoord,M=null!=(S=n.generateCoordCount),S=b?S||1:0,T=b||"value",C=0;C<p;C++){null==(y=f[C]=f[C]||{}).coordDim&&(y.coordDim=Qr(T,d,M),y.coordDimIndex=0,(!b||S<=0)&&(y.isExtraCoord=!0),S--),null==y.name&&(y.name=Qr(y.coordDim,c)),null==y.type&&(x=e,w=C,y.name,bi(x.data,x.sourceFormat,x.seriesLayoutBy,x.dimensionsDefine,x.startIndex,w))&&(y.type="ordinal")}return f}function Qr(t,e,n){if(n||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}function Jr(t){return t}function to(t,e,n,i,r){this._old=t,this._new=e,this._oldKeyGetter=n||Jr,this._newKeyGetter=i||Jr,this.context=r}function eo(t,e,n,i,r){for(var o=0;o<t.length;o++){var a="_ec_"+r[i](t[o],o),s=e[a];null==s?(n.push(a),e[a]=o):(s.length||(e[a]=s=[s]),s.push(o))}}function no(t){return 65535<t._rawCount?ud:cd}function io(e,n){E(dd.concat(n.__wrappedMethods||[]),function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e.__wrappedMethods=n.__wrappedMethods,E(fd,function(t){e[t]=I(n[t])}),e._calculationInfo=D(n._calculationInfo)}function ro(t,e,n){var i,r,o;return null!=e&&(r=t._chunkSize,o=Math.floor(n/r),r=n%r,e=t.dimensions[e],(o=t._storage[e][o])&&(i=o[r],(e=t._dimensionInfos[e].ordinalMeta)&&e.categories.length&&(i=e.categories[i]))),i}function oo(t){return t}function ao(t){return t<this._count&&0<=t?this._indices[t]:-1}function so(t,e){var n=t._idList[e];return null==n&&(n=ro(t,t._idDimIdx,e)),null==n&&(n="e\0\0"+e),n}function lo(t){return A(t)||(t=[t]),t}function ho(t,e){var n=t.dimensions,i=new sd(w(n,t.getDimensionInfo,t),t.hostModel);io(i,t);for(var r=i._storage={},o=t._storage,a=0;a<n.length;a++){var s=n[a];o[s]&&(0<=d(e,s)?(r[s]=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=function(t){var e=t.constructor;return e===Array?t.slice():new e(t)}(t[n]);return e}(o[s]),i._rawExtent[s]=uo(),i._extent[s]=null):r[s]=o[s])}return i}function uo(){return[1/0,-1/0]}function co(t,e,n,i){var r=e.getData(),o=this.dataIndex,o=r.getName(o),a=e.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:t,name:o,seriesId:e.id}),r.each(function(t){fo(r.getItemGraphicEl(t),r.getItemLayout(t),e.isSelected(r.getName(t)),a,n)})}function fo(t,e,n,i,r){e=(e.startAngle+e.endAngle)/2,i=n?i:0,i=[Math.cos(e)*i,Math.sin(e)*i];r?t.animate().when(200,{position:i}).start("bounceOut"):t.attr("position",i)}function po(t,e){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function i(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}Gs.call(this);var r=new $h({z2:2}),o=new Kh,a=new Bh;this.add(r),this.add(o),this.add(a),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function go(r,t,e,n,i,o,a){function s(t,e){for(var n=t;0<=n&&(r[n].y-=e,!(0<n&&r[n].y>r[n-1].y+r[n-1].height));n--);}function l(t,e,n,i,r,o){for(var a,s,l,h=e?Number.MAX_VALUE:0,u=0,c=t.length;u<c;u++){"center"!==t[u].position&&(l=Math.abs(t[u].y-i),a=t[u].len,s=t[u].len2,l=l<r+a?Math.sqrt((r+a+s)*(r+a+s)-l*l):Math.abs(t[u].x-n),e&&h<=l&&(l=h-10),!e&&l<=h&&(l=h+10),t[u].x=n+l*o,h=l)}}r.sort(function(t,e){return t.y-e.y});for(var h,u=0,c=r.length,d=[],f=[],p=0;p<c;p++)(h=r[p].y-u)<0&&function(t,e,n){for(var i=t;i<e;i++)if(r[i].y+=n,t<i&&i+1<e&&r[i+1].y>r[i].y+r[i].height)return s(i,n/2);s(e-1,n/2)}(p,c,-h),u=r[p].y+r[p].height;a-u<0&&s(c-1,u-a);for(p=0;p<c;p++)(r[p].y>=e?f:d).push(r[p]);l(d,!1,t,e,n,i),l(f,!0,t,e,n,i)}function mo(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function vo(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function yo(t){return t._map||(t._map=z(t.categories))}function _o(t){return O(t)&&null!=t.value?t.value:t+""}function xo(t){return ei(t)+2}function wo(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function bo(t,e){isFinite(t[0])||(t[0]=e[0]),isFinite(t[1])||(t[1]=e[1]),wo(t,0,e),wo(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function Mo(t){return t.get("stack")||Cd+t.seriesIndex}function So(t){return t.dim+t.index}function To(t){var s=[];return E(t,function(t){var e=t.getData(),n=t.coordinateSystem.getBaseAxis(),i=n.getExtent(),r="category"===n.type?n.getBandWidth():Math.abs(i[1]-i[0])/e.count(),o=Jn(t.get("barWidth"),r),a=Jn(t.get("barMaxWidth"),r),i=t.get("barGap"),e=t.get("barCategoryGap");s.push({bandWidth:r,barWidth:o,barMaxWidth:a,barGap:i,barCategoryGap:e,axisKey:So(n),stackId:Mo(t)})}),function(t){var o={};E(t,function(t){var e=t.axisKey,n=t.bandWidth,i=o[e]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},r=i.stacks;o[e]=i;n=t.stackId;r[n]||i.autoWidthCount++,r[n]=r[n]||{width:0,maxWidth:0};e=t.barWidth;e&&!r[n].width&&(r[n].width=e,e=Math.min(i.remainedWidth,e),i.remainedWidth-=e);e=t.barMaxWidth;e&&(r[n].maxWidth=e);e=t.barGap;null!=e&&(i.gap=e);t=t.barCategoryGap;null!=t&&(i.categoryGap=t)});var c={};return E(o,function(t,n){c[n]={};var e=t.stacks,i=t.bandWidth,i=Jn(t.categoryGap,i),r=Jn(t.gap,1),o=t.remainedWidth,a=t.autoWidthCount,s=(o-i)/(a+(a-1)*r),s=Math.max(s,0);E(e,function(t){var e=t.maxWidth;e&&e<s&&(e=Math.min(e,o),t.width&&(e=Math.min(e,t.width)),o-=e,t.width=e,a--)}),s=(o-i)/(a+(a-1)*r),s=Math.max(s,0);var l,h=0;E(e,function(t){t.width||(t.width=s),h+=(l=t).width*(1+r)}),l&&(h-=l.width*r);var u=-h/2;E(e,function(t,e){c[n][e]=c[n][e]||{offset:u,width:t.width},u+=t.width*(1+r)})}),c}(s)}function Co(t,e,n){if(t&&e){e=t[So(e)];return null!=e&&null!=n&&(e=e[Mo(n)]),e}}function Io(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Do(t){return t.pipelineContext&&t.pipelineContext.large}function ko(t,e){return Rd(t,Ed(e))}function Ao(t,e){var n,i,r,o=t.type,a=e.getMin(),s=e.getMax(),l=null!=a,h=null!=s,u=t.getExtent();"ordinal"===o?n=e.getCategories().length:(A(i=e.get("boundaryGap"))||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(i=[0,0]),i[0]=Jn(i[0],1),i[1]=Jn(i[1],1),r=u[1]-u[0]||Math.abs(u[0])),null==a&&(a="ordinal"===o?n?0:NaN:u[0]-i[0]*r),null==s&&(s="ordinal"===o?n?n-1:NaN:u[1]+i[1]*r),"dataMin"===a?a=u[0]:"function"==typeof a&&(a=a({min:u[0],max:u[1]})),"dataMax"===s?s=u[1]:"function"==typeof s&&(s=s({min:u[0],max:u[1]})),null!=a&&isFinite(a)||(a=NaN),null!=s&&isFinite(s)||(s=NaN),t.setBlank(v(a)||v(s)||"ordinal"===o&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(0<a&&0<s&&!l&&(a=0),a<0&&s<0&&!h&&(s=0));var c,d,h=e.ecModel;return h&&"time"===o&&(o="bar",d=[],h.eachSeriesByType(o,function(t){Io(t)&&!Do(t)&&d.push(t)}),E(o=d,function(t){c|=t.getBaseAxis()===e.axis}),c&&(o=To(o),a=(o=function(t,e,n,i){var r=n.axis.getExtent(),r=r[1]-r[0],i=Co(i,n.axis);if(void 0===i)return{min:t,max:e};var o=1/0;E(i,function(t){o=Math.min(t.offset,o)});var a=-1/0;E(i,function(t){a=Math.max(t.offset+t.width,a)}),o=Math.abs(o),a=Math.abs(a);n=o+a,i=e-t,i=i/(1-(o+a)/r)-i;return{min:t-=o/n*i,max:e+=a/n*i}}(a,s,e,o)).min,s=o.max)),[a,s]}function Po(t,e){var n=Ao(t,e),i=null!=e.getMin(),r=null!=e.getMax(),o=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var a=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:o,fixMin:i,fixMax:r,minInterval:"interval"===a||"time"===a?e.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?e.get("maxInterval"):null});e=e.get("interval");null!=e&&t.setInterval&&t.setInterval(e)}function Lo(n){var e,i=n.getLabelModel().get("formatter"),r="category"===n.type?n.scale.getExtent()[0]:null;return"string"==typeof i?(e=i,i=function(t){return e.replace("{value}",null!=t?t:"")}):"function"==typeof i?function(t,e){return null!=r&&(e=t-r),i(Oo(n,t),e)}:function(t){return n.scale.getLabel(t)}}function Oo(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Bo(t){var e,n,i=t.model,r=t.scale;if(i.get("axisLabel.show")&&!r.isBlank()){var o,a,i="category"===t.type,s=r.getExtent(),l=i?r.count():(o=r.getTicks()).length,h=t.getLabelModel(),u=Lo(t),c=1;40<l&&(c=Math.ceil(l/40));for(var d=0;d<l;d+=c){var f=u(o?o[d]:s[0]+d),p=h.getTextRect(f),g=(e=p,n=h.get("rotate")||0,g=p=f=g=void 0,g=n*Math.PI/180,f=e.plain(),p=f.width,n=f.height,e=p*Math.cos(g)+n*Math.sin(g),g=p*Math.sin(g)+n*Math.cos(g),new Mt(f.x,f.y,e,g));a?a.union(g):a=g}return a}}function Eo(t){return this._axes[t]}function Ro(t){Wd.call(this,t)}function zo(t){return"category"===t.type?(r=(e=t).getLabelModel(),o=Fo(e,r),!r.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:o.labelCategoryInterval}:o):(t=(n=t).scale.getTicks(),i=Lo(n),{labels:w(t,function(t,e){return{formattedLabel:i(t,e),rawLabel:n.scale.getLabel(t),tickValue:t}})});var n,i,e,r,o}function No(t,e){return"category"===t.type?function(t,e){var n,i,r=Ho(t,"ticks"),o=Yo(e),a=Vo(r,o);if(a)return a;{e.get("show")&&!t.scale.isBlank()||(n=[]),n=p(o)?Xo(t,o,!0):"auto"===o?(e=Fo(t,t.getLabelModel()),i=e.labelCategoryInterval,w(e.labels,function(t){return t.tickValue})):Go(t,i=o,!0)}return Wo(r,o,{ticks:n,tickCategoryInterval:i})}(t,e):{ticks:t.scale.getTicks()}}function Fo(t,e){var n,i=Ho(t,"labels"),r=Yo(e),e=Vo(i,r);return e||Wo(i,r,{labels:p(r)?Xo(t,r):Go(t,n="auto"===r?null!=(t=Xd(n=t).autoInterval)?t:Xd(n).autoInterval=n.calculateCategoryInterval():r),labelCategoryInterval:n})}function Ho(t,e){return Xd(t)[e]||(Xd(t)[e]=[])}function Vo(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function Wo(t,e,n){return t.push({key:e,value:n}),n}function Go(t,e,n){function i(t){l.push(n?t:{formattedLabel:r(t),rawLabel:o.getLabel(t),tickValue:t})}var r=Lo(t),o=t.scale,a=o.getExtent(),s=t.getLabelModel(),l=[],h=Math.max((e||0)+1,1),t=a[0],e=o.count();0!==t&&1<h&&2<e/h&&(t=Math.round(Math.ceil(t/h)*h));e=s.get("showMinLabel"),s=s.get("showMaxLabel");e&&t!==a[0]&&i(a[0]);for(var u=t;u<=a[1];u+=h)i(u);return s&&u!==a[1]&&i(a[1]),l}function Xo(t,n,i){var r=t.scale,o=Lo(t),a=[];return E(r.getTicks(),function(t){var e=r.getLabel(t);n(t,e)&&a.push(i?t:{formattedLabel:o(t),rawLabel:e,tickValue:t})}),a}function Yo(t){t=t.get("interval");return null==t?"auto":t}function qo(t,e){e=(t[1]-t[0])/e/2;t[0]+=e,t[1]-=e}function Uo(t,e){return e.type||(e.data?"category":"value")}function jo(t,e){return t.getCoordSysModel()===e}function Zo(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}function $o(t,e,n){n.getAxesOnZeroOf=function(){return i?[i]:[]};var i,r=t[e],e=n.model,n=e.get("axisLine.onZero"),e=e.get("axisLine.onZeroAxisIndex");if(n){if(null!=e)return Ko(r[e])&&(i=r[e]),0;for(var o in r)if(r.hasOwnProperty(o)&&Ko(r[o])){i=r[o];break}}}function Ko(t){return t&&"category"!==t.type&&"time"!==t.type&&(e=(t=(e=t).scale.getExtent())[0],t=t[1],!(0<e&&0<t||e<0&&t<0));var e}function Qo(e){return w($d,function(t){return e.getReferringComponents(t)[0]})}function Jo(t){return"cartesian2d"===t.get("coordinateSystem")}function ta(t,e){var n,i;"image"!==this.type&&(n=this.style,(i=this.shape)&&"line"===i.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1))}function ea(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function na(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function ia(t){t&&(t.ignore=!0)}function ra(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i){var r=Z([]);return Q(r,r,-t.rotation),n.applyTransform($([],r,t.getLocalTransform())),i.applyTransform($([],r,e.getLocalTransform())),n.intersect(i)}}function oa(t){return"middle"===t||"center"===t}function aa(t,e){var h,u,r,c,d,f,n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return h=n,e=e,r=(u=t).getComponent("tooltip"),c=u.getComponent("axisPointer"),d=c.get("link",!0)||[],f=[],of(e.getCoordinateSystems(),function(a){function t(t,e,n){var i,r=n.model.getModel("axisPointer",c),o=r.get("show");o&&("auto"!==o||t||ha(r))&&(null==e&&(e=r.get("triggerTooltip")),i=(r=t?function(t,e,n,i,r,o){var a=e.getModel("axisPointer"),s={};of(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=I(a.get(t))}),s.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(s.type="line");e=s.label||(s.label={});{null==e.show&&(e.show=!1),"cross"===r&&(r=a.get("label.show"),e.show=null==r||r,o||(o=s.lineStyle=a.get("crossStyle"))&&k(e,o.textStyle))}return t.model.getModel("axisPointer",new jn(s,n,i))}(n,l,c,u,t,e):r).get("snap"),o=ua(n.model),t=e||i||"category"===n.type,r=h.axesInfo[o]={key:o,axis:n,coordSys:a,axisPointerModel:r,triggerTooltip:e,involveSeries:t,snap:i,useHandle:ha(r),seriesModels:[]},s[o]=r,h.seriesInvolved|=t,null!=(t=function(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(sa(o[i+"AxisId"],n.id)||sa(o[i+"AxisIndex"],n.componentIndex)||sa(o[i+"AxisName"],n.name))return r}}(d,n))&&((n=f[t]||(f[t]={axesInfo:{}})).axesInfo[o]=r,n.mapper=d[t].mapper,r.linkGroup=n))}var s,l,e,n,i;a.axisPointerEnabled&&(i=ua(a.model),s=h.coordSysAxesInfo[i]={},l=(h.coordSysMap[i]=a).model.getModel("tooltip",r),of(a.getAxes(),af(t,!1,null)),a.getTooltipAxes&&r&&l.get("show")&&(e="axis"===l.get("trigger"),n="cross"===l.get("axisPointer.type"),i=a.getTooltipAxes(l.get("axisPointer.axis")),(e||n)&&of(i.baseAxes,af(t,!n||"cross",e)),n&&of(i.otherAxes,af(t,"cross",!1))))}),n.seriesInvolved&&function(r,t){t.eachSeries(function(n){var i=n.coordinateSystem,t=n.get("tooltip.trigger",!0),e=n.get("tooltip.show",!0);i&&"none"!==t&&!1!==t&&"item"!==t&&!1!==e&&!1!==n.get("axisPointer.show",!0)&&of(r.coordSysAxesInfo[ua(i.model)],function(t){var e=t.axis;i.getAxis(e.dim)===e&&(t.seriesModels.push(n),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=n.getData().count())})},this)}(n,t),n}function sa(t,e){return"all"===t||A(t)&&0<=d(t,e)||t===e}function la(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[ua(t)]}function ha(t){return!!t.get("handle.show")}function ua(t){return t.type+"||"+t.id}function ca(t,e,n,i,r,o){var a,s=sf.getAxisPointerClass(t.axisPointerClass);s&&((a=(a=la(a=e))&&a.axisPointerModel)?(t._axisPointer||(t._axisPointer=new s)).render(e,a,i,o):da(t,i))}function da(t,e,n){var i=t._axisPointer;i&&i.dispose(e,n),t._axisPointer=null}function fa(t,e,n){n=n||{};var i=t.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,h=r.dim,u=i.getRect(),t=[u.x,u.x+u.width,u.y,u.y+u.height],r={left:0,right:1,top:0,bottom:1,onZero:2},i=e.get("offset")||0,u="x"===h?[t[2]-i,t[3]+i]:[t[0]-i,t[1]+i];a&&(i=a.toGlobalCoord(a.dataToCoord(0)),u[r.onZero]=Math.max(Math.min(i,u[1]),u[0])),o.position=["y"===h?u[r[l]]:t[0],"x"===h?u[r[l]]:t[3]],o.rotation=Math.PI/2*("x"===h?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?u[r[s]]-u[r.onZero]:0,e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),_(n.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);e=e.get("axisLabel.rotate");return o.labelRotate="top"===l?-e:e,o.z2=1,o}function pa(t,e,n,i,r){var o,a,s,l,h,u,c,d=t.axis;if(!d.scale.isBlank()&&d.containData(e)){if(!t.involveSeries)return n.showPointer(t,e),0;var f=(o=e,a=(g=t).axis,s=a.dim,l=o,h=[],u=Number.MAX_VALUE,c=-1,ff(g.seriesModels,function(e){var t=e.getData().mapDimension(s,!0);if(e.getAxisTooltipData)var n=e.getAxisTooltipData(t,o,a),i=n.dataIndices,r=n.nestestValue;else{if(!(i=e.getData().indicesOfNearest(t[0],o,"category"===a.type?.5:null)).length)return;r=e.getData().get(t[0],i[0])}null!=r&&isFinite(r)&&(n=o-r,(t=Math.abs(n))<=u&&((t<u||0<=n&&c<0)&&(u=t,c=n,l=r,h.length=0),ff(i,function(t){h.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}),{payloadBatch:h,snapToValue:l}),p=f.payloadBatch,g=f.snapToValue;p[0]&&null==r.seriesIndex&&D(r,p[0]),!i&&t.snap&&d.containData(g)&&null!=g&&(e=g),n.showPointer(t,e,p,r),n.showTooltip(t,f,g)}}function ga(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function ma(t,e,n,i){var r,o=n.payloadBatch,a=e.axis,s=a.model,l=e.axisPointerModel;e.triggerTooltip&&o.length&&(n=ua(r=e.coordSys.model),(e=t.map[n])||(e=t.map[n]={coordSysId:r.id,coordSysIndex:r.componentIndex,coordSysType:r.type,coordSysMainType:r.mainType,dataByAxis:[]},t.list.push(e)),e.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:o.slice()}))}function va(t){var e=t.axis.model,n={},t=n.axisDim=t.axis.dim;return n.axisIndex=n[t+"AxisIndex"]=e.componentIndex,n.axisName=n[t+"AxisName"]=e.name,n.axisId=n[t+"AxisId"]=e.id,n}function ya(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function _a(t,e,n){var i,c,d;function r(t,u){c.on(t,function(e){var n,i,r,t,o,a,s,l,h=(n=d,{dispatchAction:r=function(t){var e=i[t.type];e?e.push(t):(t.dispatchAction=r,n.dispatchAction(t))},pendings:i={showTip:[],hideTip:[]}});vf(mf(c).records,function(t){t&&u(t,e,h.dispatchAction)}),o=d,s=(t=h.pendings).showTip.length,l=t.hideTip.length,s?a=t.showTip[s-1]:l&&(a=t.hideTip[l-1]),a&&(a.dispatchAction=null,o.dispatchAction(a))})}Ua.node||(i=e.getZr(),mf(i).records||(mf(i).records={}),d=e,mf(c=i).initialized||(mf(c).initialized=!0,r("click",f(wa,"click")),r("mousemove",f(wa,"mousemove")),r("globalout",xa)),(mf(i).records[t]||(mf(i).records[t]={})).handler=n)}function xa(t,e,n){t.handler("leave",null,n)}function wa(t,e,n,i){e.handler(t,n,i)}function ba(t,e){Ua.node||(e=e.getZr(),(mf(e).records||{})[t]&&(mf(e).records[t]=null))}function Ma(){}function Sa(t,e,n,i){!function n(i,t){if(O(i)&&O(t)){var r=!0;return E(t,function(t,e){r=r&&n(i[e],t)}),!!r}return i===t}(_f(n).lastProp,i)&&(_f(n).lastProp=i,e?Gn(n,i,t):(n.stopAnimation(),n.attr(i)))}function Ta(t,e){t[e.get("label.show")?"show":"hide"]()}function Ca(t){return{position:t.position.slice(),rotation:t.rotation||0}}function Ia(t,e,n){var i=e.get("z"),r=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)})}function Da(t,e,n,i,r){var o=ka(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),a=n.getModel("label"),s=yu(a.get("padding")||0),l=a.getFont(),h=Ft(o,l),u=r.position,c=h.width+s[1]+s[3],d=h.height+s[0]+s[2],n=r.align;"right"===n&&(u[0]-=c),"center"===n&&(u[0]-=c/2);h=r.verticalAlign;"bottom"===h&&(u[1]-=d),"middle"===h&&(u[1]-=d/2),s=u,n=c,r=d,i=(h=i).getWidth(),h=h.getHeight(),s[0]=Math.min(s[0]+n,i)-n,s[1]=Math.min(s[1]+r,h)-r,s[0]=Math.max(s[0],0),s[1]=Math.max(s[1],0);s=a.get("backgroundColor");s&&"auto"!==s||(s=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:c,height:d,r:a.get("borderRadius")},position:u.slice(),style:{text:o,textFont:l,textFill:a.getTextColor(),textPosition:"inside",fill:s,stroke:a.get("borderColor")||"transparent",lineWidth:a.get("borderWidth")||0,shadowBlur:a.get("shadowBlur"),shadowColor:a.get("shadowColor"),shadowOffsetX:a.get("shadowOffsetX"),shadowOffsetY:a.get("shadowOffsetY")},z2:10}}function ka(t,e,n,i,r){t=e.scale.parse(t);var o,a=e.scale.getLabel(t,{precision:r.precision}),r=r.formatter;return r&&(o={value:Oo(e,t),seriesData:[]},E(i,function(t){var e=n.getSeriesByIndex(t.seriesIndex),t=t.dataIndexInside,t=e&&e.getDataParams(t);t&&o.seriesData.push(t)}),P(r)?a=r.replace("{value}",a):p(r)&&(a=r(o))),a}function Aa(t,e,n){var i=j();return Q(i,i,n.rotation),K(i,i,n.position),Yn([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function Pa(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}function La(t){return"x"===t.dim?0:1}function Oa(i){var n,r,t,e,o,a=[],s=i.get("transitionDuration"),l=i.get("backgroundColor"),h=i.getModel("textStyle"),u=i.get("padding");return s&&a.push((o="left "+(e=s)+"s "+(s="cubic-bezier(0.23, 1, 0.32, 1)")+",top "+e+"s "+s,w(Tf,function(t){return t+"transition:"+o}).join(";"))),l&&(Ua.canvasSupported?a.push("background-Color:"+l):(a.push("background-Color:#"+((t=ut(t=l))?((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1):void 0)),a.push("filter:alpha(opacity=70)"))),Mf(["width","color","radius"],function(t){var e="border-"+t,n=Sf(e),n=i.get(n);null!=n&&a.push(e+":"+n+("color"===t?"":"px"))}),a.push((r=[],t=(n=h).get("fontSize"),(h=n.getTextColor())&&r.push("color:"+h),r.push("font:"+n.getFont()),t&&r.push("line-height:"+Math.round(3*t/2)+"px"),Mf(["decoration","align"],function(t){var e=n.get(t);e&&r.push("text-"+t+":"+e)}),r.join(";"))),null!=u&&a.push("padding:"+yu(u).join("px ")+"px"),a.join(";")+";"}function Ba(n,t){if(Ua.wxa)return null;var e=document.createElement("div"),i=this._zr=t.getZr();this.el=e,this._x=t.getWidth()/2,this._y=t.getHeight()/2,n.appendChild(e),this._container=n,this._show=!1,this._hideTimeout;var r=this;e.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},e.onmousemove=function(t){var e;t=t||window.event,r._enterable||(e=i.handler,me(n,t,!0),e.dispatch("mousemove",t))},e.onmouseleave=function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}function Ea(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(jn.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),e=new jn(n,e,e.ecModel))}return e}function Ra(t,e){return t.dispatchAction||y(e.dispatchAction,e)}function za(t){var e=t.clientWidth,n=t.clientHeight;return document.defaultView&&document.defaultView.getComputedStyle&&((t=document.defaultView.getComputedStyle(t))&&(e+=parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10)+parseInt(t.borderLeftWidth,10)+parseInt(t.borderRightWidth,10),n+=parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10)+parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10))),{width:e,height:n}}function Na(t){return"center"===t||"middle"===t}function Fa(){return is.createCanvas()}var Ha,Va,Wa,Ga,Xa,Ya=2311,qa=function(){return Ya++},Ua="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:(Va={},Wa=(Ha=navigator.userAgent).match(/Firefox\/([\d.]+)/),Ga=Ha.match(/MSIE\s([\d.]+)/)||Ha.match(/Trident\/.+?rv:(([\d.]+))/),Xa=Ha.match(/Edge\/([\d.]+)/),Ha=/micromessenger/i.test(Ha),Wa&&(Va.firefox=!0,Va.version=Wa[1]),Ga&&(Va.ie=!0,Va.version=Ga[1]),Xa&&(Va.edge=!0,Va.version=Xa[1]),Ha&&(Va.weChat=!0),{browser:Va,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!Va.ie&&!Va.edge,pointerEventsSupported:"onpointerdown"in window&&(Va.edge||Va.ie&&11<=Va.version)}),ja={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Za={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},$a=Object.prototype.toString,Ka=Array.prototype,Qa=Ka.forEach,Ja=Ka.filter,ts=Ka.slice,es=Ka.map,ns=Ka.reduce,is={};is.createCanvas=function(){return document.createElement("canvas")};var rs,os="__ec_primitive__";M.prototype={constructor:M,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=y(t,e)),this)this.hasOwnProperty(n)&&t(this[n],n)},removeKey:function(t){delete this[t]}};var as="undefined"==typeof Float32Array?Array:Float32Array,ss=V,ls=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])};Y.prototype={constructor:Y,_dragStart:function(t){var e=t.target;e&&e.draggable&&((this._draggingTarget=e).dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(q(e,t),"dragstart",t.event))},_drag:function(t){var e,n,i,r,o=this._draggingTarget;o&&(i=t.offsetX,r=t.offsetY,e=i-this._x,n=r-this._y,this._x=i,this._y=r,o.drift(e,n,t),this.dispatchToElement(q(o,t),"drag",t.event),i=this.findHover(i,r,o).target,r=this._dropTarget,o!==(this._dropTarget=i)&&(r&&i!==r&&this.dispatchToElement(q(r,t),"dragleave",t.event),i&&i!==r&&this.dispatchToElement(q(i,t),"dragenter",t.event)))},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(q(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(q(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var hs=Array.prototype.slice,us=function(){this._$handlers={}};us.prototype={constructor:us,one:function(t,e,n){var i=this._$handlers;if(!e||!t)return this;i[t]||(i[t]=[]);for(var r=0;r<i[t].length;r++)if(i[t][r].h===e)return this;return i[t].push({h:e,one:!0,ctx:n||this}),this},on:function(t,e,n){var i=this._$handlers;if(!e||!t)return this;i[t]||(i[t]=[]);for(var r=0;r<i[t].length;r++)if(i[t][r].h===e)return this;return i[t].push({h:e,one:!1,ctx:n||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;r<o;r++)n[t][r].h!=e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;3<n&&(e=hs.call(e,1));for(var i=this._$handlers[t],r=i.length,o=0;o<r;){switch(n){case 1:i[o].h.call(i[o].ctx);break;case 2:i[o].h.call(i[o].ctx,e[1]);break;case 3:i[o].h.call(i[o].ctx,e[1],e[2]);break;default:i[o].h.apply(i[o].ctx,e)}i[o].one?(i.splice(o,1),r--):o++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;4<n&&(e=hs.call(e,1,e.length-1));for(var i=e[e.length-1],r=this._$handlers[t],o=r.length,a=0;a<o;){switch(n){case 1:r[a].h.call(i);break;case 2:r[a].h.call(i,e[1]);break;case 3:r[a].h.call(i,e[1],e[2]);break;default:r[a].h.apply(i,e)}r[a].one?(r.splice(a,1),o--):a++}}return this}};var cs="silent";U.prototype.dispose=function(){};function ds(t,e,n,i){us.call(this),this.storage=t,this.painter=e,this.painterRoot=i,n=n||new U,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,Y.call(this),this.setHandlerProxy(n)}var fs=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];ds.prototype={constructor:ds,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(E(fs,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(t){var e=t.zrX,n=t.zrY,i=this._hovered,r=i.target;r&&!r.__zr&&(r=(i=this.findHover(i.x,i.y)).target);var o=this._hovered=this.findHover(e,n),e=o.target,n=this.proxy;n.setCursor&&n.setCursor(e?e.cursor:"default"),r&&e!==r&&this.dispatchToElement(i,"mouseout",t),this.dispatchToElement(o,"mousemove",t),e&&e!==r&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);for(var e,n=t.toElement||t.relatedTarget;(n=n&&n.parentNode)&&9!=n.nodeType&&!(e=n===this.painterRoot););e||this.trigger("globalout",{event:t})},resize:function(){this._hovered={}},dispatch:function(t,e){t=this[t];t&&t.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var r="on"+e,o={type:e,event:n=n,target:(t=t).target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which};i&&(i[r]&&(o.cancelBubble=i[r].call(i,o)),i.trigger(e,o),i=i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)}))}},findHover:function(t,e,n){for(var i,r=this.storage.getDisplayList(),o={x:t,y:e},a=r.length-1;0<=a;a--){if(r[a]!==n&&!r[a].ignore&&(i=function(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i,r=t;r;){if(r.clipPath&&!r.clipPath.contain(e,n))return!1;r.silent&&(i=!0),r=r.parent}return!i||cs}return!1}(r[a],t,e))&&(o.topTarget||(o.topTarget=r[a]),i!==cs)){o.target=r[a];break}}return o}},E(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(i){ds.prototype[i]=function(t){var e=this.findHover(t.zrX,t.zrY),n=e.target;if("mousedown"===i)this._downEl=n,this._downPoint=[t.zrX,t.zrY],this._upEl=n;else if("mouseup"===i)this._upEl=n;else if("click"===i){if(this._downEl!==this._upEl||!this._downPoint||4<ss(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(e,i,t)}}),e(ds,us),e(ds,Y);var ps="undefined"==typeof Float32Array?Array:Float32Array,gs=Z,ms=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},vs=ms.prototype;vs.transform=null,vs.needLocalTransform=function(){return et(this.rotation)||et(this.position[0])||et(this.position[1])||et(this.scale[0]-1)||et(this.scale[1]-1)},vs.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),i=this.transform;return n||e?(i=i||j(),n?this.getLocalTransform(i):gs(i),e&&(n?$(i,t.transform,i):(n=i,t=t.transform,n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5])),this.transform=i,this.invTransform=this.invTransform||j(),void tt(this.invTransform,i)):void(i&&gs(i))},vs.getLocalTransform=function(t){return ms.getLocalTransform(this,t)},vs.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},vs.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var ys=[];vs.decomposeTransform=function(){var t,e,n,i,r;this.transform&&(r=this.parent,t=this.transform,r&&r.transform&&($(ys,r.invTransform,t),t=ys),e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=this.position,r=this.scale,et(e-1)&&(e=Math.sqrt(e)),et(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),i[0]=t[4],i[1]=t[5],r[0]=e,r[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e))},vs.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(n=-n),[e,n]},vs.transformCoordToLocal=function(t,e){t=[t,e],e=this.invTransform;return e&&W(t,t,e),t},vs.transformCoordToGlobal=function(t,e){t=[t,e],e=this.transform;return e&&W(t,t,e),t},ms.getLocalTransform=function(t,e){gs(e=e||[]);var n=t.origin,i=t.scale||[1,1],r=t.rotation||0,t=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),J(e,e,i),r&&Q(e,e,r),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=t[0],e[5]+=t[1],e};var _s={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*--t)*Math.sin(2*(t-e)*Math.PI/.4)))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*n*Math.pow(2,10*--t)*Math.sin(2*(t-e)*Math.PI/.4):n*Math.pow(2,-10*--t)*Math.sin(2*(t-e)*Math.PI/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((1+e)*t-e):.5*((t-=2)*t*((1+e)*t+e)+2)},bounceIn:function(t){return 1-_s.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*_s.bounceIn(2*t):.5*_s.bounceOut(2*t-1)+.5}};nt.prototype={constructor:nt,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);e=this.easing,e="string"==typeof e?_s[e]:e,e="function"==typeof e?e(n):n;return this.fire("frame",e),1==n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};function xs(){this.head=null,this.tail=null,this._len=0}var ws=xs.prototype;ws.insert=function(t){t=new bs(t);return this.insertEntry(t),t},ws.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},ws.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},ws.len=function(){return this._len},ws.clear=function(){this.head=this.tail=null,this._len=0};var bs=function(t){this.value=t,this.next,this.prev},Ms=function(t){this._list=new xs,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Ss=Ms.prototype;Ss.put=function(t,e){var n,i,r=this._list,o=this._map,a=null;return null==o[t]&&(i=r.len(),n=this._lastRemovedEntry,i>=this._maxSize&&0<i&&(i=r.head,r.remove(i),delete o[i.key],a=i.value,this._lastRemovedEntry=i),n?n.value=e:n=new bs(e),n.key=t,r.insertEntry(n),o[t]=n),a},Ss.get=function(t){var e=this._map[t],t=this._list;return null!=e?(e!==t.tail&&(t.remove(e),t.insertEntry(e)),e.value):void 0},Ss.clear=function(){this._list.clear(),this._map={}};function Ts(t,e,n,i){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||ft,this._setter=i||pt,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}var Cs={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Is=new Ms(20),Ds=null,ks=Array.prototype.slice;Ts.prototype={when:function(t,e){var n,i=this._tracks;for(n in e)if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var r=this._getter(this._target,n);if(null==r)continue;0!==t&&i[n].push({time:0,value:function(t){if(L(t)){var e=t.length;if(L(t[0])){for(var n=[],i=0;i<e;i++)n.push(ks.call(t[i]));return n}return ks.call(t)}return t}(r)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){function n(){--l||s._doneCallback()}var i,r,o,a,s=this,l=0;for(r in this._tracks){!this._tracks.hasOwnProperty(r)||(o=bt(this,t,n,this._tracks[r],r,e))&&(this._clipList.push(o),l++,this.animation&&this.animation.addClip(o),i=o)}return i&&(a=i.onframe,i.onframe=function(t,e){a(t,e);for(var n=0;n<s._onframeList.length;n++)s._onframeList[n](t,e)}),l||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var r=e[i];t&&r.onframe(this._target,1),n&&n.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var As=1;"undefined"!=typeof window&&(As=Math.max(window.devicePixelRatio||1,1));function Ps(){this.animators=[]}var Ls=As,Os=function(){},Bs=Os;Ps.prototype={constructor:Ps,animate:function(t,e){var n,i=!1,r=this,o=this.__zr;if(t){for(var a=t.split("."),s=r,i="shape"===a[0],l=0,h=a.length;l<h;l++)s=s&&s[a[l]];s&&(n=s)}else n=r;if(n){var u=r.animators,c=new Ts(n,e);return c.during(function(){r.dirty(i)}).done(function(){u.splice(d(u,c),1)}),u.push(c),o&&o.animation.addAnimator(c),c}Bs('Property "'+t+'" is not existed in element '+r.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,i=0;i<n;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,n,i,r,o){function a(){--l||r&&r()}P(n)?(r=i,i=n,n=0):p(i)?(r=i,i="linear",n=0):p(n)?(r=n,n=0):e=p(e)?(r=e,500):e||500,this.stopAnimation(),this._animateToShallow("",this,t,e,n);var s=this.animators.slice(),l=s.length;l||r&&r();for(var h=0;h<s.length;h++)s[h].done(a).start(i,o)},_animateToShallow:function(t,e,n,i,r){var o,a,s={},l=0;for(o in n){n.hasOwnProperty(o)&&(null!=e[o]?O(n[o])&&!L(n[o])?this._animateToShallow(t?t+"."+o:o,e[o],n[o],i,r):(s[o]=n[o],l++):null!=n[o]&&(t?((a={})[t]={},a[t][o]=n[o],this.attr(a)):this.attr(o,n[o])))}return 0<l&&this.animate(t,!1).when(null==i?500:i,s).delay(r||0),this}};var Es=function(t){ms.call(this,t),us.call(this,t),Ps.call(this,t),this.id=t.id||qa()};Es.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;(n=n||(this.transform=[1,0,0,1,0,0]))[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(t,e){var n;"position"===t||"scale"===t||"origin"===t?e&&((n=(n=this[t])||(this[t]=[]))[0]=e[0],n[1]=e[1]):this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(O(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),(this.clipPath=t).__zr=e,(t.__clipTarget=this).dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},e(Es,Ps),e(Es,ms),e(Es,us);var Rs,zs,Ns,Fs,Hs=W,Vs=Math.min,Ws=Math.max;Mt.prototype={constructor:Mt,union:function(t){var e=Vs(t.x,this.x),n=Vs(t.y,this.y);this.width=Ws(t.x+t.width,this.x+this.width)-e,this.height=Ws(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(Rs=[],zs=[],Ns=[],Fs=[],function(t){var e;t&&(Rs[0]=Ns[0]=this.x,Rs[1]=Fs[1]=this.y,zs[0]=Fs[0]=this.x+this.width,zs[1]=Ns[1]=this.y+this.height,Hs(Rs,Rs,t),Hs(zs,zs,t),Hs(Ns,Ns,t),Hs(Fs,Fs,t),this.x=Vs(Rs[0],zs[0],Ns[0],Fs[0]),this.y=Vs(Rs[1],zs[1],Ns[1],Fs[1]),e=Ws(Rs[0],zs[0],Ns[0],Fs[0]),t=Ws(Rs[1],zs[1],Ns[1],Fs[1]),this.width=e-this.x,this.height=t-this.y)}),calculateTransform:function(t){var e=t.width/this.width,n=t.height/this.height,i=j();return K(i,i,[-this.x,-this.y]),J(i,i,[e,n]),K(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof Mt||(t=Mt.create(t));var e=this.x,n=this.x+this.width,i=this.y,r=this.y+this.height,o=t.x,a=t.x+t.width,s=t.y,t=t.y+t.height;return!(n<o||a<e||r<s||t<i)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new Mt(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Mt.create=function(t){return new Mt(t.x,t.y,t.width,t.height)};var Gs=function(t){for(var e in t=t||{},Es.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Gs.prototype={constructor:Gs,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){var n;return t&&t!==this&&t.parent!==this&&e&&e.parent===this&&(0<=(e=(n=this._children).indexOf(e))&&(n.splice(e,0,t),this._doAdd(t))),this},_doAdd:function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof Gs&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,i=this._children,r=d(i,t);return r<0||(i.splice(r,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof Gs&&t.delChildrenFromStorage(n)),e&&e.refresh()),this},removeAll:function(){for(var t,e=this._children,n=this.__storage,i=0;i<e.length;i++)t=e[i],n&&(n.delFromStorage(t),t instanceof Gs&&t.delChildrenFromStorage(n)),t.parent=null;return e.length=0,this},eachChild:function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof Gs&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof Gs&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new Mt(0,0,0,0),i=t||this._children,r=[],o=0;o<i.length;o++){var a,s=i[o];s.ignore||s.invisible||(a=s.getBoundingRect(),(s=s.getLocalTransform(r))?(n.copy(a),n.applyTransform(s),(e=e||n.clone()).union(n)):(e=e||a.clone()).union(a))}return e||n}},i(Gs,Es);function Xs(){this._roots=[],this._displayList=[],this._displayListLen=0}var Ys=32,qs=7;Xs.prototype={constructor:Xs,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,r=e.length;i<r;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,Ua.canvasSupported&&kt(n,At)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){e=e?e.slice():[];for(var r=i,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),r=(o=r).clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Gs&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof Gs&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var r=d(this._roots,t);0<=r&&(this.delFromStorage(t),this._roots.splice(r,1),t instanceof Gs&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:At};var Us={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},js=function(t,e,n){return Us.hasOwnProperty(e)?n*=t.dpr:n},Zs=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],$s=function(t,e){this.extendFrom(t,!1),this.host=e};$s.prototype={constructor:$s,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){for(var i=this,r=n&&n.style,o=!r,a=0;a<Zs.length;a++){var s=Zs[a],l=s[0];!o&&i[l]===r[l]||(t[l]=js(t,l,i[l]||s[1]))}!o&&i.fill===r.fill||(t.fillStyle=i.fill),!o&&i.stroke===r.stroke||(t.strokeStyle=i.stroke),!o&&i.opacity===r.opacity||(t.globalAlpha=null==i.opacity?1:i.opacity),!o&&i.blend===r.blend||(t.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()&&(n=i.lineWidth,t.lineWidth=n/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1))},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&0<this.lineWidth},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var i=("radial"===e.type?Lt:Pt)(t,e,n),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}};for(var Ks=$s.prototype,Qs=0;Qs<Zs.length;Qs++){var Js=Zs[Qs];Js[0]in Ks||(Ks[Js[0]]=Js[1])}$s.getGradient=Ks.getGradient;function tl(t,e){this.image=t,this.repeat=e,this.type="pattern"}function el(t,e,n){var i;n=n||Ls,"string"==typeof t?i=Bt(t,e,n):O(t)&&(t=(i=t).id),this.id=t,(t=(this.dom=i).style)&&(i.onselectstart=Ot,t["-webkit-user-select"]="none",t["user-select"]="none",t["-webkit-touch-callout"]="none",t["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",t.padding=0,t.margin=0,t["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n}el.prototype={constructor:el,__dirty:!0,__used:!(tl.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")}),__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Bt("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,i=this.dom,r=this.ctx,o=i.width,a=i.height,e=e||this.clearColor,s=this.motionBlur&&!t,l=this.lastFrameAlpha,t=this.dpr;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/t,a/t)),r.clearRect(0,0,o,a),e&&"transparent"!==e&&(e.colorStops?(n=e.__canvasGradient||$s.getGradient(r,e,{x:0,y:0,width:o,height:a}),e.__canvasGradient=n):e.image&&(n=tl.prototype.getCanvasPattern.call(e,r)),r.save(),r.fillStyle=n||e,r.fillRect(0,0,o,a),r.restore()),s&&(s=this.domBack,r.save(),r.globalAlpha=l,r.drawImage(s,0,0,o,a),r.restore())}};var nl="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},il=new Ms(50),rl={},ol=0,al=5e3,sl=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,ll="12px sans-serif",hl={};hl.measureText=function(t,e){var n=rs=rs||Fa().getContext("2d");return n.font=e||ll,n.measureText(t)};var ul={left:1,right:1,center:1},cl={top:1,bottom:1,middle:1},dl=new Mt,fl=function(){};ce.prototype={constructor:ce,type:"displayable",__dirty:!0,invisible:!(fl.prototype={constructor:fl,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&$t(n);var i,r=n.text;null!=r&&(r+=""),ue(r,n)&&(t.save(),i=this.transform,n.transformText?this.setTransform(t):i&&(dl.copy(e),dl.applyTransform(i),e=dl),Qt(this,t,r,n,e),t.restore())}}),z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){e=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(e[0],e[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?Es.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new $s(t,this),this.dirty(!1),this}},i(ce,Es),e(ce,fl),de.prototype={constructor:de,type:"image",brush:function(t,e){var n=this.style,i=n.image;n.bind(t,this,e);var r,o,a,s,l,h,u=this._image=Et(i,this._image,this,this.onload);u&&zt(u)&&(r=n.x||0,o=n.y||0,a=n.width,s=n.height,e=u.width/u.height,null==a&&null!=s?a=s*e:null==s&&null!=a?s=a/e:null==a&&null==s&&(a=u.width,s=u.height),this.setTransform(t),n.sWidth&&n.sHeight?(l=n.sx||0,h=n.sy||0,t.drawImage(u,l,h,n.sWidth,n.sHeight,r,o,a,s)):n.sx&&n.sy?(i=a-(l=n.sx),e=s-(h=n.sy),t.drawImage(u,l,h,i,e,r,o,a,s)):t.drawImage(u,r,o,a,s),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect())))},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new Mt(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},i(de,ce);var pl=314159,gl=new Mt(0,0,0,0),ml=new Mt(0,0,0,0),vl=function(t,e,n){this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=D({},n||{}),this.dpr=n.devicePixelRatio||Ls,this._singleCanvas=i;var r=(this.root=t).style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o,r=this._zlevelList=[],e=this._layers={};this._layerConfig={},this._needsManuallyCompositing=!1,i?(i=t.width,o=t.height,null!=n.width&&(i=n.width),null!=n.height&&(o=n.height),this.dpr=n.devicePixelRatio||1,t.width=i*this.dpr,t.height=o*this.dpr,this._width=i,this._height=o,(o=new el(t,this,this.dpr)).__builtin__=!0,o.initContext(),(e[pl]=o).zlevel=pl,r.push(pl),this._domRoot=t):(this._width=this._getSize(0),this._height=this._getSize(1),r=this._domRoot=(e=this._width,o=this._height,(r=document.createElement("div")).style.cssText=["position:relative","overflow:hidden","width:"+e+"px","height:"+o+"px","padding:0","margin:0","border-width:0"].join(";")+";",r),t.appendChild(r)),this._hoverlayer=null,this._hoverElements=[]};vl.prototype={constructor:vl,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();return t?{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}:void 0},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<n.length;i++){var r=n[i],o=this._layers[r];!o.__builtin__&&o.refresh&&(r=0===i?this._backgroundColor:null,o.refresh(r))}return this.refreshHover(),this},addHover:function(t,e){var n;t.__hoverMir||((((n=new t.constructor({style:t.style,shape:t.shape})).__from=t).__hoverMir=n).setStyle(e),this._hoverElements.push(n))},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,e=d(n,e);0<=e&&n.splice(e,1),t.__hoverMir=null},clearHover:function(){for(var t=this._hoverElements,e=0;e<t.length;e++){var n=t[e].__from;n&&(n.__hoverMir=null)}t.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){kt(t,this.storage.displayableSortFunc);var i={};(n=n||(this._hoverlayer=this.getLayer(1e5))).ctx.save();for(var r=0;r<e;){var o=t[r],a=o.__from;a&&a.__zr?(r++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,i))):(t.splice(r,1),a.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){var i,r;this._redrawId===n&&(e=e||!1,this._updateLayerStatus(t),i=this._doPaintList(t,e),this._needsManuallyCompositing&&this._compositeManually(),i||(r=this,nl(function(){r._paintList(t,e,n)})))},_compositeManually:function(){var e=this.getLayer(pl).ctx,n=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,n,i),this.eachBuiltinLayer(function(t){t.virtual&&e.drawImage(t.dom,0,0,n,i)})},_doPaintList:function(t,e){for(var n=[],i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];(s=this._layers[r]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&n.push(s)}for(var o=!0,a=0;a<n.length;a++){var s,l=(s=n[a]).ctx,h={};l.save();var u,c=e?s.__startIndex:s.__drawIndex,d=!e&&s.incremental&&Date.now,f=d&&Date.now(),p=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;s.__startIndex===s.__endIndex?s.clear(!1,p):c===s.__startIndex&&((u=t[c]).incremental&&u.notClear&&!e||s.clear(!1,p)),-1===c&&(console.error("For some unknown reason. drawIndex is -1"),c=s.__startIndex);for(var g=c;g<s.__endIndex;g++){var m=t[g];if(this._doPaintEl(m,s,e,h),m.__dirty=!1,d)if(15<Date.now()-f)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(o=!1),h.prevElClipPaths&&l.restore(),l.restore()}return Ua.wxa&&E(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),o},_doPaintEl:function(t,e,n,i){var r,o=e.ctx,a=t.transform;!e.__dirty&&!n||t.invisible||0===t.style.opacity||a&&!a[0]&&!a[3]||t.culling&&(n=t,a=this._width,r=this._height,gl.copy(n.getBoundingRect()),n.transform&&gl.applyTransform(n.transform),ml.width=a,ml.height=r,!gl.intersect(ml))||(r=t.__clipPaths,i.prevElClipPaths&&!function(t,e){if(t!=e){if(!t||!e||t.length!==e.length)return 1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return 1}}(r,i.prevElClipPaths)||(i.prevElClipPaths&&(e.ctx.restore(),i.prevElClipPaths=null,i.prevEl=null),r&&(o.save(),function(t,e){for(var n=0;n<t.length;n++){var i=t[n];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}(r,o),i.prevElClipPaths=r)),t.beforeBrush&&t.beforeBrush(o),t.brush(o,i.prevEl||null),(i.prevEl=t).afterBrush&&t.afterBrush(o))},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=pl);var n=this._layers[t];return n||((n=new el("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]&&s(n,this._layerConfig[t],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n,i=this._layers,r=this._zlevelList,o=r.length,a=null,s=-1,l=this._domRoot;if(i[t])Bs("ZLevel "+t+" has been used already");else if((n=e)&&(n.__builtin__||"function"==typeof n.resize&&"function"==typeof n.refresh)){if(0<o&&t>r[0]){for(s=0;s<o-1&&!(r[s]<t&&r[s+1]>t);s++);a=i[r[s]]}r.splice(s+1,0,t),(i[t]=e).virtual||(a?(a=a.dom).nextSibling?l.insertBefore(e.dom,a.nextSibling):l.appendChild(e.dom):l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom))}else Bs("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){for(var n,i=this._zlevelList,r=0;r<i.length;r++)n=i[r],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){for(var n,i,r=this._zlevelList,o=0;o<r.length;o++)i=r[o],(n=this._layers[i]).__builtin__&&t.call(e,n,i)},eachOtherLayer:function(t,e){for(var n,i,r=this._zlevelList,o=0;o<r.length;o++)i=r[o],(n=this._layers[i]).__builtin__||t.call(e,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){i&&(i.__endIndex!==t&&(i.__dirty=!0),i.__endIndex=t)}if(this.eachBuiltinLayer(function(t){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){if((a=t[n]).zlevel!==t[n-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}for(var i=null,r=0,n=0;n<t.length;n++){var o,a,s=(a=t[n]).zlevel;a.incremental?((o=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,r=1):o=this.getLayer(s+(0<r?.01:0),this._needsManuallyCompositing),o.__builtin__||Bs("ZLevel "+s+" has been used by unkown layer "+o.id),o!==i&&(o.__used=!0,o.__startIndex!==n&&(o.__dirty=!0),o.__startIndex=n,o.__drawIndex=o.incremental?-1:n,e(n),i=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=n))}e(n),this.eachBuiltinLayer(function(t){!t.__used&&0<t.getElementCount()&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?s(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];r!==t&&r!==t+.01||s(this._layers[r],n[t],!0)}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(d(n,t),1))},resize:function(e,n){if(this._domRoot.style){var t=this._domRoot;t.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=n&&(i.height=n),e=this._getSize(0),n=this._getSize(1),t.style.display="",this._width!=e||n!=this._height){for(var r in t.style.width=e+"px",t.style.height=n+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(e,n);E(this._progressiveLayers,function(t){t.resize(e,n)}),this.refresh(!0)}this._width=e,this._height=n}else{if(null==e||null==n)return;this._width=e,this._height=n,this.getLayer(pl).resize(e,n)}return this},clearLayer:function(t){t=this._layers[t];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[pl].dom;var e=new el("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,i=e.dom.height,r=e.ctx;this.eachLayer(function(t){t.__builtin__?r.drawImage(t.dom,0,0,n,i):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var l=a[s];this._doPaintEl(l,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);t=this.root,e=document.defaultView.getComputedStyle(t);return(t[i]||fe(e[n])||fe(t.style[n]))-(fe(e[r])||0)-(fe(e[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),r=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,l=o.shadowOffsetY*e,h=o.hasStroke()?o.lineWidth:0,u=Math.max(h/2,a-s),o=Math.max(h/2,s+a),s=Math.max(h/2,a-l),a=Math.max(h/2,l+a),o=r.width+u+o,a=r.height+s+a;n.width=o*e,n.height=a*e,i.scale(e,e),i.clearRect(0,0,o,a),i.dpr=e;e={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-r.x,s-r.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(i);n=new de({style:{x:0,y:0,image:n}});return null!=e.position&&(n.position=t.position=e.position),null!=e.rotation&&(n.rotation=t.rotation=e.rotation),null!=e.scale&&(n.scale=t.scale=e.scale),n}};function yl(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,us.call(this)}var _l="undefined"!=typeof window&&!!window.addEventListener,xl=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wl=_l?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};yl.prototype={constructor:yl,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){t=d(this._clips,t);0<=t&&this._clips.splice(t,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,i=n.length,r=[],o=[],a=0;a<i;a++){var s=n[a],l=s.step(t,e);l&&(r.push(l),o.push(s))}for(a=0;a<i;)n[a]._needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;i=r.length;for(a=0;a<i;a++)o[a].fire(r[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,nl(function t(){e._running&&(nl(t),e._paused||e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){e=new Ts(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(e),e}},e(yl,us);function bl(){this._track=[]}bl.prototype={constructor:bl,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},o=0,a=i.length;o<a;o++){var s=i[o],l=pe(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},_recognize:function(t){for(var e in Ml)if(Ml.hasOwnProperty(e)){var n=Ml[e](this._track,t);if(n)return n}}};var Ml={pinch:function(t,e){var n=t.length;if(n){var i=(t[n-1]||{}).points,n=(t[n-2]||{}).points||i;if(n&&1<n.length&&i&&1<i.length){n=ve(i)/ve(n);isFinite(n)||(n=1),e.pinchScale=n;i=[((i=i)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=i[0],e.pinchY=i[1],{type:"pinch",target:t[0].target,event:e}}}}},Sl=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Tl=["touchstart","touchend","touchmove"],Cl={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Il=w(Sl,function(t){var e=t.replace("mouse","pointer");return Cl[e]?e:t}),Dl={mousemove:function(t){t=me(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=me(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=me(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,_e(this,t,"start"),Dl.mousemove.call(this,t),Dl.mousedown.call(this,t),xe(this)},touchmove:function(t){(t=me(this.dom,t)).zrByTouch=!0,_e(this,t,"change"),Dl.mousemove.call(this,t),xe(this)},touchend:function(t){(t=me(this.dom,t)).zrByTouch=!0,_e(this,t,"end"),Dl.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&Dl.click.call(this,t),xe(this)},pointerdown:function(t){Dl.mousedown.call(this,t)},pointermove:function(t){we(t)||Dl.mousemove.call(this,t)},pointerup:function(t){Dl.mouseup.call(this,t)},pointerout:function(t){we(t)||Dl.mouseout.call(this,t)}};E(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Dl[e]=function(t){t=me(this.dom,t),this.trigger(e,t)}});var kl=Me.prototype;kl.dispose=function(){for(var t,e,n=Sl.concat(Tl),i=0;i<n.length;i++){var r=n[i];t=this.dom,e=ye(r),r=this._handlers[r],_l?t.removeEventListener(e,r):t.detachEvent("on"+e,r)}},kl.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e(Me,us);var Al=!Ua.canvasSupported,Pl={canvas:vl},Ll=function(t,e,n){n=n||{},this.dom=e,this.id=t;var i=this,r=new Xs,o=n.renderer;if(Al){if(!Pl.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&Pl[o]||(o="canvas");n=new Pl[o](e,r,n,t);this.storage=r,this.painter=n;t=Ua.node||Ua.worker?null:new Me(n.getViewportRoot());this.handler=new ds(r,n,t,n.root),this.animation=new yl({stage:{update:y(this.flush,this)}}),this.animation.start(),this._needsRefresh;var a=r.delFromStorage,s=r.addToStorage;r.delFromStorage=function(t){a.call(r,t),t&&t.removeSelfFromZr(i)},r.addToStorage=function(t){s.call(r,t),t.addSelfToZr(i)}};Ll.prototype={constructor:Ll,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null}};var Ol=E,Bl=O,El=A,Rl="series\0",zl=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],Nl=0,Fl=".",Hl="___EC__COMPONENT__CONTAINER___",Vl=0,Wl=function(a){for(var t=0;t<a.length;t++)a[t][1]||(a[t][1]=a[t][0]);return function(t,e,n){for(var i={},r=0;r<a.length;r++){var o=a[r][1];e&&0<=d(e,o)||n&&d(n,o)<0||null!=(o=t.getShallow(o))&&(i[a[r][0]]=o)}return i}},Gl=Wl([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Ka={getLineStyle:function(t){var e=Gl(this,t),t=this.getLineDash(e.lineWidth);return t&&(e.lineDash=t),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),t=4*t;return"solid"===e||null==e?null:"dashed"===e?[t,t]:[n,n]}},Xl=Wl([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),vs={getAreaStyle:function(t,e){return Xl(this,t,e)}},Yl=Math.pow,ql=Math.sqrt,Ul=1e-8,jl=1e-4,Zl=ql(3),$l=1/3,Kl=n(),Ql=n(),Jl=n(),th=Math.min,eh=Math.max,nh=Math.sin,ih=Math.cos,rh=2*Math.PI,oh=n(),ah=n(),sh=n(),lh=[],hh=[],uh={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ch=[],dh=[],fh=[],ph=[],gh=Math.min,mh=Math.max,vh=Math.cos,yh=Math.sin,_h=Math.sqrt,xh=Math.abs,wh="undefined"!=typeof Float32Array,bh=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};bh.prototype={constructor:bh,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=xh(1/Ls/t)||0,this._uy=xh(1/Ls/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return(this._ctx=t)&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(uh.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=xh(t-this._xi)>this._ux||xh(e-this._yi)>this._uy||this._len<5;return this.addData(uh.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,i,r,o){return this.addData(uh.C,t,e,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,i,r,o):this._ctx.bezierCurveTo(t,e,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(t,e,n,i){return this.addData(uh.Q,t,e,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},arc:function(t,e,n,i,r,o){return this.addData(uh.A,t,e,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=vh(r)*n+t,this._yi=yh(r)*n+t,this},arcTo:function(t,e,n,i,r){return this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},rect:function(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(uh.R,t,e,n,i),this},closePath:function(){this.addData(uh.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!wh||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;r<e;r++)n+=t[r].len();wh&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,i,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,u=t-l,c=e-h,d=_h(u*u+c*c),f=l,p=h,g=a.length;for(o<0&&(o=r+o),f-=(o%=r)*(u/=d),p-=o*(c/=d);0<u&&f<=t||u<0&&t<=f||0==u&&(0<c&&p<=e||c<0&&e<=p);)f+=u*(n=a[i=this._dashIdx]),p+=c*n,this._dashIdx=(i+1)%g,0<u&&f<l||u<0&&l<f||0<c&&p<h||c<0&&h<p||s[i%2?"moveTo":"lineTo"]((0<=u?gh:mh)(f,t),(0<=c?gh:mh)(p,e));u=f-t,c=p-e,this._dashOffset=-_h(u*u+c*c)},_dashedBezierTo:function(t,e,n,i,r,o){var a,s,l,h,u,c=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=Xe,y=0,_=this._dashIdx,x=f.length,w=0;for(d<0&&(d=c+d),d%=c,a=0;a<1;a+=.1)s=v(g,t,n,r,a+.1)-v(g,t,n,r,a),l=v(m,e,i,o,a+.1)-v(m,e,i,o,a),y+=_h(s*s+l*l);for(;_<x&&!(d<(w+=f[_]));_++);for(a=(w-d)/y;a<=1;)h=v(g,t,n,r,a),u=v(m,e,i,o,a),_%2?p.moveTo(h,u):p.lineTo(h,u),a+=f[_]/y,_=(_+1)%x;_%2!=0&&p.lineTo(r,o),s=r-h,l=o-u,this._dashOffset=-_h(s*s+l*l)},_dashedQuadraticTo:function(t,e,n,i){var r=n,o=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,r,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,wh&&(this.data=new Float32Array(t)))},getBoundingRect:function(){ch[0]=ch[1]=fh[0]=fh[1]=Number.MAX_VALUE,dh[0]=dh[1]=ph[0]=ph[1]=-Number.MAX_VALUE;for(var t,e,n,i=this.data,r=0,o=0,a=0,s=0,l=0;l<i.length;){var h=i[l++];switch(1==l&&(a=r=i[l],s=o=i[l+1]),h){case uh.M:r=a=i[l++],o=s=i[l++],fh[0]=a,fh[1]=s,ph[0]=a,ph[1]=s;break;case uh.L:Qe(r,o,i[l],i[l+1],fh,ph),r=i[l++],o=i[l++];break;case uh.C:(function(t,e,n,i,r,o,a,s,l,h){var u,c=qe,d=Xe,f=c(t,n,r,a,lh);for(l[0]=1/0,l[1]=1/0,h[0]=-1/0,h[1]=-1/0,u=0;u<f;u++){var p=d(t,n,r,a,lh[u]);l[0]=th(p,l[0]),h[0]=eh(p,h[0])}for(f=c(e,i,o,s,hh),u=0;u<f;u++){var g=d(e,i,o,s,hh[u]);l[1]=th(g,l[1]),h[1]=eh(g,h[1])}l[0]=th(t,l[0]),h[0]=eh(t,h[0]),l[0]=th(a,l[0]),h[0]=eh(a,h[0]),l[1]=th(e,l[1]),h[1]=eh(e,h[1]),l[1]=th(s,l[1]),h[1]=eh(s,h[1])})(r,o,i[l++],i[l++],i[l++],i[l++],i[l],i[l+1],fh,ph),r=i[l++],o=i[l++];break;case uh.Q:u=r,p=o,t=i[l++],e=i[l++],c=i[l],g=i[l+1],n=fh,f=ph,m=d=m=d=h=void 0,h=je,d=eh(th((m=$e)(u,t,c),1),0),m=eh(th(m(p,e,g),1),0),d=h(u,t,c,d),m=h(p,e,g,m),n[0]=th(u,c,d),n[1]=th(p,g,m),f[0]=eh(u,c,d),f[1]=eh(p,g,m),r=i[l++],o=i[l++];break;case uh.A:var u=i[l++],c=i[l++],d=i[l++],f=i[l++],p=i[l++],g=i[l++]+p,m=(i[l++],1-i[l++]);1==l&&(a=vh(p)*d+u,s=yh(p)*f+c),function(t,e,n,i,r,o,a,s,l){var h=G,u=X,c=Math.abs(r-o);if(c%rh<1e-4&&1e-4<c)return s[0]=t-n,s[1]=e-i,l[0]=t+n,l[1]=e+i;oh[0]=ih(r)*n+t,oh[1]=nh(r)*i+e,ah[0]=ih(o)*n+t,ah[1]=nh(o)*i+e,h(s,oh,ah),u(l,oh,ah),(r%=rh)<0&&(r+=rh),(o%=rh)<0&&(o+=rh),o<r&&!a?o+=rh:r<o&&a&&(r+=rh),a&&(a=o,o=r,r=a);for(var d=0;d<o;d+=Math.PI/2)r<d&&(sh[0]=ih(d)*n+t,sh[1]=nh(d)*i+e,h(s,sh,s),u(l,sh,l))}(u,c,d,f,p,g,m,fh,ph),r=vh(g)*d+u,o=yh(g)*f+c;break;case uh.R:Qe(a=r=i[l++],s=o=i[l++],a+i[l++],s+i[l++],fh,ph);break;case uh.Z:r=a,o=s}G(ch,ch,fh),X(dh,dh,ph)}return 0===l&&(ch[0]=ch[1]=dh[0]=dh[1]=0),new Mt(ch[0],ch[1],dh[0]-ch[0],dh[1]-ch[1])},rebuildPath:function(t){for(var e,n,i,r,o=this.data,a=this._ux,s=this._uy,l=this._len,h=0;h<l;){var u=o[h++];switch(1==h&&(e=i=o[h],n=r=o[h+1]),u){case uh.M:e=i=o[h++],n=r=o[h++],t.moveTo(i,r);break;case uh.L:_=o[h++],x=o[h++],(xh(_-i)>a||xh(x-r)>s||h===l-1)&&(t.lineTo(_,x),i=_,r=x);break;case uh.C:t.bezierCurveTo(o[h++],o[h++],o[h++],o[h++],o[h++],o[h++]),i=o[h-2],r=o[h-1];break;case uh.Q:t.quadraticCurveTo(o[h++],o[h++],o[h++],o[h++]),i=o[h-2],r=o[h-1];break;case uh.A:var c=o[h++],d=o[h++],f=o[h++],p=o[h++],g=o[h++],m=o[h++],v=o[h++],y=o[h++],u=p<f?f:p,_=p<f?1:f/p,x=p<f?p/f:1,m=g+m;.001<Math.abs(f-p)?(t.translate(c,d),t.rotate(v),t.scale(_,x),t.arc(0,0,u,g,m,1-y),t.scale(1/_,1/x),t.rotate(-v),t.translate(-c,-d)):t.arc(c,d,u,g,m,1-y),1==h&&(e=vh(g)*f+c,n=yh(g)*p+d),i=vh(m)*f+c,r=yh(m)*p+d;break;case uh.R:e=i=o[h],n=r=o[h+1],t.rect(o[h++],o[h++],o[h++],o[h++]);break;case uh.Z:t.closePath(),i=e,r=n}}}},bh.CMD=uh;var Mh=2*Math.PI,Sh=2*Math.PI,Th=bh.CMD,Ch=2*Math.PI,Ih=1e-4,Dh=[-1,-1,-1],kh=[-1,-1],Ah=tl.prototype.getCanvasPattern,Ph=Math.abs,Lh=new bh(!0);ln.prototype={constructor:ln,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var n,i=this.style,r=this.path||Lh,o=i.hasStroke(),a=i.hasFill(),s=i.fill,l=i.stroke,h=a&&!!s.colorStops,u=o&&!!l.colorStops,c=a&&!!s.image,d=o&&!!l.image;i.bind(t,this,e),this.setTransform(t),this.__dirty&&(h&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(t,s,n)),u&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,l,n))),h?t.fillStyle=this._fillGradient:c&&(t.fillStyle=Ah.call(s,t)),u?t.strokeStyle=this._strokeGradient:d&&(t.strokeStyle=Ah.call(l,t));s=i.lineDash,u=i.lineDashOffset,d=!!t.setLineDash,l=this.getGlobalScale();r.setScale(l[0],l[1]),this.__dirtyPath||s&&!d&&o?(r.beginPath(t),s&&!d&&(r.setLineDash(s),r.setLineDashOffset(u)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a&&r.fill(t),s&&d&&(t.setLineDash(s),t.lineDashOffset=u),o&&r.stroke(t),s&&d&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(){},createPathProxy:function(){this.path=new bh},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n&&(i=(i=this.path)||(this.path=new bh),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()),this._rect=t,e.hasStroke()){var i,r=this._rectWithStroke||(this._rectWithStroke=t.clone());return(this.__dirty||n)&&(r.copy(t),i=e.lineWidth,n=e.strokeNoScale?this.getLineScale():1,e.hasFill()||(i=Math.max(i,this.strokeContainThreshold||4)),1e-10<n&&(r.width+=i/n,r.height+=i/n,r.x-=i/n/2,r.y-=i/n/2)),r}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path.data;if(r.hasStroke()){n=r.lineWidth,i=r.strokeNoScale?this.getLineScale():1;if(1e-10<i&&(r.hasFill()||(n=Math.max(n,this.strokeContainThreshold)),sn(o,n/i,!0,t,e)))return!0}if(r.hasFill())return sn(o,0,!1,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):ce.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(O(t))for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&1e-10<Ph(t[0]-1)&&1e-10<Ph(t[3]-1)?Math.sqrt(Ph(t[0]*t[3]-t[2]*t[1])):1}},ln.extend=function(r){function t(t){ln.call(this,t),r.style&&this.style.extendFrom(r.style,!1);var e=r.shape;if(e){this.shape=this.shape||{};var n,i=this.shape;for(n in e)!i.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(i[n]=e[n])}r.init&&r.init.call(this,t)}for(var e in i(t,ln),r)"style"!==e&&"shape"!==e&&(t.prototype[e]=r[e]);return t},i(ln,ce);function Oh(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Bh(t){ce.call(this,t)}var Eh=bh.CMD,Rh=[[],[],[]],zh=Math.sqrt,Nh=Math.atan2,Fh=function(t,e){for(var n,i,r,o=t.data,a=Eh.M,s=Eh.C,l=Eh.L,h=Eh.R,u=Eh.A,c=Eh.Q,d=0,f=0;d<o.length;){switch(y=o[d++],f=d,n=0,y){case a:case l:n=1;break;case s:n=3;break;case c:n=2;break;case u:var p=e[4],g=e[5],m=zh(e[0]*e[0]+e[1]*e[1]),v=zh(e[2]*e[2]+e[3]*e[3]),y=Nh(-e[1]/v,e[0]/m);o[d]*=m,o[d++]+=p,o[d]*=v,o[d++]+=g,o[d++]*=m,o[d++]*=v,o[d++]+=y,o[d++]+=y,f=d+=2;break;case h:r[0]=o[d++],r[1]=o[d++],W(r,r,e),o[f++]=r[0],o[f++]=r[1],r[0]+=o[d++],r[1]+=o[d++],W(r,r,e),o[f++]=r[0],o[f++]=r[1]}for(i=0;i<n;i++){(r=Rh[i])[0]=o[d++],r[1]=o[d++],W(r,r,e),o[f++]=r[0],o[f++]=r[1]}}},Hh=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],Vh=Math.sqrt,Wh=Math.sin,Gh=Math.cos,Xh=Math.PI,Yh=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(Oh(t)*Oh(e))},qh=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Yh(t,e))};Bh.prototype={constructor:Bh,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&$t(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),n.bind(t,this,e),ue(i,n)&&(this.setTransform(t),Qt(this,t,i,n),this.restoreTransform(t))},getBoundingRect:function(){var t,e=this.style;return this.__dirty&&$t(e),this._rect||(null!=(t=e.text)?t+="":t="",(t=Ft(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich)).x+=e.x||0,t.y+=e.y||0,ae(e.textStroke,e.textStrokeWidth)&&(e=e.textStrokeWidth,t.x-=e/2,t.y-=e/2,t.width+=e,t.height+=e),this._rect=t),this._rect}},i(Bh,ce);function Uh(t){this.colorStops=t||[]}var jh,ws=ln.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),Zh=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],$h=ln.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:(jh=ln.prototype.brush,Ua.browser.ie&&11<=Ua.browser.version?function(){var t,e=this.__clipPaths,n=this.style;if(e)for(var i=0;i<e.length;i++){var r=e[i],o=r&&r.shape,r=r&&r.type;if(o&&("sector"===r&&o.startAngle===o.endAngle||"rect"===r&&(!o.width||!o.height))){for(var a=0;a<Zh.length;a++)Zh[a][2]=n[Zh[a][0]],n[Zh[a][0]]=Zh[a][1];t=!0;break}}if(jh.apply(this,arguments),t)for(a=0;a<Zh.length;a++)n[Zh[a][0]]=Zh[a][2]}:jh),buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(a),e=Math.sin(a);t.moveTo(h*r+n,e*r+i),t.lineTo(h*o+n,e*o+i),t.arc(n,i,o,a,s,!l),t.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&t.arc(n,i,r,s,a,l),t.closePath()}}),Ss=ln.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)}}),As=ln.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){dn(t,e,!0)}}),Kh=ln.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){dn(t,e,!1)}}),Qh=ln.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width,o=e.height;e.r?Zt(t,e):t.rect(n,i,r,o),t.closePath()}}),Jh=ln.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,e=e.percent;0!==e&&(t.moveTo(n,i),e<1&&(r=n*(1-e)+r*e,o=i*(1-e)+o*e),t.lineTo(r,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),tu=[],Os=ln.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,h=e.cpy2,e=e.percent;0!==e&&(t.moveTo(n,i),null==l||null==h?(e<1&&(Ke(n,a,r,e,tu),a=tu[1],r=tu[2],Ke(i,s,o,e,tu),s=tu[1],o=tu[2]),t.quadraticCurveTo(a,s,r,o)):(e<1&&(Ue(n,a,l,r,e,tu),a=tu[1],l=tu[2],r=tu[3],Ue(i,s,h,o,e,tu),s=tu[1],h=tu[2],o=tu[3]),t.bezierCurveTo(a,s,l,h,r,o)))},pointAt:function(t){return fn(this.shape,t,!1)},tangentAt:function(t){t=fn(this.shape,t,!0);return H(t,t)}}),eu=ln.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),e=Math.sin(o);t.moveTo(l*r+n,e*r+i),t.arc(n,i,r,o,a,!s)}}),Ms=ln.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),ln.prototype.getBoundingRect.call(this)}});Uh.prototype={constructor:Uh,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};fl=function(t,e,n,i,r,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=o||!1,Uh.call(this,r)};fl.prototype={constructor:fl},i(fl,Uh);kl=function(t,e,n,i,r){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=r||!1,Uh.call(this,i)};kl.prototype={constructor:kl},i(kl,Uh),pn.prototype.incremental=!0,pn.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},pn.prototype.addDisplayable=function(t,e){(e?this._temporaryDisplayables:this._displayables).push(t),this.dirty()},pn.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},pn.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},pn.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(var e,t=0;t<this._temporaryDisplayables.length;t++){(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},pn.prototype.brush=function(t){for(var e=this._cursor;e<this._displayables.length;e++){(n=this._displayables[e]).beforeBrush&&n.beforeBrush(t),n.brush(t,e===this._cursor?null:this._displayables[e-1]),n.afterBrush&&n.afterBrush(t)}this._cursor=e;for(var n,e=0;e<this._temporaryDisplayables.length;e++){(n=this._temporaryDisplayables[e]).beforeBrush&&n.beforeBrush(t),n.brush(t,0===e?null:this._temporaryDisplayables[e-1]),n.afterBrush&&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var nu=[];pn.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Mt(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(nu)),t.union(i)}this._rect=t}return this._rect},pn.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(t,e))return!0}return!1},i(pn,ce);var iu=Math.round,ru=Math.max,ou=Math.min,au={},vl=function(t,e){for(var n=[],i=t.length,r=0;r<i;r++){var o=t[r];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}return(e=new ln(e)).createPathProxy(),e.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},e},su=(Object.freeze||Object)({extendShape:gn,extendPath:function(t,e){return ln.extend(un(t,e))},makePath:mn,makeImage:vn,mergePath:vl,resizePath:_n,subPixelOptimizeLine:xn,subPixelOptimizeRect:function(t){var e=t.shape,n=t.style.lineWidth,i=e.x,r=e.y,o=e.width,a=e.height;return e.x=wn(e.x,n,!0),e.y=wn(e.y,n,!0),e.width=Math.max(wn(i+o,n,!1)-e.x,0===o?0:1),e.height=Math.max(wn(r+a,n,!1)-e.y,0===a?0:1),t},subPixelOptimize:wn,setHoverStyle:Bn,setLabelStyle:En,setTextStyle:Rn,setText:function(t,e,n){var i,r={isRectText:!0};!1===n?i=!0:r.autoColor=n,zn(t,e,r,i),t.host&&t.host.dirty&&t.host.dirty(!1)},getFont:Vn,updateProps:Gn,initProps:Xn,getTransform:function(t,e){for(var n=Z([]);t&&t!==e;)$(n,t.getLocalTransform(),n),t=t.parent;return n},applyTransform:Yn,transformDirection:function(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=Yn(r=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0],e,n);return Math.abs(r[0])>Math.abs(r[1])?0<r[0]?"right":"left":0<r[1]?"bottom":"top"},groupTransition:qn,clipPointsByRect:function(t,n){return w(t,function(t){var e=t[0],e=ru(e,n.x);e=ou(e,n.x+n.width);t=t[1],t=ru(t,n.y);return[e,t=ou(t,n.y+n.height)]})},clipRectByRect:function(t,e){var n=ru(t.x,e.x),i=ou(t.x+t.width,e.x+e.width),r=ru(t.y,e.y),e=ou(t.y+t.height,e.y+e.height);return n<=i&&r<=e?{x:n,y:r,width:i-n,height:e-r}:void 0},createIcon:Un,Group:Gs,Image:de,Text:Bh,Circle:ws,Sector:$h,Ring:Ss,Polygon:As,Polyline:Kh,Rect:Qh,Line:Jh,BezierCurve:Os,Arc:eu,IncrementalDisplayable:pn,CompoundPath:Ms,LinearGradient:fl,RadialGradient:kl,BoundingRect:Mt}),lu=["textStyle","color"],Ms={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(lu):null)},getFont:function(){return Vn({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return Ft(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},hu=Wl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),fl={getItemStyle:function(t,e){t=hu(this,t,e),e=this.getBorderLineDash();return e&&(t.lineDash=e),t},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},kl=e,uu=Le();jn.prototype={constructor:jn,init:null,mergeOption:function(t){s(this.option,t,!0)},get:function(t,e){return null==t?this.option:Zn(this.option,this.parsePath(t),!e&&$n(this,t))},getShallow:function(t,e){var n=this.option,n=null==n?n:n[t],e=!e&&$n(this,t);return null==n&&e&&(n=e.getShallow(t)),n},getModel:function(t,e){var n;return new jn(null==t?this.option:Zn(this.option,t=this.parsePath(t)),e=e||(n=$n(this,t))&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(I(this.option))},setReadOnly:function(){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){uu(this).getParent=t},isAnimationEnabled:function(){if(!Ua.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},ze(jn),Ne(jn),kl(jn,Ka),kl(jn,vs),kl(jn,Ms),kl(jn,fl);function cu(t,e){return"{"+t+(null==e?"":e)+"}"}var du,fu,pu,gu=0,mu=1e-4,vu=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,yu=o,_u=/([&<>"'])/g,xu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wu=["a","b","c","d","e","f","g"],bu=Wt,Mu=E,Su=["left","right","top","bottom","width","height"],Tu=[["width","left","right"],["height","top","bottom"]],Wl=(f(fi,"vertical"),f(fi,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),Cu=Le(),Iu=jn.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,i){jn.call(this,t,e,n,i),this.uid=Kn("ec_cpt_model")},init:function(t,e,n){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?mi(t):{};s(t,e.getTheme().get(this.mainType)),s(t,this.getDefaultOption()),n&&gi(t,i,n)},mergeOption:function(t){s(this.option,t,!0);var e=this.layoutMode;e&&gi(this.option,t,e)},optionUpdated:function(){},getDefaultOption:function(){var t=Cu(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&e.push(i),n=n.superClass}for(var r={},o=e.length-1;0<=o;o--)r=s(r,e[o],!0);t.defaultOption=r}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});function Du(o){var a={},s=[];return E(o,function(n){var e,i,r=ku(a,n),t=r.originalDeps=du(n),t=(e=o,i=[],E(t,function(t){0<=d(e,t)&&i.push(t)}),i);r.entryCount=t.length,0===r.entryCount&&s.push(n),E(t,function(t){d(r.predecessor,t)<0&&r.predecessor.push(t);var e=ku(a,t);d(e.successor,t)<0&&e.successor.push(n)})}),{graph:a,noEntryList:s}}function ku(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}Ve(Iu,{registerWhenExtend:!0}),pu={},(fu=Iu).registerSubTypeDefaulter=function(t,e){t=Re(t),pu[t.main]=e},fu.determineSubType=function(t,e){var n,i=e.type;return i||(n=Re(t).main,fu.hasSubTypes(t)&&pu[n]&&(i=pu[n](e))),i},du=function(t){var e=[];return E(Iu.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=w(e,function(t){return Re(t).main}),"dataset"!==t&&d(e,"dataset")<=0&&e.unshift("dataset"),e},Iu.topologicalTravel=function(t,e,n,i){function r(t){a[t].entryCount--,0===a[t].entryCount&&s.push(t)}function o(t){l[t]=!0,r(t)}if(t.length){var e=Du(e),a=e.graph,s=e.noEntryList,l={};for(E(t,function(t){l[t]=!0});s.length;){var h=s.pop(),u=a[h],c=!!l[h];c&&(n.call(i,h,u.originalDeps.slice()),delete l[h]),E(u.successor,c?o:r)}E(l,function(){throw new Error("Circle dependency may exists")})}},e(Iu,Wl);Ka="";"undefined"!=typeof navigator&&(Ka=navigator.platform||"");var Au={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:Ka.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Pu=Le(),Lu={clearColorPalette:function(){Pu(this).colorIdx=0,Pu(this).colorNameMap={}},getColorFromPalette:function(t,e,n){var i=Pu(e=e||this),r=i.colorIdx||0,o=i.colorNameMap=i.colorNameMap||{};if(o.hasOwnProperty(t))return o[t];var a=Te(this.get("color",!0)),e=this.get("colorLayer",!0),n=null!=n&&e?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(e,n):a;if((n=n||a)&&n.length){a=n[r];return t&&(o[t]=a),i.colorIdx=(r+1)%n.length,a}}},Ou={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents("xAxis")[0],t=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",t),vi(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),vi(t)&&(i.set("y",t),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,i){t=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",t),vi(t)&&(i.set("single",t),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents("polar")[0],t=r.findAxisModel("radiusAxis"),r=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",t),n.set("angle",r),vi(t)&&(i.set("radius",t),e.firstCategoryDimIndex=0),vi(r)&&(i.set("angle",r),e.firstCategoryDimIndex=1)},geo:function(t,e){e.coordSysDims=["lng","lat"]},parallel:function(t,i,r,o){var a=t.ecModel,t=a.getComponent("parallel",t.get("parallelIndex")),s=i.coordSysDims=t.dimensions.slice();E(t.parallelAxisIndex,function(t,e){var n=a.getComponent("parallelAxis",t),t=s[e];r.set(t,n),vi(n)&&null==i.firstCategoryDimIndex&&(o.set(t,n),i.firstCategoryDimIndex=e)})}},Bu="original",Eu="arrayRows",Ru="objectRows",zu="keyedColumns",Nu="unknown",Fu="typedArray",Hu="column",Vu="row";yi.seriesDataToSource=function(t){return new yi({data:t,sourceFormat:g(t)?Fu:Bu,fromDataset:!1})},Ne(yi);var Wu=Le(),Gu="\0_ec_inner",Xu=jn.extend({init:function(t,e,n,i){n=n||{},this.option=null,this._theme=new jn(n),this._optionManager=i},setOption:function(t,e){u(!(Gu in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e,n=!1,i=this._optionManager;return t&&"recreate"!==t||(e=i.mountOption("recreate"===t),this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(e)):Mi.call(this,e),n=!0),"timeline"!==t&&"media"!==t||this.restoreData(),t&&"recreate"!==t&&"timeline"!==t||(e=i.getTimelineOption(this))&&(this.mergeOption(e),n=!0),t&&"recreate"!==t&&"media"!==t||(i=i.getMediaOption(this,this._api)).length&&E(i,function(t){this.mergeOption(t,n=!0)},this),n},mergeOption:function(i){var l=this.option,h=this._componentsMap,n=[];Wu(this).datasetMap=z(),E(i,function(t,e){null!=t&&(Iu.hasClass(e)?e&&n.push(e):l[e]=null==l[e]?I(t):s(l[e],t,!0))}),Iu.topologicalTravel(n,Iu.getAllClassMainTypes(),function(o,t){var a,e=Te(i[o]),n=De(h.get(o),e);e=n,a=z(),Ol(e,function(t){var e=t.exist;e&&a.set(e.id,t)}),Ol(e,function(t){var e=t.option;u(!e||null==e.id||!a.get(e.id)||a.get(e.id)===t,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&a.set(e.id,t),t.keyInfo||(t.keyInfo={})}),Ol(e,function(t,e){var n=t.exist,i=t.option,r=t.keyInfo;if(Bl(i)){if(r.name=null!=i.name?i.name+"":n?n.name:Rl+e,n)r.id=n.id;else if(null!=i.id)r.id=i.id+"";else for(var o=0;r.id="\0"+r.name+"\0"+o++,a.get(r.id););a.set(r.id,t)}}),E(n,function(t){var e,n=t.option;O(n)&&(t.keyInfo.mainType=o,t.keyInfo.subType=(e=o,n=n,t=t.exist,n.type?n.type:t?t.subType:Iu.determineSubType(e,n)))});var s=function(e,t){A(t)||(t=t?[t]:[]);var n={};return E(t,function(t){n[t]=(e.get(t)||[]).slice()}),n}(h,t);l[o]=[],h.set(o,[]),E(n,function(t,e){var n,i=t.exist,r=t.option;u(O(r)||i,"Empty component definition"),r?(n=Iu.getClass(o,t.keyInfo.subType,!0),i&&i instanceof n?(i.name=t.keyInfo.name,i.mergeOption(r,this),i.optionUpdated(r,!1)):(t=D({dependentModels:s,componentIndex:e},t.keyInfo),D(i=new n(r,this,this,t),t),i.init(r,this,this,t),i.optionUpdated(null,!0))):(i.mergeOption({},this),i.optionUpdated({},!1)),h.get(o)[e]=i,l[o][e]=i.option},this),"series"===o&&Si(this,h.get("series"))},this),this._seriesIndicesMap=z(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var i=I(this.option);return E(i,function(t,e){if(Iu.hasClass(e)){for(var n=(t=Te(t)).length-1;0<=n;n--)Ae(t[n])&&t.splice(n,1);i[e]=t}}),delete i[Gu],i},getTheme:function(){return this._theme},getComponent:function(t,e){t=this._componentsMap.get(t);return t?t[e||0]:void 0},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,i,r=t.index,o=t.id,a=t.name,s=this._componentsMap.get(e);return s&&s.length?Ti(null!=r?(A(r)||(r=[r]),h(w(r,function(t){return s[t]}),function(t){return!!t})):null!=o?(n=A(o),h(s,function(t){return n&&0<=d(o,t.id)||!n&&t.id===o})):null!=a?(i=A(a),h(s,function(t){return i&&0<=d(a,t.name)||!i&&t.name===a})):s.slice(),t):[]},findComponents:function(t){var e,n,i,r,o,a=t.query,s=t.mainType,l=(n=s+"Index",i=s+"Id",r=s+"Name",!(e=a)||null==e[n]&&null==e[i]&&null==e[r]?null:{mainType:s,index:e[n],id:e[i],name:e[r]}),l=l?this.queryComponents(l):this._componentsMap.get(s);return o=Ti(l,t),t.filter?h(o,t.filter):o},eachComponent:function(t,i,r){var e=this._componentsMap;"function"==typeof t?(r=i,i=t,e.each(function(t,n){E(t,function(t,e){i.call(r,n,t,e)})})):P(t)?E(e.get(t),i,r):O(t)&&E(this.findComponents(t),i,r)},getSeriesByName:function(e){return h(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(e){return h(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(n,i){E(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];n.call(i,e,t)},this)},eachRawSeries:function(t,e){E(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(n,i,r){E(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];e.subType===n&&i.call(r,e,t)},this)},eachRawSeriesByType:function(t,e,n){return E(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){e=h(this._componentsMap.get("series"),t,e);Si(this,e)},restoreData:function(n){var t=this._componentsMap;Si(this,t.get("series"));var i=[];t.each(function(t,e){i.push(e)}),Iu.topologicalTravel(i,Iu.getAllClassMainTypes(),function(e){E(t.get(e),function(t){"series"===e&&function(t,e){if(e){var n=e.seiresIndex,i=e.seriesId,e=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=e&&t.name!==e}}(t,n)||t.restoreData()})})}});e(Xu,Lu);var Yu=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],qu={};Ii.prototype={constructor:Ii,create:function(e,n){var i=[];E(qu,function(t){t=t.create(e,n);i=i.concat(t||[])}),this._coordinateSystems=i},update:function(e,n){E(this._coordinateSystems,function(t){t.update&&t.update(e,n)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Ii.register=function(t,e){qu[t]=e},Ii.get=function(t){return qu[t]};var Uu=E,ju=I,Zu=w,$u=s,Ku=/^(min|max)?(.+)$/;Di.prototype={constructor:Di,setOption:function(t,e){t&&E(Te(t.series),function(t){t&&t.data&&g(t.data)&&x(t.data)}),t=ju(t,!0);var r,n=this._optionBackup,t=function(t,n,i){var e,r,o,a=[],s=[],l=t.timeline;return t.baseOption&&(r=t.baseOption),(l||t.options)&&(r=r||{},a=(t.options||[]).slice()),t.media&&(r=r||{},o=t.media,Uu(o,function(t){t&&t.option&&(t.query?s.push(t):e=e||t)})),(r=r||t).timeline||(r.timeline=l),Uu([r].concat(a).concat(w(s,function(t){return t.option})),function(e){Uu(n,function(t){t(e,i)})}),{baseOption:r,timelineOptions:a,mediaDefault:e,mediaList:s}}.call(this,t,e,!n);this._newBaseOption=t.baseOption,n?(r=n.baseOption,e=t.baseOption,Uu(e=e||{},function(t,e){var n,i;null!=t&&(n=r[e],Iu.hasClass(e)?(t=Te(t),i=De(n=Te(n),t),r[e]=Zu(i,function(t){return t.option&&t.exist?$u(t.exist,t.option,!0):t.exist||t.option})):r[e]=$u(n,t,!0))}),t.timelineOptions.length&&(n.timelineOptions=t.timelineOptions),t.mediaList.length&&(n.mediaList=t.mediaList),t.mediaDefault&&(n.mediaDefault=t.mediaDefault)):this._optionBackup=t},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=Zu(e.timelineOptions,ju),this._mediaList=Zu(e.mediaList,ju),this._mediaDefault=ju(e.mediaDefault),this._currentMediaIndices=[],ju(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;return!n.length||(t=t.getComponent("timeline"))&&(e=ju(n[t.getCurrentIndex()],!0)),e},getMediaOption:function(){var t=this._api.getWidth(),e=this._api.getHeight(),n=this._mediaList,i=this._mediaDefault,r=[],o=[];if(!n.length&&!i)return o;for(var a,s,l=0,h=n.length;l<h;l++)ki(n[l].query,t,e)&&r.push(l);return!r.length&&i&&(r=[-1]),r.length&&(a=r,s=this._currentMediaIndices,a.join(",")!==s.join(","))&&(o=Zu(r,function(t){return ju((-1===t?i:n[t]).option)})),this._currentMediaIndices=r,o}};function Qu(e,t){Ju(Ei(e.series),function(t){tc(t)&&function(t){if(tc(t)){Ai(t),Li(t),Oi(t,"label"),Oi(t,"upperLabel"),Oi(t,"edgeLabel"),t.emphasis&&(Oi(t.emphasis,"label"),Oi(t.emphasis,"upperLabel"),Oi(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Ai(e),Bi(e));var n=t.markLine;n&&(Ai(n),Bi(n));var i=t.markArea;i&&Bi(i);var r=t.data;if("graph"===t.type){r=r||t.nodes;var o=t.links||t.edges;if(o&&!g(o))for(var a=0;a<o.length;a++)Bi(o[a]);E(t.categories,function(t){Li(t)})}if(r&&!g(r))for(a=0;a<r.length;a++)Bi(r[a]);if((e=t.markPoint)&&e.data)for(var s=e.data,a=0;a<s.length;a++)Bi(s[a]);if((n=t.markLine)&&n.data)for(var l=n.data,a=0;a<l.length;a++)A(l[a])?(Bi(l[a][0]),Bi(l[a][1])):Bi(l[a]);"gauge"===t.type?(Oi(t,"axisLabel"),Oi(t,"title"),Oi(t,"detail")):"treemap"===t.type?(Pi(t.breadcrumb,"itemStyle"),E(t.levels,function(t){Li(t)})):"tree"===t.type&&Li(t.leaves)}}(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ju(n,function(t){Ju(Ei(e[t]),function(t){t&&(Oi(t,"axisLabel"),Oi(t.axisPointer,"label"))})}),Ju(Ei(e.parallel),function(t){t=t&&t.parallelAxisDefault;Oi(t,"axisLabel"),Oi(t&&t.axisPointer,"label")}),Ju(Ei(e.calendar),function(t){Pi(t,"itemStyle"),Oi(t,"dayLabel"),Oi(t,"monthLabel"),Oi(t,"yearLabel")}),Ju(Ei(e.radar),function(t){Oi(t,"name")}),Ju(Ei(e.geo),function(t){tc(t)&&(Bi(t),Ju(Ei(t.regions),function(t){Bi(t)}))}),Ju(Ei(e.timeline),function(t){Bi(t),Pi(t,"label"),Pi(t,"itemStyle"),Pi(t,"controlStyle",!0);t=t.data;A(t)&&E(t,function(t){O(t)&&(Pi(t,"label"),Pi(t,"itemStyle"))})}),Ju(Ei(e.toolbox),function(t){Pi(t,"iconStyle"),Ju(t.feature,function(t){Pi(t,"iconStyle")})}),Oi(Ri(e.axisPointer),"label"),Oi(Ri(e.tooltip).axisPointer,"label")}var Ju=E,tc=O,ec=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],nc=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],ic=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],rc=function(e,t){Qu(e,t),e.series=Te(e.series),E(e.series,function(t){var e,n;O(t)&&("pie"!==(e=t.type)&&"gauge"!==e||null==t.clockWise||(t.clockwise=t.clockWise),"gauge"===e&&null!=(n=function(t,e){e=e.split(",");for(var n=t,i=0;i<e.length&&null!=(n=n&&n[e[i]]);i++);return n}(t,"pointer.color"))&&function(t,e,n,i){e=e.split(",");for(var r,o=t,a=0;a<e.length-1;a++)null==o[r=e[a]]&&(o[r]={}),o=o[r];!i&&null!=o[e[a]]||(o[e[a]]=n)}(t,"itemStyle.normal.color",n),zi(t))}),e.dataRange&&(e.visualMap=e.dataRange),E(ic,function(t){t=e[t];t&&(A(t)||(t=[t]),E(t,function(t){zi(t)}))})},vs=Fi.prototype;vs.pure=!1;var oc={arrayRows_column:{pure:vs.persistent=!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:Wi},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,i=0;i<n.length;i++){var r=n[i];e.push(r?r[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Hi,getItem:Vi,appendData:Wi},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,t=this._data[t];return t?t.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var r=this._data[n[i].name];e.push(r?r[t]:null)}return e},appendData:function(t){var r=this._data;E(t,function(t,e){for(var n=r[e]||(r[e]=[]),i=0;i<(t||[]).length;i++)n.push(t[i])})}},original:{count:Hi,getItem:Vi,appendData:Wi},typedArray:{persistent:!(vs.getSource=function(){return this._source}),pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,i=0;i<this._dimSize;i++)e[i]=this._data[n+i];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},ac={arrayRows:Gi,objectRows:function(t,e,n,i){return null!=n?t[i]:t},keyedColumns:Gi,original:function(t,e,n){t=Ie(t);return null!=n&&t instanceof Array?t[n]:t},typedArray:Gi},sc={arrayRows:Xi,objectRows:function(t,e){return Yi(t[e],this._dimensionInfos[e])},keyedColumns:Xi,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return this._rawData.pure||(!Bl(t=t)||t instanceof Array)||(this.hasItemOption=!0),Yi(r instanceof Array?r[i]:r,this._dimensionInfos[e])},typedArray:function(t,e,n,i){return t[i]}},lc=/\{@(.+?)\}/g,Ms={getDataParams:function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),t=n.getItemVisual(t,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:o,dataIndex:r,data:a,dataType:e,value:i,color:t,marker:ui(t),$vars:["seriesName","name","value"]}},getFormattedLabel:function(i,t,e,n,r){t=t||"normal";var o=this.getData(e),a=o.getItemModel(i),e=this.getDataParams(i,e);null!=n&&e.value instanceof Array&&(e.value=e.value[n]);r=a.get("normal"===t?[r||"label","formatter"]:[t,r||"label","formatter"]);return"function"==typeof r?(e.status=t,r(e)):"string"==typeof r?hi(r,e).replace(lc,function(t,e){var n=e.length;return"["===e.charAt(0)&&"]"===e.charAt(n-1)&&(e=+e.slice(1,n-1)),qi(o,i,e)}):void 0},getRawValue:function(t,e){return qi(this.getData(e),t)},formatTooltip:function(){}},kl=ji.prototype;kl.perform=function(t){function e(t){return 1<=t||(t=1),t}var n=this._upstream,i=t&&t.skip;this._dirty&&n&&((s=this.context).data=s.outputData=n.context.outputData),this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(r=this._plan(this.context));var r,o,a=e(this._modBy),s=this._modDataCount||0,l=e(t&&t.modBy),h=t&&t.modDataCount||0;a===l&&s===h||(r="reset"),!this._dirty&&"reset"!==r||(this._dirty=!1,s=i,(r=this)._dueIndex=r._outputDueEnd=r._dueEnd=0,r._settedOutputEnd=null,!s&&r._reset&&((o=r._reset(r.context))&&o.progress&&(p=o.forceFirstProgress,o=o.progress),A(o)&&!o.length&&(o=null)),r._progress=o,r._modBy=r._modDataCount=null,(r=r._downstream)&&r.dirty(),p=p),this._modBy=l,this._modDataCount=h;t=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var u=this._dueIndex,c=Math.min(null!=t?this._dueIndex+t:1/0,this._dueEnd);if(!i&&(p||u<c)){var d=this._progress;if(A(d))for(var f=0;f<d.length;f++)Zi(this,d[f],u,c,l,h);else Zi(this,d,u,c,l,h)}this._dueIndex=c;var p=null!=this._settedOutputEnd?this._settedOutputEnd:c;this._outputDueEnd=p}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var hc,uc,cc,dc,fc,pc,gc=pc={reset:function(t,e,n,i){uc=t,hc=e,cc=n,dc=i,fc=Math.ceil(dc/cc),pc.next=1<cc&&0<dc?vc:mc}};function mc(){return uc<hc?uc++:null}function vc(){var t=uc%fc*cc+Math.ceil(uc/fc),t=hc<=uc?null:t<dc?t:uc;return uc++,t}kl.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},kl.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},kl.pipe=function(t){this._downstream===t&&!this._dirty||((this._downstream=t)._upstream=this,t.dirty())},kl.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},kl.getUpstream=function(){return this._upstream},kl.getDownstream=function(){return this._downstream},kl.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var yc=Le(),_c=Iu.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=Ui({count:Ki,reset:Qi}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),_i(this);n=this.getInitialData(t,n);tr(n,this),this.dataTask.context.data=n,yc(this).dataBeforeProcessed=n,$i(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?mi(t):{},r=this.subType;Iu.hasClass(r),s(t,e.getTheme().get(this.subType)),s(t,this.getDefaultOption()),Ce(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&gi(t,i,n)},mergeOption:function(t,e){t=s(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&gi(this.option,t,n),_i(this);e=this.getInitialData(t,e);tr(e,this),this.dataTask.dirty(),this.dataTask.context.data=e,yc(this).dataBeforeProcessed=e,$i(this)},fillDataTextStyle:function(t){if(t&&!g(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&Ce(t[n],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=nr(this);if(e){e=e.context.data;return null==t?e:e.getLinkedData(t)}return yc(this).data},setData:function(t){var e,n=nr(this);n&&((e=n.context).data!==t&&n.modifyOutputEnd&&n.setOutputEnd(t.count()),e.outputData=t,n!==this.dataTask&&(e.data=t)),yc(this).data=t},getSource:function(){return Wu(this).source},getRawData:function(){return yc(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(e,r){var o=this.getData(),t=o.mapDimension("defaultedTooltip",!0),n=t.length,i=this.getRawValue(e),a=A(i),s=o.getItemVisual(e,"color");O(s)&&s.colorStops&&(s=(s.colorStops[0]||{}).color),s=s||"transparent";var l,h,u,c=1<n||a&&!n?(h=m(l=i,function(t,e,n){n=o.getDimensionInfo(n);return t|(n&&!1!==n.tooltip&&null!=n.displayName)},0),u=[],t.length?E(t,function(t){g(qi(o,e,t),t)}):E(l,g),(h?"<br/>":"")+u.join(h?"<br/>":", ")):li(si(n?qi(o,e,t[0]):a?i[0]:i)),d=ui(s),f=o.getName(e),p=this.name;function g(t,e){var n,i=o.getDimensionInfo(e);i&&!1!==i.otherDims.tooltip&&(n=i.type,e=ui({color:s,type:"subItem"}),(t=(h?e+li(i.displayName||"-")+": ":"")+li("ordinal"===n?t+"":"time"===n?r?"":di("yyyy/MM/dd hh:mm:ss",t):si(t)))&&u.push(t))}return ke(this)||(p=""),p=p?li(p)+(r?": ":"<br/>"):"",r?d+p+c:p+d+(f?li(f)+": "+c:c)},isAnimationEnabled:function(){if(Ua.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var i=this.ecModel;return Lu.getColorFromPalette.call(this,t,e,n)||i.getColorFromPalette(t,e,n)},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});e(_c,Ms),e(_c,Lu);var xc=function(){this.group=new Gs,this.uid=Kn("viewComponent")};xc.prototype={constructor:xc,init:function(){},render:function(){},dispose:function(){}};fl=xc.prototype;fl.updateView=fl.updateLayout=fl.updateVisual=function(){},ze(xc),Ve(xc,{registerWhenExtend:!0});var Wl=function(){var o=Le();return function(t){var e=o(t),n=t.pipelineContext,i=e.large,r=e.progressiveRender,t=e.large=n.large,n=e.progressiveRender=n.progressiveRender;return!!(i^t||r^n)&&"reset"}},wc=Le(),bc=Wl(),Ka=ir.prototype={type:"chart",init:function(){},render:function(){},highlight:function(t,e,n,i){or(t.getData(),i,"emphasis")},downplay:function(t,e,n,i){or(t.getData(),i,"normal")},remove:function(){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};Ka.updateView=Ka.updateLayout=Ka.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},ze(ir),Ve(ir,{registerWhenExtend:!0}),ir.markUpdateMethod=function(t,e){wc(t).updateMethod=e};var Mc={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Sc="\0__throttleOriginMethod",Tc="\0__throttleRate",Cc="\0__throttleType",vs={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),r=e.get(i)||e.getColorFromPalette(e.name,null,t.getSeriesCount());if(n.setVisual("color",r),!t.isSeriesFiltered(e)){"function"!=typeof r||r instanceof Uh||n.each(function(t){n.setItemVisual(t,"color",r(e.getDataParams(t)))});return{dataEach:n.hasItemOption?function(t,e){var n=t.getItemModel(e).get(i,!0);null!=n&&t.setItemVisual(e,"color",n)}:null}}}},Ic={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},Dc=function(t,e){function l(t,e){if("string"!=typeof t)return t;var n=t;return E(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}function h(t){var e=o.get(t);if(null!=e)return e;for(var n=t.split("."),i=Ic.aria,r=0;r<n.length;++r)i=i[n[r]];return i}var n,o=e.getModel("aria");if(o.get("show")){if(o.get("description"))return void t.setAttribute("aria-label",o.get("description"));var u=0;e.eachSeries(function(){++u},this);var c,d=o.get("data.maxCount")||10,i=o.get("series.maxCount")||10,f=Math.min(u,i);u<1||((n=e.getModel("title").option)&&n.length&&(n=n[0]),i=(i=n&&n.text)?l(h("general.withTitle"),{title:i}):h("general.withoutTitle"),c=[],i+=l(h(1<u?"series.multiple.prefix":"series.single.prefix"),{seriesCount:u}),e.eachSeries(function(t,e){if(e<f){var n=t.get("name"),e="series."+(1<u?"multiple":"single")+".",n=h(n?e+"withName":e+"withoutName");n=l(n,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(e=t.subType,Ic.series.typeNames[e]||"自定义图")});var i=t.getData();n+=(window.data=i).count()>d?l(h("data.partialData"),{displayCnt:d}):h("data.allData");for(var r,o,a=[],s=0;s<i.count();s++){s<d&&(r=i.getName(s),o=qi(i,s),a.push(l(h(r?"data.withName":"data.withoutName"),{name:r,value:o})))}n+=a.join(h("data.separator.middle"))+h("data.separator.end"),c.push(n)}}),i+=c.join(h("series.multiple.separator.middle"))+h("series.multiple.separator.end"),t.setAttribute("aria-label",i))}},kc=Math.PI,kl=hr.prototype;kl.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){t=t.overallTask;t&&t.dirty()})},kl.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,n=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,i=i&&i.modDataCount;return{step:n,modBy:null!=i?Math.ceil(i/n):null,modDataCount:i}}},kl.getPipeline=function(t){return this._pipelineMap.get(t)},kl.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),r=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,e=t.get("large")&&i>=t.get("largeThreshold"),i="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={progressiveRender:r,modDataCount:i,large:e}},kl.restorePipelines=function(t){var i=this,r=i._pipelineMap=z();t.eachSeries(function(t){var e=t.getProgressive(),n=t.uid;r.set(n,{id:n,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:e&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0}),_r(i,t,t.dataTask)})},kl.prepareStageTasks=function(){var n=this._stageTaskMap,i=this.ecInstance.getModel(),r=this.api;E(this._allHandlers,function(t){var e=n.get(t.uid)||n.set(t.uid,[]);t.reset&&function(n,i,t,r,o){function e(t){var e=t.uid,e=a.get(e)||a.set(e,Ui({plan:gr,reset:mr,count:yr}));e.context={model:t,ecModel:r,api:o,useClearVisual:i.isVisual&&!i.isLayout,plan:i.plan,reset:i.reset,scheduler:n},_r(n,t,e)}var a=t.seriesTaskMap||(t.seriesTaskMap=z()),s=i.seriesType,t=i.getTargetSeries;i.createOnAllSeries?r.eachRawSeries(e):s?r.eachRawSeriesByType(s,e):t&&t(r,o).each(e);var l=n._pipelineMap;a.each(function(t,e){l.get(e)||(t.dispose(),a.removeKey(e))})}(this,t,e,i,r),t.overallReset&&function(i,t,e,n,r){function o(t){var e=t.uid,n=s.get(e);n||(n=s.set(e,Ui({reset:dr,onDirty:pr})),a.dirty()),n.context={model:t,overallProgress:h,modifyOutputEnd:u},n.agent=a,n.__block=h,_r(i,t,n)}var a=e.overallTask=e.overallTask||Ui({reset:cr});a.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:i};var s=a.agentStubMap=a.agentStubMap||z(),l=t.seriesType,e=t.getTargetSeries,h=!0,u=t.modifyOutputEnd;l?n.eachRawSeriesByType(l,o):e?e(n,r).each(o):(h=!1,E(n.getSeries(),o));var c=i._pipelineMap;s.each(function(t,e){c.get(e)||(t.dispose(),a.dirty(),s.removeKey(e))})}(this,t,e,i,r)},this)},kl.prepareView=function(t,e,n,i){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=n,o.api=i,r.__block=!t.incrementalPrepareRender,_r(this,e,r)},kl.performDataProcessorTasks=function(t,e){ur(this,this._dataProcessorHandlers,t,e,{block:!0})},kl.performVisualTasks=function(t,e,n){ur(this,this._visualHandlers,t,e,n)},kl.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},kl.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var Ac=kl.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},Pc=vr(0);hr.wrapStageHandler=function(t,e){return p(t)&&(t={overallReset:t,seriesType:function(t){Lc=null;try{t(Oc,Bc)}catch(t){}return Lc}(t)}),t.uid=Kn("stageHandler"),e&&(t.visualType=e),t};var Lc,Oc={},Bc={};xr(Oc,Xu),xr(Bc,Ci),Oc.eachSeriesByType=Oc.eachRawSeriesByType=function(t){Lc=t},Oc.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Lc=t.subType)};var Ms=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],fl={color:Ms,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Ms]},Ec="#eee",Ka=function(){return{axisLine:{lineStyle:{color:Ec}},axisTick:{lineStyle:{color:Ec}},axisLabel:{textStyle:{color:Ec}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:Ec}}}},kl=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],Ms={color:kl,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:Ec},crossStyle:{color:Ec}}},legend:{textStyle:{color:Ec}},textStyle:{color:Ec},title:{textStyle:{color:Ec}},toolbox:{iconStyle:{normal:{borderColor:Ec}}},dataZoom:{textStyle:{color:Ec}},visualMap:{textStyle:{color:Ec}},timeline:{lineStyle:{color:Ec},itemStyle:{normal:{color:kl[1]}},label:{normal:{textStyle:{color:Ec}}},controlStyle:{normal:{color:Ec,borderColor:Ec}}},timeAxis:Ka(),logAxis:Ka(),valueAxis:Ka(),categoryAxis:Ka(),line:{symbol:"circle"},graph:{color:kl},gauge:{title:{textStyle:{color:Ec}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};Ms.categoryAxis.splitLine.show=!1,Iu.extend({type:"dataset",defaultOption:{seriesLayoutBy:Hu,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(t){var e=t.option.source,n=Nu;if(g(e))n=Fu;else if(A(e))for(var i=0,r=e.length;i<r;i++){var o=e[i];if(null!=o){if(A(o)){n=Eu;break}if(O(o)){n=Ru;break}}}else if(O(e)){for(var a in e)if(e.hasOwnProperty(a)&&L(e[a])){n=zu;break}}else if(null!=e)throw new Error("Invalid data");Wu(t).sourceFormat=n}(this)}}),xc.extend({type:"dataset"});var Rc=u,zc=E,Nc=p,Fc=O,Hc=Iu.parseClassType,Ka={PROCESSOR:{FILTER:1e3,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,GLOBAL:2e3,CHART:3e3,COMPONENT:4e3,BRUSH:5e3}},Vc="__flagInMainProcess",Wc="__optionUpdated",Gc=/^[a-zA-Z0-9_]+$/;br.prototype.on=wr("on"),br.prototype.off=wr("off"),br.prototype.one=wr("one"),e(br,us);kl=Mr.prototype;kl._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[Wc]){var e=this[Wc].silent;this[Vc]=!0,Tr(this),Xc.update.call(this),this[Vc]=!1,this[Wc]=!1,kr.call(this,e),Ar.call(this,e)}else if(t.unfinished){var n=1,i=this._model;this._api;t.unfinished=!1;do{var r=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),Ir(this,i),t.performVisualTasks(i),Br(this,this._model,0,"remain"),n-=+new Date-r}while(0<n&&t.unfinished);t.unfinished||this._zr.flush()}}},kl.getDom=function(){return this._dom},kl.getZr=function(){return this._zr},kl.setOption=function(t,e,n){var i,r,o;Fc(e)&&(n=e.lazyUpdate,i=e.silent,e=e.notMerge),this[Vc]=!0,this._model&&!e||(r=new Di(this._api),o=this._theme,(e=this._model=new Xu(null,null,o,r)).scheduler=this._scheduler,e.init(null,null,o,r)),this._model.setOption(t,Zc),n?(this[Wc]={silent:i},this[Vc]=!1):(Tr(this),Xc.update.call(this),this._zr.flush(),this[Wc]=!1,this[Vc]=!1,kr.call(this,i),Ar.call(this,i))},kl.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},kl.getModel=function(){return this._model},kl.getOption=function(){return this._model&&this._model.getOption()},kl.getWidth=function(){return this._zr.getWidth()},kl.getHeight=function(){return this._zr.getHeight()},kl.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},kl.getRenderedCanvas=function(t){if(Ua.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},kl.getSvgDataUrl=function(){if(Ua.svgSupported){var t=this._zr;return E(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},kl.getDataURL=function(t){var e=(t=t||{}).excludeComponents,n=this._model,i=[],r=this;zc(e,function(t){n.eachComponent({mainType:t},function(t){t=r._componentsMap[t.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)})});t="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return zc(i,function(t){t.group.ignore=!1}),t},kl.getConnectedDataURL=function(n){if(Ua.canvasSupported){var i=this.group,r=Math.min,o=Math.max;if(ed[i]){var a=1/0,s=1/0,l=-1/0,h=-1/0,u=[],e=n&&n.pixelRatio||1;E(td,function(t){var e;t.group===i&&(e=t.getRenderedCanvas(I(n)),t=t.getDom().getBoundingClientRect(),a=r(t.left,a),s=r(t.top,s),l=o(t.right,l),h=o(t.bottom,h),u.push({dom:e,left:t.left,top:t.top}))});var t=(l*=e)-(a*=e),c=(h*=e)-(s*=e),d=Fa();d.width=t,d.height=c;var f=Se(d);return zc(u,function(t){t=new de({style:{x:t.left*e-a,y:t.top*e-s,image:t.dom}});f.add(t)}),f.refreshImmediately(),d.toDataURL("image/"+(n&&n.type||"png"))}return this.getDataURL(n)}},kl.convertToPixel=f(Sr,"convertToPixel"),kl.convertFromPixel=f(Sr,"convertFromPixel"),kl.containPixel=function(t,i){var r;return E(t=Oe(this._model,t),function(t,n){0<=n.indexOf("Models")&&E(t,function(t){var e=t.coordinateSystem;e&&e.containPoint?r|=!!e.containPoint(i):"seriesModels"!==n||(e=this._chartsMap[t.__viewId])&&e.containPoint&&(r|=e.containPoint(i,t))},this)},this),!!r},kl.getVisual=function(t,e){var n=(t=Oe(this._model,t,{defaultMainType:"series"})).seriesModel.getData(),t=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?n.indexOfRawIndex(t.dataIndex):null;return null!=t?n.getItemVisual(t,e):n.getVisual(e)},kl.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},kl.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var Xc={prepareAndUpdate:function(t){Tr(this),Xc.update.call(this,t)},update:function(t){var e=this._model,n=this._api,i=this._zr,r=this._coordSysMgr,o=this._scheduler;e&&(o.restoreData(e,t),o.performSeriesTasks(e),r.create(e,n),o.performDataProcessorTasks(e,t),Ir(this,e),r.update(e,n),Lr(e),o.performVisualTasks(e,t),Or(this,e,n,t),t=e.get("backgroundColor")||"transparent",Ua.canvasSupported?i.setBackgroundColor(t):(t=dt(i=ut(t),"rgb"),0===i[3]&&(t="transparent")),Er(e,n))},updateTransform:function(i){var r,n,o=this._model,a=this,s=this._api;o&&(r=[],o.eachComponent(function(t,e){var n=a.getViewOfComponentModel(e);n&&n.__alive&&(!n.updateTransform||(e=n.updateTransform(e,o,s,i))&&e.update)&&r.push(n)}),n=z(),o.eachSeries(function(t){var e=a._chartsMap[t.__viewId];(!e.updateTransform||(e=e.updateTransform(t,o,s,i))&&e.update)&&n.set(t.uid,1)}),Lr(o),this._scheduler.performVisualTasks(o,i,{setDirty:!0,dirtyMap:n}),Br(a,o,0,i,n),Er(o,this._api))},updateView:function(t){var e=this._model;e&&(ir.markUpdateMethod(t,"updateView"),Lr(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),Or(this,this._model,this._api,t),Er(e,this._api))},updateVisual:function(t){Xc.update.call(this,t)},updateLayout:function(t){Xc.update.call(this,t)}};kl.resize=function(t){this._zr.resize(t);var e=this._model;this._loadingFX&&this._loadingFX.resize(),e&&(e=e.resetOption("media"),t=t&&t.silent,this[Vc]=!0,e&&Tr(this),Xc.update.call(this),this[Vc]=!1,kr.call(this,t),Ar.call(this,t))},kl.showLoading=function(t,e){Fc(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Jc[t]&&(t=Jc[t](this._api,e),e=this._zr,this._loadingFX=t,e.add(t))},kl.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},kl.makeActionFromEvent=function(t){var e=D({},t);return e.type=Uc[t.type],e},kl.dispatchAction=function(t,e){if(Fc(e)||(e={silent:!!e}),qc[t.type]&&this._model){if(this[Vc])return void this._pendingActions.push(t);Dr.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&Ua.browser.weChat&&this._throttledZrFlush(),kr.call(this,e.silent),Ar.call(this,e.silent)}},kl.appendData=function(t){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},kl.on=wr("on"),kl.off=wr("off"),kl.one=wr("one");var Yc=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];kl._initEvents=function(){zc(Yc,function(r){this._zr.on(r,function(t){var e,n=this.getModel(),i=t.target;"globalout"===r?e={}:i&&null!=i.dataIndex?e=(n=i.dataModel||n.getSeriesByIndex(i.seriesIndex))&&n.getDataParams(i.dataIndex,i.dataType)||{}:i&&i.eventData&&(e=D({},i.eventData)),e&&(e.event=t,e.type=r,this.trigger(r,e))},this)},this),zc(Uc,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},kl.isDisposed=function(){return this._disposed},kl.clear=function(){this.setOption({series:[]},!0)},kl.dispose=function(){var e,n;this._disposed||(this._disposed=!0,Ee(this.getDom(),rd,""),e=this._api,n=this._model,zc(this._componentsViews,function(t){t.dispose(n,e)}),zc(this._chartsViews,function(t){t.dispose(n,e)}),this._zr.dispose(),delete td[this.id])},e(Mr,us);var qc={},Uc={},jc=[],Zc=[],$c=[],Kc=[],Qc={},Jc={},td={},ed={},nd=+new Date,id=+new Date,rd="_echarts_instance_",od={},kl=zr;Xr(2e3,vs),Hr(rc),Vr(5e3,function(t){var i=z();t.eachSeries(function(t){var e=t.get("stack");if(e){var n=i.get(e)||i.set(e,[]),e=t.getData(),t={stackResultDimension:e.getCalculationInfo("stackResultDimension"),stackedOverDimension:e.getCalculationInfo("stackedOverDimension"),stackedDimension:e.getCalculationInfo("stackedDimension"),stackedByDimension:e.getCalculationInfo("stackedByDimension"),isStackedByIndex:e.getCalculationInfo("isStackedByIndex"),data:e,seriesModel:t};if(!t.stackedDimension||!t.isStackedByIndex&&!t.stackedByDimension)return;n.length&&e.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(t)}}),i.each(Ni)}),qr("default",function(i,t){k(t=t||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var r=new Qh({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),o=new eu({shape:{startAngle:-kc/2,endAngle:-kc/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),a=new Qh({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*kc/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*kc/2}).delay(300).start("circularInOut");t=new Gs;return t.add(o),t.add(a),t.add(r),t.resize=function(){var t=i.getWidth()/2,e=i.getHeight()/2;o.setShape({cx:t,cy:e});var n=o.shape.r;a.setShape({x:t-n,y:e-n,width:2*n,height:2*n}),r.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},t.resize(),t}),Wr({type:"highlight",event:"highlight",update:"highlight"},S),Wr({type:"downplay",event:"downplay",update:"downplay"},S),Fr("light",fl),Fr("dark",Ms);var ad=z(["tooltip","label","itemName","itemId","seriesName"]);to.prototype={constructor:to,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},i=[],r=[];for(eo(t,{},i,"_oldKeyGetter",this),eo(e,n,r,"_newKeyGetter",this),o=0;o<t.length;o++){null!=(a=n[s=i[o]])?((h=a.length)?(1===h&&(n[s]=null),a=a.unshift()):n[s]=null,this._update&&this._update(a,o)):this._remove&&this._remove(o)}for(var o=0;o<r.length;o++){var a,s=r[o];if(n.hasOwnProperty(s))if(null!=(a=n[s]))if(a.length)for(var l=0,h=a.length;l<h;l++)this._add&&this._add(a[l]);else this._add&&this._add(a)}}};function sd(t,e){t=t||["x","y"];for(var n={},i=[],r={},o=0;o<t.length;o++){var a=t[o];P(a)&&(a={name:a});var s=a.name;a.type=a.type||"float",a.coordDim||(a.coordDim=s,a.coordDimIndex=0),a.otherDims=a.otherDims||{},i.push(s),(n[s]=a).index=o,a.createInvertedIndices&&(r[s]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=$r(this),this._invertedIndicesMap=r,this._calculationInfo={}}var ld=O,vs="undefined",hd={float:typeof Float64Array==vs?Array:Float64Array,int:typeof Int32Array==vs?Array:Int32Array,ordinal:Array,number:Array,time:Array},ud=typeof Uint32Array==vs?Array:Uint32Array,cd=typeof Uint16Array==vs?Array:Uint16Array,dd=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],fd=["_extent","_approximateExtent","_rawExtent"],fl=sd.prototype;fl.type="list",fl.hasItemOption=!0,fl.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},fl.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},fl.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},fl.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];t=n.encode[t];return!0===e?(t||[]).slice():t&&t[e]},fl.initData=function(t,e,n){(yi.isInstance(t)||L(t))&&(t=new Fi(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=sc[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},fl.getProvider=function(){return this._rawData},fl.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);t=e.count();e.persistent||(t+=n),this._initDataFromProvider(n,t)},fl._initDataFromProvider=function(t,e){if(!(e<=t)){for(var n,i=this._chunkSize,r=this._rawData,o=this._storage,a=this.dimensions,s=a.length,l=this._dimensionInfos,h=this._nameList,u=this._idList,c=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=f-1,g=0;g<s;g++){c[A=a[g]]||(c[A]=uo());var m=l[A];0===m.otherDims.itemName&&(n=this._nameDimIdx=g),0===m.otherDims.itemId&&(this._idDimIdx=g);var v=hd[m.type];o[A]||(o[A]=[]);var y=o[A][p];if(y&&y.length<i){for(var _=new v(Math.min(e-p*i,i)),x=0;x<y.length;x++)_[x]=y[x];o[A][p]=_}for(var w=f*i;w<e;w+=i)o[A].push(new v(Math.min(e-w,i)));this._chunkCount=o[A].length}for(var b=new Array(s),M=t;M<e;M++){b=r.getItem(M,b);for(var S,T,C,I,D=Math.floor(M/i),k=M%i,w=0;w<s;w++){var A,P=o[A=a[w]][D],L=this._dimValueGetter(b,A,M,w);P[k]=L;P=c[A];L<P[0]&&(P[0]=L),L>P[1]&&(P[1]=L)}r.pure||(S=h[M],b&&null==S&&(null!=b.name?h[M]=S=b.name:null==n||(C=o[T=a[n]][D])&&(S=C[k],(I=l[T].ordinalMeta)&&I.categories.length&&(S=I.categories[S]))),null==(I=null==b?null:b.id)&&null!=S&&(d[S]=d[S]||0,0<d[I=S]&&(I+="__ec__"+d[S]),d[S]++),null!=I&&(u[M]=I))}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent={},E(B=(O=this)._invertedIndicesMap,function(t,e){var n=O._dimensionInfos[e].ordinalMeta;if(n){t=B[e]=new ud(n.categories.length);for(var i=0;i<t.length;i++)t[i]=NaN;for(i=0;i<O._count;i++)t[O.get(e,i)]=i}})}var O,B},fl.count=function(){return this._count},fl.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array){r=new e(n);for(var i=0;i<n;i++)r[i]=t[i]}else r=new e(t.buffer,0,n)}else for(var r=new(e=no(this))(this.count()),i=0;i<r.length;i++)r[i]=i;return r},fl.get=function(t,e){if(!(0<=e&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var i=Math.floor(e/this._chunkSize),e=e%this._chunkSize;return n[t][i][e]},fl.getByRawIndex=function(t,e){if(!(0<=e&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;t=Math.floor(e/this._chunkSize),e%=this._chunkSize;return n[t][e]},fl._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),e=e%this._chunkSize;return this._storage[t][n][e]},fl.getValues=function(t,e){var n=[];A(t)||(e=t,t=this.dimensions);for(var i=0,r=t.length;i<r;i++)n.push(this.get(t[i],e));return n},fl.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,i=0,r=e.length;i<r;i++)if("ordinal"!==n[e[i]].type&&isNaN(this.get(e[i],t)))return!1;return!0},fl.getDataExtent=function(t){t=this.getDimension(t);var e=uo();if(!this._storage[t])return e;var n,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();for(var r=(n=e)[0],o=n[1],a=0;a<i;a++){var s=this._getFast(t,this.getRawIndex(a));s<r&&(r=s),o<s&&(o=s)}return n=[r,o],this._extent[t]=n},fl.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},fl.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},fl.getCalculationInfo=function(t){return this._calculationInfo[t]},fl.setCalculationInfo=function(t,e){ld(t)?D(this._calculationInfo,t):this._calculationInfo[t]=e},fl.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,i=this.count();n<i;n++){var r=this.get(t,n);isNaN(r)||(e+=r)}return e},fl.getMedian=function(t){var e=[];this.each(t,function(t){isNaN(t)||e.push(t)});var n=[].concat(e).sort(function(t,e){return t-e}),t=this.count();return 0===t?0:t%2==1?n[(t-1)/2]:(n[t/2]+n[t/2-1])/2},fl.rawIndexOf=function(t,e){e=(t&&this._invertedIndicesMap[t])[e];return null==e||isNaN(e)?-1:e},fl.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},fl.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(e[o]<t)i=1+o;else{if(!(e[o]>t))return o;r=o-1}}return-1},fl.indicesOfNearest=function(t,e,n){var i=[];if(!this._storage[t])return i;null==n&&(n=1/0);for(var r=Number.MAX_VALUE,o=-1,a=0,s=this.count();a<s;a++){var l=e-this.get(t,a),h=Math.abs(l);l<=n&&h<=r&&((h<r||0<=l&&o<0)&&(r=h,o=l,i.length=0),i.push(a))}return i},fl.getRawIndex=oo,fl.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e.push(this.get(i,t))}return e},fl.getName=function(t){t=this.getRawIndex(t);return this._nameList[t]||ro(this,this._nameDimIdx,t)||""},fl.getId=function(t){return so(this,this.getRawIndex(t))},fl.each=function(t,e,n,i){if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;for(var r=(t=w(lo(t),this.getDimension,this)).length,o=0;o<this.count();o++)switch(r){case 0:e.call(n,o);break;case 1:e.call(n,this.get(t[0],o),o);break;case 2:e.call(n,this.get(t[0],o),this.get(t[1],o),o);break;default:for(var a=0,s=[];a<r;a++)s[a]=this.get(t[a],o);s[a]=o,e.apply(n,s)}}},fl.filterSelf=function(t,e,n,i){if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this,t=w(lo(t),this.getDimension,this);for(var r=this.count(),o=new(no(this))(r),a=[],s=t.length,l=0,h=t[0],u=0;u<r;u++){var c=this.getRawIndex(u);if(0===s)f=e.call(n,u);else if(1===s)var d=this._getFast(h,c),f=e.call(n,d,u);else{for(var p=0;p<s;p++)a[p]=this._getFast(h,c);a[p]=u,f=e.apply(n,a)}f&&(o[l++]=c)}return l<r&&(this._indices=o),this._count=l,this._extent={},this.getRawIndex=this._indices?ao:oo,this}},fl.selectRange=function(t){if(this._count){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);var i=n.length;if(i){var r=this.count(),o=new(no(this))(r),a=0,s=n[0],l=t[s][0],h=t[s][1],u=!1;if(!this._indices){var c=0;if(1===i){for(var d=this._storage[n[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){(l<=(w=p[m])&&w<=h||isNaN(w))&&(o[a++]=c),c++}u=!0}else if(2===i){for(var d=this._storage[s],v=this._storage[n[1]],y=t[n[1]][0],_=t[n[1]][1],f=0;f<this._chunkCount;f++)for(var p=d[f],x=v[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){var w=p[m],b=x[m];(l<=w&&w<=h||isNaN(w))&&(y<=b&&b<=_||isNaN(b))&&(o[a++]=c),c++}u=!0}}if(!u)if(1===i)for(m=0;m<r;m++){var M=this.getRawIndex(m);(l<=(w=this._getFast(s,M))&&w<=h||isNaN(w))&&(o[a++]=M)}else for(m=0;m<r;m++){for(var S=!0,M=this.getRawIndex(m),f=0;f<i;f++){var T=n[f];((w=this._getFast(e,M))<t[T][0]||w>t[T][1])&&(S=!1)}S&&(o[a++]=this.getRawIndex(m))}return a<r&&(this._indices=o),this._count=a,this._extent={},this.getRawIndex=this._indices?ao:oo,this}}},fl.mapArray=function(t,e,n,i){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n),r},fl.map=function(t,e,n,i){n=n||i||this;i=ho(this,t=w(lo(t),this.getDimension,this));i._indices=this._indices,i.getRawIndex=i._indices?ao:oo;for(var r=i._storage,o=[],a=this._chunkSize,s=t.length,l=this.count(),h=[],u=i._rawExtent,c=0;c<l;c++){for(var d=0;d<s;d++)h[d]=this.get(t[d],c);h[s]=c;var f=e&&e.apply(n,h);if(null!=f){"object"!=typeof f&&(o[0]=f,f=o);for(var p=this.getRawIndex(c),g=Math.floor(p/a),m=p%a,v=0;v<f.length;v++){var y=t[v],_=f[v],x=u[y],y=r[y];y&&(y[g][m]=_),_<x[0]&&(x[0]=_),_>x[1]&&(x[1]=_)}}}return i},fl.downSample=function(t,e,n,i){for(var r=ho(this,[t]),o=r._storage,a=[],s=Math.floor(1/e),l=o[t],h=this.count(),u=this._chunkSize,c=r._rawExtent[t],d=new(no(this))(h),f=0,p=0;p<h;p+=s){h-p<s&&(s=h-p,a.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),v=Math.floor(m/u),m=m%u;a[g]=l[v][m]}var y=n(a),_=this.getRawIndex(Math.min(p+i(a,y)||0,h-1)),x=_%u;(l[Math.floor(_/u)][x]=y)<c[0]&&(c[0]=y),y>c[1]&&(c[1]=y),d[f++]=_}return r._count=f,r._indices=d,r.getRawIndex=ao,r},fl.getItemModel=function(t){var e=this.hostModel;return new jn(this.getRawDataItem(t),e,e&&e.ecModel)},fl.diff=function(e){var n=this;return new to(e?e.getIndices():[],this.getIndices(),function(t){return so(e,t)},function(t){return so(n,t)})},fl.getVisual=function(t){var e=this._visual;return e&&e[t]},fl.setVisual=function(t,e){if(ld(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},fl.setLayout=function(t,e){if(ld(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},fl.getLayout=function(t){return this._layout[t]},fl.getItemLayout=function(t){return this._itemLayouts[t]},fl.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?D(this._itemLayouts[t]||{},e):e},fl.clearItemLayouts=function(){this._itemLayouts.length=0},fl.getItemVisual=function(t,e,n){t=this._itemVisuals[t],t=t&&t[e];return null!=t||n?t:this.getVisual(e)},fl.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{},r=this.hasItemVisual;if(this._itemVisuals[t]=i,ld(e))for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o],r[o]=!0);else i[e]=n,r[e]=!0},fl.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};function pd(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType}fl.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(pd,e)),this._graphicEls[t]=e},fl.getItemGraphicEl=function(t){return this._graphicEls[t]},fl.eachItemGraphicEl=function(n,i){E(this._graphicEls,function(t,e){t&&n&&n.call(i,t,e)})},fl.cloneShallow=function(t){var e;return t||(e=w(this.dimensions,this.getDimensionInfo,this),t=new sd(e,this.hostModel)),t._storage=this._storage,io(t,this),this._indices?(e=this._indices.constructor,t._indices=new e(this._indices)):t._indices=null,t.getRawIndex=t._indices?ao:oo,t},fl.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(r(arguments)))})},fl.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],fl.CHANGABLE_METHODS=["filterSelf","selectRange"];function gd(t,e,n){e=A(e)?{coordDimensions:e}:D({},e);var i=t.getSource(),r=Kr((r=(r=e)||{}).coordDimensions||[],e=i,{dimsDef:r.dimensionsDefine||e.dimensionsDefine,encodeDef:r.encodeDefine||e.encodeDefine,dimCount:r.dimensionsCount,generateCoord:r.generateCoord,generateCoordCount:r.generateCoordCount});return(t=new sd(r,t)).initData(i,n),t}var Ms={updateSelectedMap:function(t){this._targetList=A(t)?t.slice():[],this._selectTargetMap=m(t||[],function(t,e){return t.set(e.name,e),t},z())},select:function(t,e){t=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),t&&(t.selected=!0)},unSelect:function(t,e){t=null!=e?this._targetList[e]:this._selectTargetMap.get(t);t&&(t.selected=!1)},toggleSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return null!=n?(this[n.selected?"unSelect":"select"](t,e),n.selected):void 0},isSelected:function(t,e){t=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return t&&t.selected}},md=Zr({type:"series.pie",init:function(t){md.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){md.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return gd(this,["value"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],i=0,r=t.count();i<r;i++)n.push({name:t.getName(i),value:t.get(e,i),selected:function(t,e,n){if(t){var i=t.getProvider().getSource().sourceFormat;if(i===Bu||i===Ru){e=t.getRawDataItem(e);return i!==Bu||O(e)||(e=null),e?e[n]:void 0}}}(t,i,"selected")});return n},getDataParams:function(t){var e=this.getData(),n=md.superCall(this,"getDataParams",t),i=[];return e.each(e.mapDimension("value"),function(t){i.push(t)}),n.percent=function(t,e,n){if(!t[e])return 0;var i=m(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;for(var r=Math.pow(10,n),t=w(t,function(t){return(isNaN(t)?0:t)/i*r*100}),o=100*r,a=w(t,function(t){return Math.floor(t)}),s=m(a,function(t,e){return t+e},0),l=w(t,function(t,e){return t-a[e]});s<o;){for(var h=Number.NEGATIVE_INFINITY,u=null,c=0,d=l.length;c<d;++c)l[c]>h&&(h=l[c],u=c);++a[u],l[u]=0,++s}return a[e]/r}(i,t,e.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(t){Ce(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});e(md,Ms);vs=po.prototype;vs.updateData=function(t,e,n){function i(){o.stopAnimation(!0),o.animateTo({shape:{r:l.r+a.get("hoverOffset")}},300,"elasticOut")}function r(){o.stopAnimation(!0),o.animateTo({shape:{r:l.r}},300,"elasticOut")}var o=this.childAt(0),a=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),h=D({},l);h.label=null,n?(o.setShape(h),"scale"===a.getShallow("animationType")?(o.shape.r=l.r0,Xn(o,{shape:{r:l.r}},a,e)):(o.shape.endAngle=l.startAngle,Gn(o,{shape:{endAngle:l.endAngle}},a,e))):Gn(o,{shape:h},a,e);h=t.getItemVisual(e,"color");o.useStyle(k({lineJoin:"bevel",fill:h},s.getModel("itemStyle").getItemStyle())),o.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();h=s.getShallow("cursor");h&&o.attr("cursor",h),fo(this,t.getItemLayout(e),a.isSelected(null,e),a.get("selectedOffset"),a.get("animation")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),s.get("hoverAnimation")&&a.isAnimationEnabled()&&o.on("mouseover",i).on("mouseout",r).on("emphasis",i).on("normal",r),this._updateLabel(t,e),Bn(this)},vs._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),r=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");Gn(n,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},r,e),Gn(i,{style:{x:a.x,y:a.y}},r,e),i.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var l=o.getModel("label"),h=o.getModel("emphasis.label"),r=o.getModel("labelLine"),o=o.getModel("emphasis.labelLine"),s=t.getItemVisual(e,"color");En(i.style,i.hoverStyle={},l,h,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),i.ignore=i.normalIgnore=!l.get("show"),i.hoverIgnore=!h.get("show"),n.ignore=n.normalIgnore=!r.get("show"),n.hoverIgnore=!o.get("show"),n.setStyle({stroke:s,opacity:t.getItemVisual(e,"opacity")}),n.setStyle(r.getModel("lineStyle").getLineStyle()),n.hoverStyle=o.getModel("lineStyle").getLineStyle();r=r.get("smooth");r&&!0===r&&(r=.4),n.setShape({smooth:r})},i(po,Gs);function vd(v,y,t,e){var _,x,w=v.getData(),b=[],M=!1;w.each(function(t){var e=w.getItemLayout(t),n=w.getItemModel(t),i=n.getModel("label"),r=i.get("position")||n.get("emphasis.label.position"),o=n.getModel("labelLine"),a=o.get("length"),s=o.get("length2"),l=(e.startAngle+e.endAngle)/2,h=Math.cos(l),u=Math.sin(l);_=e.cx,x=e.cy;var c,d,f,p="inside"===r||"inner"===r,g="center"===r?(c=e.cx,d=e.cy,"center"):(c=(n=(p?(e.r+e.r0)/2*h:e.r*h)+_)+3*h,d=(o=(p?(e.r+e.r0)/2*u:e.r*u)+x)+3*u,p||(c=(g=(f=n+h*(a+y-e.r))+(h<0?-1:1)*s)+(h<0?-5:5),f=[[n,o],[f,d=m=o+u*(a+y-e.r)],[g,m]]),p?"center":0<h?"left":"right"),m=i.getFont(),l=i.get("rotate")?h<0?-l+Math.PI:-l:0,m=Ft(v.getFormattedLabel(t,"normal")||w.getName(t),m,g,"top");M=!!l,e.label={x:c,y:d,position:r,height:m.height,len:a,len2:s,linePoints:f,textAlign:g,verticalAlign:"middle",rotation:l,inside:p},p||b.push(e.label)}),!M&&v.get("avoidLabelOverlap")&&function(t,e,n,i,r){for(var o=[],a=[],s=0;s<t.length;s++)(t[s].x<e?o:a).push(t[s]);for(go(a,e,n,i,1,0,r),go(o,e,n,i,-1,0,r),s=0;s<t.length;s++){var l,h=t[s].linePoints;h&&(l=h[1][0]-h[2][0],h[2][0]=t[s].x<e?t[s].x+3:t[s].x-3,h[1][1]=h[2][1]=t[s].y,h[1][0]=h[2][0]+l)}}(b,_,x,y,e)}var yd,fl=(ir.extend({type:"pie",init:function(){var t=new Gs;this._sectorGroup=t},render:function(t,e,n,i){var r,o,a,s,l,h,u;i&&i.from===this.uid||(r=t.getData(),o=this._data,a=this.group,i=e.get("animation"),s=!o,l=t.get("animationType"),h=f(co,this.uid,t,i,n),u=t.get("selectedMode"),r.diff(o).add(function(t){var e=new po(r,t);s&&"scale"!==l&&e.eachChild(function(t){t.stopAnimation(!0)}),u&&e.on("click",h),r.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){e=o.getItemGraphicEl(e);e.updateData(r,t),e.off("click"),u&&e.on("click",h),a.add(e),r.setItemGraphicEl(t,e)}).remove(function(t){t=o.getItemGraphicEl(t);a.remove(t)}).execute(),i&&s&&0<r.count()&&"scale"!==l&&(e=r.getItemLayout(0),i=Math.max(n.getWidth(),n.getHeight())/2,n=y(a.removeClipPath,a),a.setClipPath(this._createClipPath(e.cx,e.cy,i,e.startAngle,e.clockwise,n,t))),this._data=r)},dispose:function(){},_createClipPath:function(t,e,n,i,r,o,a){n=new $h({shape:{cx:t,cy:e,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return Xn(n,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},a,o),n},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){e=t[0]-n.cx,t=t[1]-n.cy,t=Math.sqrt(e*e+t*t);return t<=n.r&&t>=n.r0}}}),function(n,t){E(t,function(r){r.update="updateView",Wr(r,function(t,e){var i={};return e.eachComponent({mainType:"series",subType:n,query:t},function(e){e[r.method]&&e[r.method](t.name,t.dataIndex);var n=e.getData();n.each(function(t){t=n.getName(t);i[t]=e.isSelected(t)||!1})}),{name:t.name,selected:i}})})}),_d=2*Math.PI,xd=Math.PI/180;fl("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),Xr((yd="pie",{getTargetSeries:function(t){var e={},n=z();return t.eachSeriesByType(yd,function(t){t.__paletteScope=e,n.set(t.uid,t)}),n},reset:function(i){var r=i.getRawData(),o={},a=i.getData();a.each(function(t){var e=a.getRawIndex(t);o[e]=t}),r.each(function(t){var e=o[t],n=null!=e&&a.getItemVisual(e,"color",!0);n?r.setItemVisual(t,"color",n):(n=r.getItemModel(t).get("itemStyle.color")||i.getColorFromPalette(r.getName(t)||t+"",i.__paletteScope,r.count()),r.setItemVisual(t,"color",n),null!=e&&a.setItemVisual(e,"color",n))})}})),Gr(f(function(t,e,C){e.eachSeriesByType(t,function(t){var r=t.getData(),e=r.mapDimension("value"),n=t.get("center"),i=t.get("radius");A(i)||(i=[0,i]),A(n)||(n=[n,n]);var o=C.getWidth(),a=C.getHeight(),s=Math.min(o,a),l=Jn(n[0],o),h=Jn(n[1],a),u=Jn(i[0],s/2),c=Jn(i[1],s/2),d=-t.get("startAngle")*xd,f=t.get("minAngle")*xd,p=0;r.each(e,function(t){isNaN(t)||p++});var g=r.getSum(e),m=Math.PI/(g||p)*2,v=t.get("clockwise"),y=t.get("roseType"),_=t.get("stillShowZeroSum"),x=r.getDataExtent(e);x[0]=0;var w,b=_d,M=0,S=d,T=v?1:-1;r.each(e,function(t,e){var n,i;isNaN(t)?r.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:l,cy:h,r0:u,r:y?NaN:c}):((n="area"!==y?0===g&&_?m:t*m:_d/p)<f?b-=n=f:M+=t,i=S+T*n,r.setItemLayout(e,{angle:n,startAngle:S,endAngle:i,clockwise:v,cx:l,cy:h,r0:u,r:y?Qn(t,x,[u,c]):c}),S=i)}),b<_d&&p&&(b<=.001?(w=_d/p,r.each(e,function(t,e){isNaN(t)||((t=r.getItemLayout(e)).angle=w,t.startAngle=d+T*e*w,t.endAngle=d+T*(e+1)*w)})):(m=b/M,S=d,r.each(e,function(t,e){isNaN(t)||(t=(e=r.getItemLayout(e)).angle===f?f:t*m,e.startAngle=S,e.endAngle=S+T*t,S+=T*t)}))),vd(t,c,0,a)})},"pie")),Vr({seriesType:"pie",reset:function(t,e){var i,r=e.findComponents({mainType:"legend"});r&&r.length&&(i=t.getData()).filterSelf(function(t){for(var e=i.getName(t),n=0;n<r.length;n++)if(!r[n].isSelected(e))return!1;return!0})}}),mo.prototype.parse=function(t){return t},mo.prototype.getSetting=function(t){return this._setting[t]},mo.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},mo.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},mo.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},mo.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},mo.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},mo.prototype.getExtent=function(){return this._extent.slice()},mo.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},mo.prototype.isBlank=function(){return this._isBlank},mo.prototype.setBlank=function(t){this._isBlank=t},mo.prototype.getLabel=null,ze(mo),Ve(mo,{registerWhenExtend:!0}),vo.createByAxisModel=function(t){var e=t.option,t=e.data,t=t&&w(t,_o);return new vo({categories:t,needCollect:!t,deduplication:!1!==e.dedplication})};Ms=vo.prototype;Ms.getOrdinal=function(t){return yo(this).get(t)},Ms.parseAndCollect=function(t){var e=this._needCollect;if("string"!=typeof t&&!e)return t;if(e&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var n,i=yo(this);return null==(n=i.get(t))&&(e?(n=this.categories.length,this.categories[n]=t,i.set(t,n)):n=NaN),n};var wd=mo.prototype,bd=mo.extend({type:"ordinal",init:function(t,e){t&&!A(t)||(t=new vo({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),wd.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return wd.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(wd.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){return this.isBlank()?void 0:this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:S,niceExtent:S});bd.create=function(){return new bd};var Md=ti,Sd=ti,Td=mo.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),Td.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=xo(t)},getTicks:function(){return function(t,e,n,i){var r=[];if(!t)return r;e[0]<n[0]&&r.push(e[0]);for(var o=n[0];o<=n[1]&&(r.push(o),(o=Md(o+t,i))!==r[r.length-1]);)if(1e4<r.length)return[];return e[1]>(r.length?r[r.length-1]:n[1])&&r.push(e[1]),r}(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(t,e){if(null==t)return"";e=e&&e.precision;return null==e?e=ei(t)||0:"auto"===e&&(e=this._intervalPrecision),si(t=Sd(t,e,!0))},niceTicks:function(t,e,n){t=t||5;var i,r=this._extent,o=r[1]-r[0];isFinite(o)&&(o<0&&(o=-o,r.reverse()),i=t,o=e,t=n,e={},r=(n=r)[1]-n[0],i=e.interval=ai(r/i,!0),null!=o&&i<o&&(i=e.interval=o),null!=t&&t<i&&(i=e.interval=t),t=e.intervalPrecision=xo(i),bo(e.niceTickExtent=[Md(Math.ceil(n[0]/i)*i,t),Md(Math.floor(n[1]/i)*i,t)],n),e=e,this._intervalPrecision=e.intervalPrecision,this._interval=e.interval,this._niceExtent=e.niceTickExtent)},niceExtent:function(t){var e=this._extent;e[0]===e[1]&&(0!==e[0]?(n=e[0],t.fixMax||(e[1]+=n/2),e[0]-=n/2):e[1]=1);var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);n=this._interval;t.fixMin||(e[0]=Sd(Math.floor(e[0]/n)*n)),t.fixMax||(e[1]=Sd(Math.ceil(e[1]/n)*n))}});Td.create=function(){return new Td};var Cd="__ec_stack_",Id=("undefined"!=typeof Float32Array||Array,Wl(),Td.prototype),Dd=Math.ceil,kd=Math.floor,vs=36e5,Ad=864e5,Pd=Td.extend({type:"time",getLabel:function(t){var e=this._stepLvl,t=new Date(t);return di(e[0],t,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;e[0]===e[1]&&(e[0]-=Ad,e[1]+=Ad),e[1]===-1/0&&1/0===e[0]&&(n=new Date,e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-Ad),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=ti(kd(e[0]/n)*n)),t.fixMax||(e[1]=ti(Dd(e[1]/n)*n))},niceTicks:function(t,e,n){t=t||10;var i=this._extent,r=i[1]-i[0],o=r/t;null!=e&&o<e&&(o=e),null!=n&&n<o&&(o=n);n=Ld.length,o=function(t,e,n,i){for(;n<i;){var r=n+i>>>1;t[r][1]<e?n=1+r:i=r}return n}(Ld,o,0,n),o=Ld[Math.min(o,n-1)],n=o[1];"year"===o[0]&&(n*=ai(r/n/t,!0));t=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,t=[Math.round(Dd((i[0]-t)/n)*n+t),Math.round(kd((i[1]-t)/n)*n+t)];bo(t,i),this._stepLvl=o,this._interval=n,this._niceExtent=t},parse:function(t){return+ri(t)}});E(["contain","normalize"],function(e){Pd.prototype[e]=function(t){return Id[e].call(this,this.parse(t))}});var Ld=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",vs],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",6*vs],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",Ad],["MM-dd\nyyyy",2*Ad],["MM-dd\nyyyy",3*Ad],["MM-dd\nyyyy",4*Ad],["MM-dd\nyyyy",5*Ad],["MM-dd\nyyyy",6*Ad],["week",7*Ad],["MM-dd\nyyyy",864e6],["week",14*Ad],["week",21*Ad],["month",31*Ad],["week",42*Ad],["month",62*Ad],["week",42*Ad],["quarter",8208e6],["month",31*Ad*4],["month",13392e6],["half-year",16416e6],["month",31*Ad*8],["month",26784e6],["year",380*Ad]];Pd.create=function(t){return new Pd({useUTC:t.ecModel.get("useUTC")})};var Od=mo.prototype,Bd=Td.prototype,Ed=ei,Rd=ti,zd=Math.floor,Nd=Math.ceil,Fd=Math.pow,Hd=Math.log,Vd=mo.extend({type:"log",base:10,$constructor:function(){mo.apply(this,arguments),this._originalScale=new Td},getTicks:function(){var n=this._originalScale,i=this._extent,r=n.getExtent();return w(Bd.getTicks.call(this),function(t){var e=ti(Fd(this.base,t)),e=t===i[0]&&n.__fixMin?ko(e,r[0]):e;return t===i[1]&&n.__fixMax?ko(e,r[1]):e},this)},getLabel:Bd.getLabel,scale:function(t){return t=Od.scale.call(this,t),Fd(this.base,t)},setExtent:function(t,e){var n=this.base;t=Hd(t)/Hd(n),e=Hd(e)/Hd(n),Bd.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=Od.getExtent.call(this);e[0]=Fd(t,e[0]),e[1]=Fd(t,e[1]);var n=this._originalScale,t=n.getExtent();return n.__fixMin&&(e[0]=ko(e[0],t[0])),n.__fixMax&&(e[1]=ko(e[1],t[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Hd(t[0])/Hd(e),t[1]=Hd(t[1])/Hd(e),Od.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e,n=this._extent,i=n[1]-n[0];if(!(1/0==i||i<=0)){var r=(e=i,Math.pow(10,oi(e)));for(t/i*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&0<Math.abs(r);)r*=10;n=[ti(Nd(n[0]/r)*r),ti(zd(n[1]/r)*r)];this._interval=r,this._niceExtent=n}},niceExtent:function(t){Bd.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});E(["contain","normalize"],function(e){Vd.prototype[e]=function(t){return t=Hd(t)/Hd(this.base),Od[e].call(this,t)}}),Vd.create=function(){return new Vd};function Wd(t){this._axes={},this._dimList=[],this.name=t||""}Wd.prototype={constructor:Wd,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return w(this._dimList,Eo,this)},getAxesByScale:function(e){return e=e.toLowerCase(),h(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},r=0;r<n.length;r++){var o=n[r],a=this._axes[o];i[o]=a[e](t[o])}return i}},Ro.prototype={constructor:Ro,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,n){var i=this.getAxis("x"),r=this.getAxis("y");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(t[0])),n[1]=r.toGlobalCoord(r.dataToCoord(t[1])),n},clampData:function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),n=n.parse(t[0]),t=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),n),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),t),Math.max(o[0],o[1])),e},pointToData:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return(e=e||[])[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},i(Ro,Wd);function Gd(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1}var Xd=Le(),Yd=[0,1];Gd.prototype={constructor:Gd,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),e=Math.max(e[0],e[1]);return n<=t&&t<=e},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return e=t||this.scale.getExtent(),n=this._extent,i=Math.log,t=Math.LN10,e=Math.floor(i(e[1]-e[0])/t),t=Math.round(i(Math.abs(n[1]-n[0]))/t),t=Math.min(Math.max(-e+t,0),20),isFinite(t)?t:20;var e,n,i},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&qo(n=n.slice(),i.count()),Qn(t,Yd,n,e)},coordToData:function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&qo(n=n.slice(),i.count());e=Qn(t,n,Yd,e);return this.scale.scale(e)},pointToData:function(){},getTicksCoords:function(t){var e,n,i,r,o=(t=t||{}).tickModel||this.getTickModel(),a=No(this,o),s=w(a.ticks,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this),l=o.get("alignWithLabel");return e=this,o=s,a.tickCategoryInterval,a=l,l=t.clamp,t=o.length,e.onBand&&!a&&t&&(e=e.getExtent(),1===t?(o[0].coord=e[0],n=o[1]={coord:e[0]}):(i=o[1].coord-o[0].coord,E(o,function(t){t.coord-=i/2}),n={coord:o[t-1].coord+i},o.push(n)),r=e[0]>e[1],h(o[0].coord,e[0])&&(l?o[0].coord=e[0]:o.shift()),l&&h(e[0],o[0].coord)&&o.unshift({coord:e[0]}),h(e[1],n.coord)&&(l?n.coord=e[1]:o.pop()),l&&h(n.coord,e[1])&&o.push({coord:e[1]})),s;function h(t,e){return r?e<t:t<e}},getViewLabels:function(){return zo(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),e=e[1]-e[0]+(this.onBand?1:0);0===e&&(e=1);t=Math.abs(t[1]-t[0]);return Math.abs(t)/e},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(t){var e=(l=(o=t).getLabelModel(),{axisRotate:o.getRotate?o.getRotate():o.isHorizontal&&!o.isHorizontal()?90:0,labelRotate:l.get("rotate")||0,font:l.getFont()}),n=Lo(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=(h=t.scale).getExtent(),o=h.count();if(r[1]-r[0]<1)return 0;var a=1;40<o&&(a=Math.max(1,Math.floor(o/40)));for(var s=r[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),h=Math.abs(l*Math.cos(i)),l=Math.abs(l*Math.sin(i)),u=0,c=0;s<=r[1];s+=a)var d=Ft(n(s),e.font,"center","top"),f=1.3*d.width,d=1.3*d.height,u=Math.max(u,f,7),c=Math.max(c,d,7);return i=u/h,h=c/l,isNaN(i)&&(i=1/0),isNaN(h)&&(h=1/0),l=Math.max(0,Math.floor(Math.min(i,h))),i=Xd(t.model),h=i.lastAutoInterval,t=i.lastTickCount,null!=h&&null!=t&&Math.abs(h-l)<=1&&Math.abs(t-o)<=1&&l<h?l=h:(i.lastTickCount=o,i.lastAutoInterval=l),l}(this)}};function qd(t,e,n,i,r){Gd.call(this,t,e,n),this.type=i||"value",this.position=r||"bottom"}qd.prototype={constructor:qd,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},i(qd,Gd);var fl={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Ud={};Ud.categoryAxis=s({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},fl),Ud.valueAxis=s({boundaryGap:[0,0],splitNumber:5},fl),Ud.timeAxis=k({scale:!0,min:"dataMin",max:"dataMax"},Ud.valueAxis),Ud.logAxis=k({scale:!0,logBase:10},Ud.valueAxis);var jd=["value","category","time","log"],Ms=function(o,t,a,e){E(jd,function(r){t.extend({type:o+"Axis."+r,mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?mi(t):{};s(t,e.getTheme().get(r+"Axis")),s(t,this.getDefaultOption()),t.type=a(o,t),n&&gi(t,i,n)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=vo.createByAxisModel(this))},getCategories:function(t){var e=this.option;return"category"===e.type?t?e.data:this.__ordinalMeta.categories:void 0},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:function(t,e){for(var n=t[0],i=1,r=t.length;i<r;i++)n=s(n,t[i],e);return n}([{},Ud[r+"Axis"],e],!0)})}),Iu.registerSubTypeDefaulter(o+"Axis",f(a,o))},Wl={getMin:function(t){var e=this.option,e=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=e&&"dataMin"!==e&&"function"!=typeof e&&!v(e)&&(e=this.axis.scale.parse(e)),e},getMax:function(t){var e=this.option,e=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=e&&"dataMax"!==e&&"function"!=typeof e&&!v(e)&&(e=this.axis.scale.parse(e)),e},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:S,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Zd=Iu.extend({type:"cartesian2dAxis",axis:null,init:function(){Zd.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Zd.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Zd.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});s(Zd.prototype,Wl);vs={offset:0};Ms("x",Zd,Uo,vs),Ms("y",Zd,Uo,vs),Iu.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});fl=Zo.prototype;fl.type="grid",fl.axisPointerEnabled=!0,fl.getRect=function(){return this._rect},fl.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),E(n.x,function(t){Po(t.scale,t.model)}),E(n.y,function(t){Po(t.scale,t.model)}),E(n.x,function(t){$o(n,"y",t)}),E(n.y,function(t){$o(n,"x",t)}),this.resize(this.model,e)},fl.resize=function(t,e,n){function i(){E(r,function(t){var e,n,i=t.isHorizontal(),r=i?[0,a.width]:[0,a.height],o=t.inverse?1:0;t.setExtent(r[o],r[1-o]),t=t,e=i?a.x:a.y,i=t.getExtent(),n=i[0]+i[1],t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}})}var a=pi(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=a;var r=this._axesList;i(),!n&&t.get("containLabel")&&(E(r,function(t){var e,n,i;t.model.get("axisLabel.inside")||(e=Bo(t))&&(n=t.isHorizontal()?"height":"width",i=t.model.get("axisLabel.margin"),a[n]-=e[n]+i,"top"===t.position?a.y+=e.height+i:"left"===t.position&&(a.x+=e.width+i))}),i())},fl.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[e]}},fl.getAxes=function(){return this._axesList.slice()},fl.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}O(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},fl.getCartesians=function(){return this._coordsList.slice()},fl.convertToPixel=function(t,e,n){e=this._findConvertTarget(t,e);return e.cartesian?e.cartesian.dataToPoint(n):e.axis?e.axis.toGlobalCoord(e.axis.dataToCoord(n)):null},fl.convertFromPixel=function(t,e,n){e=this._findConvertTarget(t,e);return e.cartesian?e.cartesian.pointToData(n):e.axis?e.axis.coordToData(e.axis.toLocalCoord(n)):null},fl._findConvertTarget=function(t,e){var n,i,r=e.seriesModel,o=e.xAxisModel||r&&r.getReferringComponents("xAxis")[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis")[0],s=e.gridModel,e=this._coordsList;return r?d(e,n=r.coordinateSystem)<0&&(n=null):o&&a?n=this.getCartesian(o.componentIndex,a.componentIndex):o?i=this.getAxis("x",o.componentIndex):a?i=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:i}},fl.containPoint=function(t){var e=this._coordsList[0];return e?e.containPoint(t):void 0},fl._initCartesian=function(o,t){function e(r){return function(t,e){var n,i;jo(t,o)&&(i=t.get("position"),"x"===r?"top"===i||"bottom"===i||a[i="bottom"]&&(i="top"===i?"bottom":"top"):"left"===i||"right"===i||a[i="left"]&&(i="left"===i?"right":"left"),a[i]=!0,i="category"===(n=new qd(r,function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new bd(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new Td;default:return(mo.getClass(e)||Td).create(t)}}(t),[0,0],t.get("type"),i)).type,n.onBand=i&&t.get("boundaryGap"),n.inverse=t.get("inverse"),(t.axis=n).model=t,n.grid=this,n.index=e,this._axesList.push(n),s[r][e]=n,l[r]++)}}var a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};return t.eachComponent("xAxis",e("x"),this),t.eachComponent("yAxis",e("y"),this),l.x&&l.y?void E((this._axesMap=s).x,function(i,r){E(s.y,function(t,e){var n="x"+r+"y"+e,e=new Ro(n);e.grid=this,e.model=o,this._coordsMap[n]=e,this._coordsList.push(e),e.addAxis(i),e.addAxis(t)},this)},this):(this._axesMap={},void(this._axesList=[]))},fl._updateScale=function(t,i){function r(r,o){E(r.mapDimension(o.dim,!0),function(t){var e,n,i;o.scale.unionExtentFromData(r,(i=e=r,(t=n=t)&&t===i.getCalculationInfo("stackedDimension")?e.getCalculationInfo("stackResultDimension"):n))})}E(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(t){if(Jo(t)){var e=Qo(t),n=e[0],e=e[1];if(!jo(n,i)||!jo(e,i))return;n=this.getCartesian(n.componentIndex,e.componentIndex),e=t.getData(),t=n.getAxis("x"),n=n.getAxis("y");"list"===e.type&&(r(e,t),r(e,n))}},this)},fl.getTooltipAxes=function(n){var i=[],r=[];return E(this.getCartesians(),function(t){var e=null!=n&&"auto"!==n?t.getAxis(n):t.getBaseAxis(),t=t.getOtherAxis(e);d(i,e)<0&&i.push(e),d(r,t)<0&&r.push(t)}),{baseAxes:i,otherAxes:r}};var $d=["xAxis","yAxis"];Zo.create=function(i,r){var o=[];return i.eachComponent("grid",function(t,e){var n=new Zo(t,i,r);n.name="grid_"+e,n.resize(t,r,!0),t.coordinateSystem=n,o.push(n)}),i.eachSeries(function(t){var e,n,i;Jo(t)&&(e=(i=Qo(t))[0],n=i[1],i=e.getCoordSysModel().coordinateSystem,t.coordinateSystem=i.getCartesian(e.componentIndex,n.componentIndex))}),o},Zo.dimensions=Zo.prototype.dimensions=Ro.prototype.dimensions,Ii.register("cartesian2d",Zo);var Wl=gn({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,e=e.height/2;t.moveTo(n,i-e),t.lineTo(n+r,i+e),t.lineTo(n-r,i+e),t.closePath()}}),Ms=gn({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,e=e.height/2;t.moveTo(n,i-e),t.lineTo(n+r,i),t.lineTo(n,i+e),t.lineTo(n-r,i),t.closePath()}}),vs=gn({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,h=Math.asin(s/a),u=Math.cos(h)*a,c=Math.sin(h),e=Math.cos(h),r=.6*a,o=.7*a;t.moveTo(n-u,l+s),t.arc(n,l,a,Math.PI-h,2*Math.PI+h),t.bezierCurveTo(n+u-c*r,l+s+e*r,n,i-o,n,i),t.bezierCurveTo(n,i-o,n-u+c*r,l+s+e*r,n-u,l+s),t.closePath()}}),fl=gn({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,e=e.y,i=i/3*2;t.moveTo(r,e),t.lineTo(r+i,e+n),t.lineTo(r,e+n/4*3),t.lineTo(r-i,e+n),t.lineTo(r,e),t.closePath()}}),Kd={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){i=Math.min(n,i);r.x=t,r.y=e,r.width=i,r.height=i},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},Qd={};E({line:Jh,rect:Qh,roundRect:Qh,square:Qh,circle:ws,diamond:Ms,pin:vs,arrow:fl,triangle:Wl},function(t,e){Qd[e]=new t});function Jd(t,e){this.opt=e,this.axisModel=t,k(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Gs,(e=new Gs({position:e.position.slice(),rotation:e.rotation})).updateTransform(),this._transform=e.transform,this._dumbGroup=e}var tf=gn({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var i=e.symbolType,r=Qd[i];"none"!==e.symbolType&&(r||(r=Qd[i="rect"]),Kd[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n))}}),ef=Math.PI;Jd.prototype={constructor:Jd,hasBuilder:function(t){return!!nf[t]},add:function(t){nf[t].call(this)},getGroup:function(){return this.group}};var nf={axisLine:function(){var h,t,u,c,e,d,f,p=this.opt,n=this.axisModel;n.get("axisLine.show")&&(t=this.axisModel.axis.getExtent(),e=this._transform,h=[t[0],0],t=[t[1],0],e&&(W(h,h,e),W(t,t,e)),u=D({lineCap:"round"},n.getModel("axisLine.lineStyle").getLineStyle()),this.group.add(new Jh(xn({anid:"line",shape:{x1:h[0],y1:h[1],x2:t[0],y2:t[1]},style:u,strokeContainThreshold:p.strokeContainThreshold||5,silent:!0,z2:1}))),c=n.get("axisLine.symbol"),e=n.get("axisLine.symbolSize"),"number"==typeof(n=n.get("axisLine.symbolOffset")||0)&&(n=[n,n]),null!=c&&("string"==typeof c&&(c=[c,c]),"string"!=typeof e&&"number"!=typeof e||(e=[e,e]),d=e[0],f=e[1],E([{rotate:p.rotation+Math.PI/2,offset:n[0],r:0},{rotate:p.rotation-Math.PI/2,offset:n[1],r:Math.sqrt((h[0]-t[0])*(h[0]-t[0])+(h[1]-t[1])*(h[1]-t[1]))}],function(t,e){var n,i,r,o,a,s,l;"none"!==c[e]&&null!=c[e]&&(n=c[e],i=-d/2,r=-f/2,o=d,a=f,s=u.stroke,l=!0,(e=0===n.indexOf("empty"))&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(a=0===n.indexOf("image://")?vn(n.slice(8),new Mt(i,r,o,a),l?"center":"cover"):0===n.indexOf("path://")?mn(n.slice(7),{},new Mt(i,r,o,a),l?"center":"cover"):new tf({shape:{symbolType:n,x:i,y:r,width:o,height:a}})).__isEmptyBrush=e,a.setColor=ta,a.setColor(s),s=a,a=t.r+t.offset,a=[h[0]+a*Math.cos(p.rotation),h[1]-a*Math.sin(p.rotation)],s.attr({rotation:t.rotate,position:a,silent:!0}),this.group.add(s))},this)))},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=function(t,e,n){var i=e.axis;if(e.get("axisTick.show")&&!i.scale.isBlank()){for(var r=e.getModel("axisTick"),o=r.getModel("lineStyle"),a=r.get("length"),s=i.getTicksCoords(),l=[],h=[],u=t._transform,c=[],d=0;d<s.length;d++){var f=s[d].coord;l[0]=f,h[l[1]=0]=f,h[1]=n.tickDirection*a,u&&(W(l,l,u),W(h,h,u));f=new Jh(xn({anid:"tick_"+s[d].tickValue,shape:{x1:l[0],y1:l[1],x2:h[0],y2:h[1]},style:k(o.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(f),c.push(f)}return c}}(this,t,e);!function(t,e,n){var i=t.get("axisLabel.showMinLabel"),r=t.get("axisLabel.showMaxLabel");n=n||[];var o=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],h=n[0],t=n[1],e=n[n.length-1],n=n[n.length-2];!1===i?(ia(o),ia(h)):ra(o,a)&&(i?(ia(a),ia(t)):(ia(o),ia(h))),!1===r?(ia(s),ia(e)):ra(l,s)&&(r?(ia(l),ia(n)):(ia(s),ia(e)))}(t,function(s,l,h){var u=l.axis;if(_(h.axisLabelShow,l.get("axisLabel.show"))&&!u.scale.isBlank()){var c=l.getModel("axisLabel"),d=c.get("margin"),t=u.getViewLabels(),e=(_(h.labelRotate,c.get("rotate"))||0)*ef/180,f=rf(h.rotation,e,h.labelDirection),p=l.getCategories(!0),g=[],m=na(l),v=l.get("triggerEvent");return E(t,function(t,e){var n=t.tickValue,i=t.formattedLabel,r=t.rawLabel,o=c;p&&p[n]&&p[n].textStyle&&(o=new jn(p[n].textStyle,c,l.ecModel));var a=o.getTextColor()||l.get("axisLine.lineStyle.color"),t=[u.dataToCoord(n),h.labelOffset+h.labelDirection*d],t=new Bh({anid:"label_"+n,position:t,rotation:f.rotation,silent:m,z2:10});Rn(t.style,o,{text:i,textAlign:o.getShallow("align",!0)||f.textAlign,textVerticalAlign:o.getShallow("verticalAlign",!0)||o.getShallow("baseline",!0)||f.textVerticalAlign,textFill:"function"==typeof a?a("category"===u.type?r:"value"===u.type?n+"":n,e):a}),v&&(t.eventData=ea(l),t.eventData.targetType="axisLabel",t.eventData.value=r),s._dumbGroup.add(t),t.updateTransform(),g.push(t),s.group.add(t),t.decomposeTransform()}),g}}(this,t,e),n)},axisName:function(){var t,e,n,i,r,o,a,s,l,h,u,c=this.opt,d=this.axisModel,f=_(c.axisName,d.get("name"));f&&(e=d.get("nameLocation"),n=c.nameDirection,i=d.getModel("nameTextStyle"),a=d.get("nameGap")||0,o=(r=this.axisModel.axis.getExtent())[0]>r[1]?-1:1,o=["start"===e?r[0]-o*a:"end"===e?r[1]+o*a:(r[0]+r[1])/2,oa(e)?c.labelOffset+n*a:0],null!=(a=d.get("nameRotate"))&&(a=a*ef/180),oa(e)?t=rf(c.rotation,null!=a?a:c.rotation,n):(l=e,h=r,s=ni((a||0)-(s=c).rotation),h=h[0]>h[1],h="start"===l&&!h||"start"!==l&&h,h=ii(s-ef/2)?(u=h?"bottom":"top","center"):ii(s-1.5*ef)?(u=h?"top":"bottom","center"):(u="middle",s<1.5*ef&&ef/2<s?h?"left":"right":h?"right":"left"),t={rotation:s,textAlign:h,textVerticalAlign:u},null!=(l=c.axisNameAvailableWidth)&&(l=Math.abs(l/Math.sin(t.rotation)),isFinite(l)||(l=null))),s=i.getFont(),u=(h=d.get("nameTruncate",!0)||{}).ellipsis,c=_(c.nameTruncateMaxWidth,h.maxWidth,l),l=null!=u&&null!=c?bu(f,c,s,u,{minChar:2,placeholder:h.placeholder}):f,c=d.get("tooltip",!0),(h={componentType:u=d.mainType,name:f,$vars:["name"]})[u+"Index"]=d.componentIndex,Rn((c=new Bh({anid:"name",__fullText:f,__truncatedText:l,position:o,rotation:t.rotation,silent:na(d),z2:1,tooltip:c&&c.show?D({content:f,formatter:function(){return f},formatterParams:h},c):null})).style,i,{text:l,textFont:s,textFill:i.getTextColor()||d.get("axisLine.lineStyle.color"),textAlign:t.textAlign,textVerticalAlign:t.textVerticalAlign}),d.get("triggerEvent")&&(c.eventData=ea(d),c.eventData.targetType="axisName",c.eventData.name=f),this._dumbGroup.add(c),c.updateTransform(),this.group.add(c),c.decomposeTransform())}},rf=Jd.innerTextLayout=function(t,e,n){var i,t=ni(e-t),n=ii(t)?(i=0<n?"top":"bottom","center"):ii(t-ef)?(i=0<n?"bottom":"top","center"):(i="middle",0<t&&t<ef?0<n?"right":"left":0<n?"left":"right");return{rotation:t,textAlign:n,textVerticalAlign:i}},of=E,af=f,sf=jr({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,i){var r,o,a,s,l,h;this.axisPointerClass&&(h=la(r=t))&&(s=h.axisPointerModel,l=h.axis.scale,o=s.option,a=s.get("status"),null!=(r=s.get("value"))&&(r=l.parse(r)),s=ha(s),null==a&&(o.status=s?"show":"hide"),(l=l.getExtent().slice())[0]>l[1]&&l.reverse(),(null==r||r>l[1])&&(r=l[1]),r<l[0]&&(r=l[0]),o.value=r,s&&(o.status=h.axis.scale.isBlank()?"hide":"show")),sf.superApply(this,"render",arguments),ca(this,t,0,n,0,!0)},updateAxisPointer:function(t,e,n,i){ca(this,t,0,n,0,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),sf.superApply(this,"remove",arguments)},dispose:function(t,e){da(this,e),sf.superApply(this,"dispose",arguments)}}),lf=[];sf.registerAxisPointerClass=function(t,e){lf[t]=e},sf.getAxisPointerClass=function(t){return t&&lf[t]};var hf=["axisLine","axisTickLabel","axisName"],uf=["splitArea","splitLine"],cf=sf.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,i){this.group.removeAll();var r,o,a=this._axisGroup;this._axisGroup=new Gs,this.group.add(this._axisGroup),e.get("show")&&(o=fa(r=e.getCoordSysModel(),e),o=new Jd(e,o),E(hf,o.add,o),this._axisGroup.add(o.getGroup()),E(uf,function(t){e.get(t+".show")&&this["_"+t](e,r)},this),qn(a,this._axisGroup,e),cf.superCall(this,"render",e,t,n,i))},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank())for(var i=t.getModel("splitLine"),t=i.getModel("lineStyle"),r=A(r=t.get("color"))?r:[r],o=e.coordinateSystem.getRect(),a=n.isHorizontal(),s=0,l=n.getTicksCoords({tickModel:i}),h=[],u=[],c=t.getLineStyle(),d=0;d<l.length;d++){var f=n.toGlobalCoord(l[d].coord);a?(h[0]=f,h[1]=o.y,u[0]=f,u[1]=o.y+o.height):(h[0]=o.x,h[1]=f,u[0]=o.x+o.width,u[1]=f);var p=s++%r.length,f=l[d].tickValue;this._axisGroup.add(new Jh(xn({anid:null!=f?"line_"+l[d].tickValue:null,shape:{x1:h[0],y1:h[1],x2:u[0],y2:u[1]},style:k({stroke:r[p]},c),silent:!0})))}},_splitArea:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var i=t.getModel("splitArea"),t=i.getModel("areaStyle"),r=t.get("color"),o=e.coordinateSystem.getRect(),a=n.getTicksCoords({tickModel:i,clamp:!0});if(a.length){var s=r.length,l=this._splitAreaColors,h=z(),u=0;if(l)for(var c=0;c<a.length;c++){var d=l.get(a[c].tickValue);if(null!=d){u=(d+(s-1)*c)%s;break}}for(var f=n.toGlobalCoord(a[0].coord),p=t.getAreaStyle(),r=A(r)?r:[r],c=1;c<a.length;c++){var g,m,v,y,_=n.toGlobalCoord(a[c].coord),f=n.isHorizontal()?(g=f,m=o.y,v=_-g,y=o.height,g+v):(g=o.x,m=f,v=o.width,m+(y=_-m)),_=a[c-1].tickValue;null!=_&&h.set(_,u),this._axisGroup.add(new Qh({anid:null!=_?"area_"+_:null,shape:{x:g,y:m,width:v,height:y},style:k({fill:r[u]},p),silent:!0})),u=(u+1)%s}this._splitAreaColors=h}}}});cf.extend({type:"xAxis"}),cf.extend({type:"yAxis"}),jr({type:"grid",render:function(t){this.group.removeAll(),t.get("show")&&this.group.add(new Qh({shape:t.coordinateSystem.getRect(),style:k({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),Hr(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})});function df(t,e){var n,i=[],r=t.seriesIndex;if(null==r||!(n=e.getSeriesByIndex(r)))return{point:[]};var o=n.getData();return null==(e=Pe(o,t))||e<0||A(e)?{point:[]}:(r=o.getItemGraphicEl(e),t=n.coordinateSystem,n.getTooltipPosition?i=n.getTooltipPosition(e)||[]:t&&t.dataToPoint?i=t.dataToPoint(o.getValues(w(t.dimensions,function(t){return o.mapDimension(t)}),e,!0))||[]:r&&((e=r.getBoundingRect().clone()).applyTransform(r.transform),i=[e.x+e.width/2,e.y+e.height/2]),{point:i,el:r})}var ff=E,pf=f,gf=Le(),mf=(Ur({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),Le()),vf=E,yf=jr({type:"axisPointer",render:function(t,e,n){var e=e.getComponent("tooltip"),i=t.get("triggerOn")||e&&e.get("triggerOn")||"mousemove|click";_a("axisPointer",n,function(t,e,n){"none"!==i&&("leave"===t||0<=i.indexOf(t))&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){ba(e.getZr(),"axisPointer"),yf.superApply(this._model,"remove",arguments)},dispose:function(t,e){ba("axisPointer",e),yf.superApply(this._model,"dispose",arguments)}}),_f=Le(),xf=I,wf=y;ze((Ma.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,i){var r=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,i=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(i&&i.hide());a&&a.show(),i&&i.show();o={};this.makeElOption(o,r,t,e,n);i=o.graphicKey;i!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=i;i=this._moveAnimation=this.determineAnimation(t,e);a?(i=f(Sa,e,i),this.updatePointerEl(a,o,i,e),this.updateLabelEl(a,o,i,e)):(a=this._group=new Gs,this.createPointerEl(a,o,t,e),this.createLabelEl(a,o,t,e),n.getZr().add(a)),Ia(a,e,!0),this._renderHandle(r)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),i=t.axis,r="category"===i.type,e=e.get("snap");if(!e&&!r)return!1;if("auto"!==n&&null!=n)return!0===n;n=this.animationThreshold;if(r&&i.getBandWidth()>n)return!0;if(e){t=la(t).seriesDataCount,i=i.getExtent();return Math.abs(i[0]-i[1])/t>n}return!1},makeElOption:function(){},createPointerEl:function(t,e){var n=e.pointer;n&&(e=_f(t).pointerEl=new su[n.type](xf(e.pointer)),t.add(e))},createLabelEl:function(t,e,n,i){e.label&&(e=_f(t).labelEl=new Qh(xf(e.label)),t.add(e),Ta(e,i))},updatePointerEl:function(t,e,n){t=_f(t).pointerEl;t&&(t.setStyle(e.pointer.style),n(t,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,i){t=_f(t).labelEl;t&&(t.setStyle(e.label.style),n(t,{shape:e.label.shape,position:e.label.position}),Ta(t,i))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=Un(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){wl(t.event)},onmousedown:wf(this._onHandleDragMove,this,0,0),drift:wf(this._onHandleDragMove,this),ondragend:wf(this._onHandleDragEnd,this)}),i.add(r)),Ia(r,n,!1);r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));n=o.get("size");A(n)||(n=[n,n]),r.attr("scale",[n[0]/2,n[1]/2]),function(t,e,n,i){var r=t[e];if(r){var o=r[Sc]||r,a=r[Cc];if(r[Tc]!==n||a!==i){if(null==n||!i)return t[e]=o;(r=t[e]=lr(o,n,"debounce"===i))[Sc]=o,r[Cc]=i,r[Tc]=n}}}(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){Sa(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Ca(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;n&&(this._dragging=!0,e=this.updateHandleTransform(Ca(n),[t,e],this._axisModel,this._axisPointerModel),this._payloadInfo=e,n.stopAnimation(),n.attr(Ca(e)),_f(n).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){var t,e;this._handle&&(t=this._payloadInfo,e=this._axisModel,this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]}))},_onHandleDragEnd:function(){var t;this._dragging=!1,this._handle&&(t=this._axisPointerModel.get("value"),this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,t=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),t&&e.remove(t),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}}).constructor=Ma);var Wl=Ma.extend({makeElOption:function(t,e,n,i,r){var o,a,s=n.axis,l=s.grid,h=i.get("type"),u=Pa(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(e,!0));h&&"none"!==h&&(a=(o=i).get("type"),o=o.getModel(a+"Style"),"line"===a?(d=o.getLineStyle()).fill=null:"shadow"===a&&((d=o.getAreaStyle()).stroke=null),o=d,(d=bf[h](s,c,u,o)).style=o,t.graphicKey=d.type,t.pointer=d);var d=fa(l.model,n);l=e,e=t,t=n,n=i,i=r,d=Jd.innerTextLayout((r=d).rotation,0,r.labelDirection),r.labelMargin=n.get("label.margin"),Da(e,t,n,i,{position:Aa(t.axis,l,r),align:d.textAlign,verticalAlign:d.textVerticalAlign})},getHandleTransform:function(t,e,n){var i=fa(e.axis.grid.model,e,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:Aa(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n){var i=n.axis,r=i.grid,o=i.getGlobalExtent(!0),n=Pa(r,i).getOtherAxis(i).getGlobalExtent(),r="x"===i.dim?0:1,i=t.position;i[r]+=e[r],i[r]=Math.min(o[1],i[r]),i[r]=Math.max(o[0],i[r]);n=(n[1]+n[0])/2,n=[n,n];n[r]=i[r];return{position:i,rotation:t.rotation,cursorPoint:n,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][r]}}}),bf={line:function(t,e,n,i){var r,t=(r=[e,n[0]],n=[e,n[1]],t=La(t),{x1:r[t=t||0],y1:r[1-t],x2:n[t],y2:n[1-t]});return xn({shape:t,style:i}),{type:"Line",shape:t}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:(n=[e-i/2,n[0]],r=[i,r],t=La(t),{x:n[t=t||0],y:n[1-t],width:r[t],height:r[1-t]})}}};sf.registerAxisPointerClass("CartesianAxisPointer",Wl),Hr(function(t){var e;t&&(t.axisPointer&&0!==t.axisPointer.length||(t.axisPointer={}),(e=t.axisPointer.link)&&!A(e)&&(t.axisPointer.link=[e]))}),Vr(Ka.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=aa(t,e)}),Wr({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,n){var i,r,o=t.currTrigger,a=[t.x,t.y],s=t,l=t.dispatchAction||y(n.dispatchAction,n),h=e.getComponent("axisPointer").coordSysAxesInfo;if(h){ya(a)&&(a=df({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},e).point);var u=ya(a),c=s.axesInfo,d=h.axesInfo,f="leave"===o||ya(a),p={},g={},s={list:[],map:{}},m={showPointer:pf(ga,g),showTooltip:pf(ma,s)};ff(h.coordSysMap,function(t,e){var i=u||t.containPoint(a);ff(h.coordSysAxesInfo[e],function(t){var e=t.axis,n=function(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(c,t);f||!i||c&&!n||(null!=(n=n&&n.value)||u||(n=e.pointToData(a)),null!=n&&pa(t,n,m,!1,p))})});var v={};return ff(d,function(n,t){var i=n.linkGroup;i&&!g[t]&&ff(i.axesInfo,function(t,e){e=g[e];t!==n&&e&&(e=e.value,i.mapper&&(e=n.axis.scale.parse(i.mapper(e,va(t),va(n)))),v[n.key]=e)})}),ff(v,function(t,e){pa(d[e],t,m,!0,p)}),i=g,o=d,r=p.axesInfo=[],ff(o,function(t,e){var n=t.axisPointerModel.option,e=i[e];e?(t.useHandle||(n.status="show"),n.value=e.value,n.seriesDataIndices=(e.payloadBatch||[]).slice()):t.useHandle||(n.status="hide"),"show"===n.status&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:n.value})}),function(t,e,n,i){if(ya(e)||!t.list.length)return i({type:"hideTip"});var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}(s,a,t,l),function(t,e){var n=e.getZr(),i="axisPointerLastHighlights",r=gf(n)[i]||{},o=gf(n)[i]={};ff(t,function(t){t=t.axisPointerModel.option;"show"===t.status&&ff(t.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t})});var a=[],s=[];E(r,function(t,e){o[e]||s.push(t)}),E(o,function(t,e){r[e]||a.push(t)}),s.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),a.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,batch:a})}(d,n),p}}),Ur({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var Mf=E,Sf=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},Tf=["","-webkit-","-moz-","-o-"];Ba.prototype={constructor:Ba,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),t=t.style;"absolute"!==t.position&&"absolute"!==e.position&&(t.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+Oa(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n=this._zr;n&&n.painter&&(i=n.painter.getViewportRootOffset())&&(t+=i.offsetLeft,e+=i.offsetTop);var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(y(this.hide,this),t)):this.hide())},isShow:function(){return this._show}};var Cf=y,If=E,Df=Jn,kf=new Qh({shape:{x:-1,y:-1,width:2,height:2}});jr({type:"tooltip",init:function(t,e){Ua.node||(e=new Ba(e.getDom(),e),this._tooltipContent=e)},render:function(t,e,n){Ua.node||Ua.wxa||(this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent"),(n=this._tooltipContent).update(),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var i=this._tooltipModel.get("triggerOn");_a("itemTooltip",this._api,Cf(function(t,e,n){"none"!==i&&(0<=i.indexOf(t)?this._tryShow(e,n):"leave"===t&&this._hide(n))},this))},_keepShow:function(){var t,e=this._tooltipModel,n=this._ecModel,i=this._api;null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")&&(t=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){t.manuallyShowTip(e,n,i,{x:t._lastX,y:t._lastY})}))},manuallyShowTip:function(t,e,n,i){if(i.from!==this.uid&&!Ua.node){var r=Ra(i,n);this._ticket="";var o=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var a=kf;a.position=[i.x,i.y],a.update(),a.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:a},r)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,event:{},dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;o=df(i,e),t=o.point[0],e=o.point[1];null!=t&&null!=e&&this._tryShow({offsetX:t,offsetY:e,position:i.position,target:o.el,event:{}},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target,event:{}},r))}},manuallyHideTip:function(t,e,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(Ra(i,n))},_manuallyAxisShowTip:function(t,e,n,i){var r=i.seriesIndex,o=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){e=e.getSeriesByIndex(r);if(e)if("axis"===(t=Ea([e.getData().getItemModel(o),e,(e.coordinateSystem||{}).model,t])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},_tryShow:function(t,e){var n,i=t.target;this._tooltipModel&&(this._lastX=t.offsetX,this._lastY=t.offsetY,(n=t.dataByCoordSys)&&n.length?this._showAxisTooltip(n,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e)))},_showOrMove:function(t,e){t=t.get("showDelay");e=y(e,this),clearTimeout(this._showTimout),0<t?this._showTimout=setTimeout(e,t):e()},_showAxisTooltip:function(t,e){var l=this._ecModel,n=this._tooltipModel,i=[e.offsetX,e.offsetY],h=[],u=[],r=Ea([e.tooltipOption,n]);If(t,function(t){If(t.dataByAxis,function(i){var r,o=l.getComponent(i.axisDim+"Axis",i.axisIndex),a=i.value,s=[];o&&null!=a&&(r=ka(a,o.axis,l,i.seriesDataIndices,i.valueLabelOpt),E(i.seriesDataIndices,function(t){var e=l.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,t=e&&e.getDataParams(n);t.axisDim=i.axisDim,t.axisIndex=i.axisIndex,t.axisType=i.axisType,t.axisId=i.axisId,t.axisValue=Oo(o.axis,a),t.axisValueLabel=r,t&&(u.push(t),s.push(e.formatTooltip(n,!0)))}),h.push((r?li(r)+"<br />":"")+s.join("<br />")))})},this),h.reverse(),h=h.join("<br /><br />");var o=e.position;this._showOrMove(r,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(r,o,i[0],i[1],this._tooltipContent,u):this._showTooltipContent(r,h,u,Math.random(),i[0],i[1],o)})},_showSeriesItemTooltip:function(t,e,n){var i,r,o,a=this._ecModel,s=e.seriesIndex,l=a.getSeriesByIndex(s),h=e.dataModel||l,u=e.dataIndex,a=e.dataType,e=h.getData(),c=Ea([e.getItemModel(u),h,l&&(l.coordinateSystem||{}).model,this._tooltipModel]),l=c.get("trigger");null!=l&&"item"!==l||(i=h.getDataParams(u,a),r=h.formatTooltip(u,!1,a),o="item_"+h.name+"_"+u,this._showOrMove(c,function(){this._showTooltipContent(c,r,i,o,t.offsetX,t.offsetY,t.position,t.target)}),n({type:"showTip",dataIndexInside:u,dataIndex:e.getRawIndex(u),seriesIndex:s,from:this.uid}))},_showComponentItemTooltip:function(t,e,n){var i=e.tooltip;"string"==typeof i&&(i={content:i,formatter:i});var r=new jn(i,this._tooltipModel,this._ecModel),o=r.get("content"),a=Math.random();this._showOrMove(r,function(){this._showTooltipContent(r,o,r.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(n,t,i,e,r,o,a,s){var l,h,u;this._ticket="",n.get("showContent")&&n.get("show")&&(l=this._tooltipContent,h=n.get("formatter"),a=a||n.get("position"),u=t,h&&"string"==typeof h?u=hi(h,i,!0):"function"==typeof h&&(t=Cf(function(t,e){t===this._ticket&&(l.setContent(e),this._updatePosition(n,a,r,o,l,i,s))},this),this._ticket=e,u=h(i,e,t)),l.setContent(u),l.show(n),this._updatePosition(n,a,r,o,l,i,s))},_updatePosition:function(t,e,n,i,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var h,u,c,d,f=r.getSize(),p=t.get("align"),g=t.get("verticalAlign"),m=a&&a.getBoundingRect().clone();a&&m.applyTransform(a.transform),"function"==typeof e&&(e=e([n,i],o,r.el,m,{viewSize:[s,l],contentSize:f.slice()})),A(e)?(n=Df(e[0],s),i=Df(e[1],l)):O(e)?(e.width=f[0],e.height=f[1],n=(c=pi(e,{width:s,height:l})).x,i=c.y,g=p=null):i=(n=(d="string"==typeof e&&a?function(t,e,n){var i=n[0],r=n[1],o=0,a=0,s=e.width,n=e.height;switch(t){case"inside":o=e.x+s/2-i/2,a=e.y+n/2-r/2;break;case"top":o=e.x+s/2-i/2,a=e.y-r-5;break;case"bottom":o=e.x+s/2-i/2,a=e.y+n+5;break;case"left":o=e.x-i-5,a=e.y+n/2-r/2;break;case"right":o=e.x+s+5,a=e.y+n/2-r/2}return[o,a]}(e,m,f):(h=n,d=i,u=r.el,o=s,c=l,a=p?null:20,e=g?null:20,u=(m=za(u)).width,m=m.height,null!=a&&(o<h+u+a?h-=u+a:h+=a),null!=e&&(c<d+m+e?d-=m+e:d+=e),[h,d]))[0],d[1]),p&&(n-=Na(p)?f[0]/2:"right"===p?f[0]:0),g&&(i-=Na(g)?f[1]/2:"bottom"===g?f[1]:0),t.get("confine")&&(n=(d=(p=n,g=i,f=r.el,t=s,s=l,f=(l=za(f)).width,l=l.height,p=Math.min(p+f,t)-f,g=Math.min(g+l,s)-l,[p=Math.max(p,0),g=Math.max(g,0)]))[0],i=d[1]),r.moveTo(n,i)},_updateContentNotChangedOnAxis:function(n){var t=this._lastDataByCoordSys,o=!!t&&t.length===n.length;return o&&If(t,function(t,e){var t=t.dataByAxis||{},r=(n[e]||{}).dataByAxis||[];(o&=t.length===r.length)&&If(t,function(t,e){var n=r[e]||{},e=t.seriesDataIndices||[],i=n.seriesDataIndices||[];(o&=t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&e.length===i.length)&&If(e,function(t,e){e=i[e];o&=t.seriesIndex===e.seriesIndex&&t.dataIndex===e.dataIndex})})}),this._lastDataByCoordSys=n,!!o},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){Ua.node||Ua.wxa||(this._tooltipContent.hide(),ba("itemTooltip",e))}}),Wr({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Wr({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),t.version="4.1.0",t.dependencies={zrender:"4.0.4"},t.PRIORITY=Ka,t.init=function(t,e,n){var i,r,o=Nr(t);return o||((n=new Mr(t,e,n)).id="ec_"+nd++,td[n.id]=n,Ee(t,rd,n.id),i=n,r="__connectUpdateStatus",zc(Uc,function(t,e){i._messageCenter.on(e,function(t){if(ed[i.group]&&0!==i[r]){if(t&&t.escapeConnect)return;var e=i.makeActionFromEvent(t),n=[];zc(td,function(t){t!==i&&t.group===i.group&&n.push(t)}),a(n,0),zc(n,function(t){1!==t[r]&&t.dispatchAction(e)}),a(n,2)}})}),n);function a(t,e){for(var n=0;n<t.length;n++){t[n][r]=e}}},t.connect=function(e){var t;return A(e)&&(t=e,e=null,zc(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+id++,zc(t,function(t){t.group=e})),ed[e]=!0,e},t.disConnect=zr,t.disconnect=kl,t.dispose=function(t){"string"==typeof t?t=td[t]:t instanceof Mr||(t=Nr(t)),t instanceof Mr&&!t.isDisposed()&&t.dispose()},t.getInstanceByDom=Nr,t.getInstanceById=function(t){return td[t]},t.registerTheme=Fr,t.registerPreprocessor=Hr,t.registerProcessor=Vr,t.registerPostUpdate=function(t){$c.push(t)},t.registerAction=Wr,t.registerCoordinateSystem=function(t,e){Ii.register(t,e)},t.getCoordinateSystemDimensions=function(t){return(t=Ii.get(t))?t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice():void 0},t.registerLayout=Gr,t.registerVisual=Xr,t.registerLoading=qr,t.extendComponentModel=Ur,t.extendComponentView=jr,t.extendSeriesModel=Zr,t.extendChartView=function(t){return ir.extend(t)},t.setCanvasCreator=function(t){var e;e=t,(t="createCanvas")===t&&(rs=null),is[t]=e},t.registerMap=function(t,e,n){e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),od[t]={geoJson:e,specialAreas:n}},t.getMap=function(t){return od[t]},t.dataTool={}});